(function(A){if(typeof define==="function"&&define.amd){define(["jquery"],A)}else{if(typeof exports==="object"){A(require("jquery"))}else{A(jQuery)}}}(function(C){var B=function(E,D){this.$element=C(E);this.options=C.extend({},B.DEFAULTS,this.dataOptions(),D);this.init()};B.DEFAULTS={from:0,to:0,speed:1000,refreshInterval:100,decimals:0,formatter:A,onUpdate:null,onComplete:null};B.prototype.init=function(){this.value=this.options.from;this.loops=Math.ceil(this.options.speed/this.options.refreshInterval);this.loopCount=0;this.increment=(this.options.to-this.options.from)/this.loops};B.prototype.dataOptions=function(){var F={from:this.$element.data("from"),to:this.$element.data("to"),speed:this.$element.data("speed"),refreshInterval:this.$element.data("refresh-interval"),decimals:this.$element.data("decimals")};var G=Object.keys(F);for(var E in G){var D=G[E];if(typeof(F[D])==="undefined"){delete F[D]}}return F};B.prototype.update=function(){this.value+=this.increment;this.loopCount++;this.render();if(typeof(this.options.onUpdate)=="function"){this.options.onUpdate.call(this.$element,this.value)}if(this.loopCount>=this.loops){clearInterval(this.interval);this.value=this.options.to;if(typeof(this.options.onComplete)=="function"){this.options.onComplete.call(this.$element,this.value)}}};B.prototype.render=function(){var D=this.options.formatter.call(this.$element,this.value,this.options);this.$element.text(D)};B.prototype.restart=function(){this.stop();this.init();this.start()};B.prototype.start=function(){this.stop();this.render();this.interval=setInterval(this.update.bind(this),this.options.refreshInterval)};B.prototype.stop=function(){if(this.interval){clearInterval(this.interval)}};B.prototype.toggle=function(){if(this.interval){this.stop()}else{this.start()}};function A(E,D){return E.toFixed(D.decimals)}C.fn.countTo=function(D){return this.each(function(){var E=C(this);var I=E.data("countTo");var H=!I||typeof(D)==="object";var F=typeof(D)==="object"?D:{};var G=typeof(D)==="string"?D:"start";if(H){if(I){I.stop()}E.data("countTo",I=new B(this,F))}I[G].call(I)})}}));