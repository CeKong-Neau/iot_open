(function(A,B){typeof exports==="object"&&typeof module!=="undefined"?B(exports):typeof define==="function"&&define.amd?define(["exports"],B):(B((A.echarts={})))}(this,(function(Y7){var Kc;if(typeof window!=="undefined"){Kc=window.__DEV__}else{if(typeof global!=="undefined"){Kc=global.__DEV__}}if(typeof Kc==="undefined"){Kc=true}var Vo=Kc;var A2=2311;var By=function(){return A2++};var dA={};if(typeof navigator==="undefined"){dA={browser:{},os:{},node:true,canvasSupported:true,svgSupported:true}}else{dA=FR(navigator.userAgent)}var PF=dA;function FR(WH){var e={};var Z={};var k=WH.match(/Firefox\/([\d.]+)/);var PI=WH.match(/MSIE\s([\d.]+)/)||WH.match(/Trident\/.+?rv:(([\d.]+))/);var i=WH.match(/Edge\/([\d.]+)/);var v=(/micromessenger/i).test(WH);if(k){Z.firefox=true;Z.version=k[1]}if(PI){Z.ie=true;Z.version=PI[1]}if(i){Z.edge=true;Z.version=i[1]}if(v){Z.weChat=true}return{browser:Z,os:e,node:false,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:typeof SVGRect!=="undefined",touchEventsSupported:"ontouchstart" in window&&!Z.ie&&!Z.edge,pointerEventsSupported:"onpointerdown" in window&&(Z.edge||(Z.ie&&Z.version>=11))}}var N5={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1};var YK={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1};var MT=Object.prototype.toString;var Rd=Array.prototype;var Pq=Rd.forEach;var FM=Rd.filter;var Dl=Rd.slice;var Kl=Rd.map;var H1=Rd.reduce;var Uy={};function Cv(e,Z){Uy[e]=Z}function dp(v){if(v==null||typeof v!="object"){return v}var WH=v;var k=MT.call(v);if(k==="[object Array]"){WH=[];for(var e=0,PI=v.length;e<PI;e++){WH[e]=dp(v[e])}}else{if(YK[k]){var XY=v.constructor;if(v.constructor.from){WH=XY.from(v)}else{WH=new XY(v.length);for(var e=0,PI=v.length;e<PI;e++){WH[e]=dp(v[e])}}}else{if(!N5[k]&&!J9(v)&&!XA(v)){WH={};for(var Z in v){if(v.hasOwnProperty(Z)){WH[Z]=dp(v[Z])}}}}}return WH}function KT(k,e,i){if(!Q(e)||!Q(k)){return i?dp(e):k}for(var Z in e){if(e.hasOwnProperty(Z)){var v=k[Z];var PI=e[Z];if(Q(PI)&&Q(v)&&!aO(PI)&&!aO(v)&&!XA(PI)&&!XA(v)&&!Ih(PI)&&!Ih(v)&&!J9(PI)&&!J9(v)){KT(v,PI,i)}else{if(i||!(Z in k)){k[Z]=dp(e[Z],true)}}}}return k}function FJ(k,PI){var e=k[0];for(var Z=1,v=k.length;Z<v;Z++){e=KT(e,k[Z],PI)}return e}function V8(i,e){for(var Z in e){if(e.hasOwnProperty(Z)){i[Z]=e[Z]}}return i}function Id(k,e,i){for(var Z in e){if(e.hasOwnProperty(Z)&&(i?e[Z]!=null:k[Z]==null)){k[Z]=e[Z]}}return k}var d0=function(){return Uy.createCanvas()};Uy.createCanvas=function(){return document.createElement("canvas")};var Js;function L9(){if(!Js){Js=d0().getContext("2d")}return Js}function Fx(Z,v){if(Z){if(Z.indexOf){return Z.indexOf(v)}for(var e=0,k=Z.length;e<k;e++){if(Z[e]===v){return e}}}return -1}function JO(k,i){var Z=k.prototype;function e(){}e.prototype=i.prototype;k.prototype=new e();for(var v in Z){k.prototype[v]=Z[v]}k.prototype.constructor=k;k.superClass=i}function cq(i,Z,e){i="prototype" in i?i.prototype:i;Z="prototype" in Z?Z.prototype:Z;Id(i,Z,e)}function KJ(Z){if(!Z){return}if(typeof Z=="string"){return false}return typeof Z.length=="number"}function Dc(k,Z,e){if(!(k&&Z)){return}if(k.forEach&&k.forEach===Pq){k.forEach(Z,e)}else{if(k.length===+k.length){for(var v=0,PI=k.length;v<PI;v++){Z.call(e,k[v],v,k)}}else{for(var WH in k){if(k.hasOwnProperty(WH)){Z.call(e,k[WH],WH,k)}}}}}function PK(k,Z,e){if(!(k&&Z)){return}if(k.map&&k.map===Kl){return k.map(Z,e)}else{var v=[];for(var PI=0,WH=k.length;PI<WH;PI++){v.push(Z.call(e,k[PI],PI,k))}return v}}function EB(k,Z,v,e){if(!(k&&Z)){return}if(k.reduce&&k.reduce===H1){return k.reduce(Z,v,e)}else{for(var PI=0,WH=k.length;PI<WH;PI++){v=Z.call(e,v,k[PI],PI,k)}return v}}function Zs(k,Z,e){if(!(k&&Z)){return}if(k.filter&&k.filter===FM){return k.filter(Z,e)}else{var v=[];for(var PI=0,WH=k.length;PI<WH;PI++){if(Z.call(e,k[PI],PI,k)){v.push(k[PI])}}return v}}function cZ(k,Z,e){if(!(k&&Z)){return}for(var v=0,PI=k.length;v<PI;v++){if(Z.call(e,k[v],v,k)){return k[v]}}}function b3(e,Z){var i=Dl.call(arguments,2);return function(){return e.apply(Z,i.concat(Dl.call(arguments)))}}function aT(Z){var e=Dl.call(arguments,1);return function(){return Z.apply(this,e.concat(Dl.call(arguments)))}}function aO(Z){return MT.call(Z)==="[object Array]"}function dU(Z){return typeof Z==="function"}function DY(Z){return MT.call(Z)==="[object String]"}function Q(e){var Z=typeof e;return Z==="function"||(!!e&&Z=="object")}function Ih(Z){return !!N5[MT.call(Z)]}function XA(Z){return typeof Z==="object"&&typeof Z.nodeType==="number"&&typeof Z.ownerDocument==="object"}function eh(Z){return Z!==Z}function Ew(k){for(var Z=0,e=arguments.length;Z<e;Z++){if(arguments[Z]!=null){return arguments[Z]}}}function TR(Z,e){return Z!=null?Z:e}function TQ(Z,e,i){return Z!=null?Z:e!=null?e:i}function BW(){return Function.call.apply(Dl,arguments)}function Ur(e){if(typeof(e)==="number"){return[e,e,e,e]}var Z=e.length;if(Z===2){return[e[0],e[1],e[0],e[1]]}else{if(Z===3){return[e[0],e[1],e[2],e[1]]}}return e}function Re(Z,e){if(!Z){throw new Error(e)}}var bY="__ec_primitive__";function PB(Z){Z[bY]=true}function J9(Z){return Z[bY]}function Kb(Z){Z&&Dc(Z,function(i,e){this.set(e,i)},this)}var Hy="_ec_";var cK=4;Kb.prototype={constructor:Kb,get:function(Z){return this[Hy+Z]},set:function(Z,e){this[Hy+Z]=e;return e},each:function(Z,e){e!==void 0&&(Z=b3(Z,e));for(var i in this){this.hasOwnProperty(i)&&Z(this[i],i.slice(cK))}},removeKey:function(Z){delete this[Hy+Z]}};function EY(Z){return new Kb(Z)}function ed(){}var bA=(Object.freeze||Object)({$override:Cv,clone:dp,merge:KT,mergeAll:FJ,extend:V8,defaults:Id,createCanvas:d0,getContext:L9,indexOf:Fx,inherits:JO,mixin:cq,isArrayLike:KJ,each:Dc,map:PK,reduce:EB,filter:Zs,find:cZ,bind:b3,curry:aT,isArray:aO,isFunction:dU,isString:DY,isObject:Q,isBuiltInObject:Ih,isDom:XA,eqNaN:eh,retrieve:Ew,retrieve2:TR,retrieve3:TQ,slice:BW,normalizeCssArray:Ur,assert:Re,setAsPrimitive:PB,isPrimitive:J9,createHashMap:EY,noop:ed});var BO=typeof Float32Array==="undefined"?Array:Float32Array;function bl(e,i){var Z=new BO(2);if(e==null){e=0}if(i==null){i=0}Z[0]=e;Z[1]=i;return Z}function He(Z,e){Z[0]=e[0];Z[1]=e[1];return Z}function XP(Z){var e=new BO(2);e[0]=Z[0];e[1]=Z[1];return e}function VZ(Z,i,e){Z[0]=i;Z[1]=e;return Z}function Zh(Z,e,i){Z[0]=e[0]+i[0];Z[1]=e[1]+i[1];return Z}function G9(Z,e,k,i){Z[0]=e[0]+k[0]*i;Z[1]=e[1]+k[1]*i;return Z}function M3(Z,e,i){Z[0]=e[0]-i[0];Z[1]=e[1]-i[1];return Z}function ZX(Z){return Math.sqrt(et(Z))}var L3=ZX;function et(Z){return Z[0]*Z[0]+Z[1]*Z[1]}var Q0=et;function QB(Z,e,i){Z[0]=e[0]*i[0];Z[1]=e[1]*i[1];return Z}function cm(Z,e,i){Z[0]=e[0]/i[0];Z[1]=e[1]/i[1];return Z}function g(Z,e){return Z[0]*e[0]+Z[1]*e[1]}function Ce(e,i,Z){e[0]=i[0]*Z;e[1]=i[1]*Z;return e}function a9(e,i){var Z=ZX(i);if(Z===0){e[0]=0;e[1]=0}else{e[0]=i[0]/Z;e[1]=i[1]/Z}return e}function MN(Z,e){return Math.sqrt((Z[0]-e[0])*(Z[0]-e[0])+(Z[1]-e[1])*(Z[1]-e[1]))}var Uv=MN;function dO(Z,e){return(Z[0]-e[0])*(Z[0]-e[0])+(Z[1]-e[1])*(Z[1]-e[1])}var FW=dO;function JT(Z,e){Z[0]=-e[0];Z[1]=-e[1];return Z}function YQ(Z,e,k,i){Z[0]=e[0]+i*(k[0]-e[0]);Z[1]=e[1]+i*(k[1]-e[1]);return Z}function HV(Z,e,i){var k=e[0];var PI=e[1];Z[0]=i[0]*k+i[2]*PI+i[4];Z[1]=i[1]*k+i[3]*PI+i[5];return Z}function db(Z,e,i){Z[0]=Math.min(e[0],i[0]);Z[1]=Math.min(e[1],i[1]);return Z}function PV(Z,e,i){Z[0]=Math.max(e[0],i[0]);Z[1]=Math.max(e[1],i[1]);return Z}var Fz=(Object.freeze||Object)({create:bl,copy:He,clone:XP,set:VZ,add:Zh,scaleAndAdd:G9,sub:M3,len:ZX,length:L3,lenSquare:et,lengthSquare:Q0,mul:QB,div:cm,dot:g,scale:Ce,normalize:a9,distance:MN,dist:Uv,distanceSquare:dO,distSquare:FW,negate:JT,lerp:YQ,applyTransform:HV,min:db,max:PV});function CT(){this.on("mousedown",this._dragStart,this);this.on("mousemove",this._drag,this);this.on("mouseup",this._dragEnd,this);this.on("globalout",this._dragEnd,this)}CT.prototype={constructor:CT,_dragStart:function(Z){var i=Z.target;if(i&&i.draggable){this._draggingTarget=i;i.dragging=true;this._x=Z.offsetX;this._y=Z.offsetY;this.dispatchToElement(Nl(i,Z),"dragstart",Z.event)}},_drag:function(Z){var i=this._draggingTarget;if(i){var WH=Z.offsetX;var XY=Z.offsetY;var PI=WH-this._x;var v=XY-this._y;this._x=WH;this._y=XY;i.drift(PI,v,Z);this.dispatchToElement(Nl(i,Z),"drag",Z.event);var Z2=this.findHover(WH,XY,i).target;var k=this._dropTarget;this._dropTarget=Z2;if(i!==Z2){if(k&&Z2!==k){this.dispatchToElement(Nl(k,Z),"dragleave",Z.event)}if(Z2&&Z2!==k){this.dispatchToElement(Nl(Z2,Z),"dragenter",Z.event)}}}},_dragEnd:function(Z){var i=this._draggingTarget;if(i){i.dragging=false}this.dispatchToElement(Nl(i,Z),"dragend",Z.event);if(this._dropTarget){this.dispatchToElement(Nl(this._dropTarget,Z),"drop",Z.event)}this._draggingTarget=null;this._dropTarget=null}};function Nl(i,Z){return{target:i,topTarget:Z&&Z.topTarget}}var Ik=Array.prototype.slice;var at=function(){this._$handlers={}};at.prototype={constructor:at,one:function(v,k,Z){var PI=this._$handlers;if(!k||!v){return this}if(!PI[v]){PI[v]=[]}for(var e=0;e<PI[v].length;e++){if(PI[v][e].h===k){return this}}PI[v].push({h:k,one:true,ctx:Z||this});return this},on:function(v,k,Z){var PI=this._$handlers;if(!k||!v){return this}if(!PI[v]){PI[v]=[]}for(var e=0;e<PI[v].length;e++){if(PI[v][e].h===k){return this}}PI[v].push({h:k,one:false,ctx:Z||this});return this},isSilent:function(Z){var e=this._$handlers;return e[Z]&&e[Z].length},off:function(PI,k){var WH=this._$handlers;if(!PI){this._$handlers={};return this}if(k){if(WH[PI]){var Z=[];for(var e=0,v=WH[PI].length;e<v;e++){if(WH[PI][e]["h"]!=k){Z.push(WH[PI][e])}}WH[PI]=Z}if(WH[PI]&&WH[PI].length===0){delete WH[PI]}}else{delete WH[PI]}return this},trigger:function(Z){if(this._$handlers[Z]){var WH=arguments;var k=WH.length;if(k>3){WH=Ik.call(WH,1)}var PI=this._$handlers[Z];var v=PI.length;for(var e=0;e<v;){switch(k){case 1:PI[e]["h"].call(PI[e]["ctx"]);break;case 2:PI[e]["h"].call(PI[e]["ctx"],WH[1]);break;case 3:PI[e]["h"].call(PI[e]["ctx"],WH[1],WH[2]);break;default:PI[e]["h"].apply(PI[e]["ctx"],WH);break}if(PI[e]["one"]){PI.splice(e,1);v--}else{e++}}}return this},triggerWithContext:function(Z){if(this._$handlers[Z]){var XY=arguments;var k=XY.length;if(k>4){XY=Ik.call(XY,1,XY.length-1)}var PI=XY[XY.length-1];var WH=this._$handlers[Z];var v=WH.length;for(var e=0;e<v;){switch(k){case 1:WH[e]["h"].call(PI);break;case 2:WH[e]["h"].call(PI,XY[1]);break;case 3:WH[e]["h"].call(PI,XY[1],XY[2]);break;default:WH[e]["h"].apply(PI,XY);break}if(WH[e]["one"]){WH.splice(e,1);v--}else{e++}}}return this}};var EQ="silent";function TL(Z,e,i){return{type:Z,event:i,target:e.target,topTarget:e.topTarget,cancelBubble:false,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which}}function LE(){}LE.prototype.dispose=function(){};var OV=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];var IU=function(Z,e,i,k){at.call(this);this.storage=Z;this.painter=e;this.painterRoot=k;i=i||new LE();this.proxy=i;i.handler=this;this._hovered={};this._lastTouchMoment;this._lastX;this._lastY;CT.call(this);Dc(OV,function(v){i.on&&i.on(v,this[v],this)},this)};IU.prototype={constructor:IU,mousemove:function(e){var v=e.zrX;var PI=e.zrY;var WH=this._hovered;var k=WH.target;if(k&&!k.__zr){WH=this.findHover(WH.x,WH.y);k=WH.target}var XY=this._hovered=this.findHover(v,PI);var i=XY.target;var Z=this.proxy;Z.setCursor&&Z.setCursor(i?i.cursor:"default");if(k&&i!==k){this.dispatchToElement(WH,"mouseout",e)}this.dispatchToElement(XY,"mousemove",e);if(i&&i!==k){this.dispatchToElement(XY,"mouseover",e)}},mouseout:function(e){this.dispatchToElement(this._hovered,"mouseout",e);var i=e.toElement||e.relatedTarget;var Z;do{i=i&&i.parentNode}while(i&&i.nodeType!=9&&!(Z=i===this.painterRoot));!Z&&this.trigger("globalout",{event:e})},resize:function(Z){this._hovered={}},dispatch:function(e,i){var Z=this[e];Z&&Z.call(this,i)},dispose:function(){this.proxy.dispose();this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var Z=this.proxy;Z.setCursor&&Z.setCursor(e)},dispatchToElement:function(i,e,PI){i=i||{};var Z=i.target;if(Z&&Z.silent){return}var v="on"+e;var k=TL(e,i,PI);while(Z){Z[v]&&(k.cancelBubble=Z[v].call(Z,k));Z.trigger(e,k);Z=Z.parent;if(k.cancelBubble){break}}if(!k.cancelBubble){this.trigger(e,k);this.painter&&this.painter.eachOtherLayer(function(WH){if(typeof(WH[v])=="function"){WH[v].call(WH,k)}if(WH.trigger){WH.trigger(e,k)}})}},findHover:function(WH,XY,v){var k=this.storage.getDisplayList();var PI={x:WH,y:XY};for(var Z=k.length-1;Z>=0;Z--){var e;if(k[Z]!==v&&!k[Z].ignore&&(e=Wd(k[Z],WH,XY))){!PI.topTarget&&(PI.topTarget=k[Z]);if(e!==EQ){PI.target=k[Z];break}}}return PI}};Dc(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(Z){IU.prototype[Z]=function(i){var e=this.findHover(i.zrX,i.zrY);var k=e.target;if(Z==="mousedown"){this._downEl=k;this._downPoint=[i.zrX,i.zrY];this._upEl=k}else{if(Z==="mosueup"){this._upEl=k}else{if(Z==="click"){if(this._downEl!==this._upEl||!this._downPoint||Uv(this._downPoint,[i.zrX,i.zrY])>4){return}this._downPoint=null}}}this.dispatchToElement(e,Z,i)}});function Wd(e,i,k){if(e[e.rectHover?"rectContain":"contain"](i,k)){var Z=e;var v;while(Z){if(Z.clipPath&&!Z.clipPath.contain(i,k)){return false}if(Z.silent){v=true}Z=Z.parent}return v?EQ:true}return false}cq(IU,at);cq(IU,CT);var be=typeof Float32Array==="undefined"?Array:Float32Array;function Hx(){var Z=new be(6);cd(Z);return Z}function cd(Z){Z[0]=1;Z[1]=0;Z[2]=0;Z[3]=1;Z[4]=0;Z[5]=0;return Z}function a5(Z,e){Z[0]=e[0];Z[1]=e[1];Z[2]=e[2];Z[3]=e[3];Z[4]=e[4];Z[5]=e[5];return Z}function OY(Z,e,i){var Z2=e[0]*i[0]+e[2]*i[1];var k=e[1]*i[0]+e[3]*i[1];var v=e[0]*i[2]+e[2]*i[3];var XY=e[1]*i[2]+e[3]*i[3];var WH=e[0]*i[4]+e[2]*i[5]+e[4];var PI=e[1]*i[4]+e[3]*i[5]+e[5];Z[0]=Z2;Z[1]=k;Z[2]=v;Z[3]=XY;Z[4]=WH;Z[5]=PI;return Z}function Xo(Z,i,e){Z[0]=i[0];Z[1]=i[1];Z[2]=i[2];Z[3]=i[3];Z[4]=i[4]+e[0];Z[5]=i[5]+e[1];return Z}function cF(e,Z2,PI){var i=Z2[0];var XY=Z2[2];var eF=Z2[4];var k=Z2[1];var Z=Z2[3];var cc=Z2[5];var v=Math.sin(PI);var WH=Math.cos(PI);e[0]=i*WH+k*v;e[1]=-i*v+k*WH;e[2]=XY*WH+Z*v;e[3]=-XY*v+WH*Z;e[4]=WH*eF+v*cc;e[5]=WH*cc-v*eF;return e}function JZ(Z,k,e){var i=e[0];var PI=e[1];Z[0]=k[0]*i;Z[1]=k[1]*PI;Z[2]=k[2]*i;Z[3]=k[3]*PI;Z[4]=k[4]*i;Z[5]=k[5]*PI;return Z}function Dj(e,WH){var i=WH[0];var PI=WH[2];var Z2=WH[4];var k=WH[1];var Z=WH[3];var XY=WH[5];var v=i*Z-k*PI;if(!v){return null}v=1/v;e[0]=Z*v;e[1]=-k*v;e[2]=-PI*v;e[3]=i*v;e[4]=(PI*XY-Z*Z2)*v;e[5]=(k*Z2-i*XY)*v;return e}var Za=(Object.freeze||Object)({create:Hx,identity:cd,copy:a5,mul:OY,translate:Xo,rotate:cF,scale:JZ,invert:Dj});var E8=cd;var Oi=5e-05;function ZT(Z){return Z>Oi||Z<-Oi}var SO=function(Z){Z=Z||{};if(!Z.position){this.position=[0,0]}if(Z.rotation==null){this.rotation=0}if(!Z.scale){this.scale=[1,1]}this.origin=this.origin||null};var CW=SO.prototype;CW.transform=null;CW.needLocalTransform=function(){return ZT(this.rotation)||ZT(this.position[0])||ZT(this.position[1])||ZT(this.scale[0]-1)||ZT(this.scale[1]-1)};CW.updateTransform=function(){var k=this.parent;var Z=k&&k.transform;var e=this.needLocalTransform();var i=this.transform;if(!(e||Z)){i&&E8(i);return}i=i||Hx();if(e){this.getLocalTransform(i)}else{E8(i)}if(Z){if(e){OY(i,k.transform,i)}else{a5(i,k.transform)}}this.transform=i;this.invTransform=this.invTransform||Hx();Dj(this.invTransform,i)};CW.getLocalTransform=function(Z){return SO.getLocalTransform(this,Z)};CW.setTransform=function(e){var Z=this.transform;var i=e.dpr||1;if(Z){e.setTransform(i*Z[0],i*Z[1],i*Z[2],i*Z[3],i*Z[4],i*Z[5])}else{e.setTransform(i,0,0,i,0,0)}};CW.restoreTransform=function(Z){var e=Z.dpr||1;Z.setTransform(e,0,0,e,0,0)};var Cz=[];CW.decomposeTransform=function(){if(!this.transform){return}var v=this.parent;var i=this.transform;if(v&&v.transform){OY(Cz,v.invTransform,i);i=Cz}var e=i[0]*i[0]+i[1]*i[1];var k=i[2]*i[2]+i[3]*i[3];var Z=this.position;var PI=this.scale;if(ZT(e-1)){e=Math.sqrt(e)}if(ZT(k-1)){k=Math.sqrt(k)}if(i[0]<0){e=-e}if(i[3]<0){k=-k}Z[0]=i[4];Z[1]=i[5];PI[0]=e;PI[1]=k;this.rotation=Math.atan2(-i[1]/k,i[0]/e)};CW.getGlobalScale=function(){var e=this.transform;if(!e){return[1,1]}var Z=Math.sqrt(e[0]*e[0]+e[1]*e[1]);var i=Math.sqrt(e[2]*e[2]+e[3]*e[3]);if(e[0]<0){Z=-Z}if(e[3]<0){i=-i}return[Z,i]};CW.transformCoordToLocal=function(Z,e){var k=[Z,e];var i=this.invTransform;if(i){HV(k,k,i)}return k};CW.transformCoordToGlobal=function(e,i){var k=[e,i];var Z=this.transform;if(Z){HV(k,k,Z)}return k};SO.getLocalTransform=function(v,k){k=k||[];E8(k);var e=v.origin;var PI=v.scale||[1,1];var i=v.rotation||0;var Z=v.position||[0,0];if(e){k[4]-=e[0];k[5]-=e[1]}JZ(k,k,PI);if(i){cF(k,k,i)}if(e){k[4]+=e[0];k[5]+=e[1]}k[4]+=Z[0];k[5]+=Z[1];return k};var d7={linear:function(Z){return Z},quadraticIn:function(Z){return Z*Z},quadraticOut:function(Z){return Z*(2-Z)},quadraticInOut:function(Z){if((Z*=2)<1){return 0.5*Z*Z}return -0.5*(--Z*(Z-2)-1)},cubicIn:function(Z){return Z*Z*Z},cubicOut:function(Z){return --Z*Z*Z+1},cubicInOut:function(Z){if((Z*=2)<1){return 0.5*Z*Z*Z}return 0.5*((Z-=2)*Z*Z+2)},quarticIn:function(Z){return Z*Z*Z*Z},quarticOut:function(Z){return 1-(--Z*Z*Z*Z)},quarticInOut:function(Z){if((Z*=2)<1){return 0.5*Z*Z*Z*Z}return -0.5*((Z-=2)*Z*Z*Z-2)},quinticIn:function(Z){return Z*Z*Z*Z*Z},quinticOut:function(Z){return --Z*Z*Z*Z*Z+1},quinticInOut:function(Z){if((Z*=2)<1){return 0.5*Z*Z*Z*Z*Z}return 0.5*((Z-=2)*Z*Z*Z*Z+2)},sinusoidalIn:function(Z){return 1-Math.cos(Z*Math.PI/2)},sinusoidalOut:function(Z){return Math.sin(Z*Math.PI/2)},sinusoidalInOut:function(Z){return 0.5*(1-Math.cos(Math.PI*Z))},exponentialIn:function(Z){return Z===0?0:Math.pow(1024,Z-1)},exponentialOut:function(Z){return Z===1?1:1-Math.pow(2,-10*Z)},exponentialInOut:function(Z){if(Z===0){return 0}if(Z===1){return 1}if((Z*=2)<1){return 0.5*Math.pow(1024,Z-1)}return 0.5*(-Math.pow(2,-10*(Z-1))+2)},circularIn:function(Z){return 1-Math.sqrt(1-Z*Z)},circularOut:function(Z){return Math.sqrt(1-(--Z*Z))},circularInOut:function(Z){if((Z*=2)<1){return -0.5*(Math.sqrt(1-Z*Z)-1)}return 0.5*(Math.sqrt(1-(Z-=2)*Z)+1)},elasticIn:function(v){var Z;var i=0.1;var e=0.4;if(v===0){return 0}if(v===1){return 1}if(!i||i<1){i=1;Z=e/4}else{Z=e*Math.asin(1/i)/(2*Math.PI)}return -(i*Math.pow(2,10*(v-=1))*Math.sin((v-Z)*(2*Math.PI)/e))},elasticOut:function(v){var Z;var i=0.1;var e=0.4;if(v===0){return 0}if(v===1){return 1}if(!i||i<1){i=1;Z=e/4}else{Z=e*Math.asin(1/i)/(2*Math.PI)}return(i*Math.pow(2,-10*v)*Math.sin((v-Z)*(2*Math.PI)/e)+1)},elasticInOut:function(v){var Z;var i=0.1;var e=0.4;if(v===0){return 0}if(v===1){return 1}if(!i||i<1){i=1;Z=e/4}else{Z=e*Math.asin(1/i)/(2*Math.PI)}if((v*=2)<1){return -0.5*(i*Math.pow(2,10*(v-=1))*Math.sin((v-Z)*(2*Math.PI)/e))}return i*Math.pow(2,-10*(v-=1))*Math.sin((v-Z)*(2*Math.PI)/e)*0.5+1},backIn:function(e){var Z=1.70158;return e*e*((Z+1)*e-Z)},backOut:function(e){var Z=1.70158;return --e*e*((Z+1)*e+Z)+1},backInOut:function(e){var Z=1.70158*1.525;if((e*=2)<1){return 0.5*(e*e*((Z+1)*e-Z))}return 0.5*((e-=2)*e*((Z+1)*e+Z)+2)},bounceIn:function(Z){return 1-d7.bounceOut(1-Z)},bounceOut:function(Z){if(Z<(1/2.75)){return 7.5625*Z*Z}else{if(Z<(2/2.75)){return 7.5625*(Z-=(1.5/2.75))*Z+0.75}else{if(Z<(2.5/2.75)){return 7.5625*(Z-=(2.25/2.75))*Z+0.9375}else{return 7.5625*(Z-=(2.625/2.75))*Z+0.984375}}}},bounceInOut:function(Z){if(Z<0.5){return d7.bounceIn(Z*2)*0.5}return d7.bounceOut(Z*2-1)*0.5+0.5}};function az(Z){this._target=Z.target;this._life=Z.life||1000;this._delay=Z.delay||0;this._initialized=false;this.loop=Z.loop==null?false:Z.loop;this.gap=Z.gap||0;this.easing=Z.easing||"Linear";this.onframe=Z.onframe;this.ondestroy=Z.ondestroy;this.onrestart=Z.onrestart;this._pausedTime=0;this._paused=false}az.prototype={constructor:az,step:function(Z,PI){if(!this._initialized){this._startTime=Z+this._delay;this._initialized=true}if(this._paused){this._pausedTime+=PI;return}var e=(Z-this._startTime-this._pausedTime)/this._life;if(e<0){return}e=Math.min(e,1);var k=this.easing;var i=typeof k=="string"?d7[k]:k;var v=typeof i==="function"?i(e):e;this.fire("frame",v);if(e==1){if(this.loop){this.restart(Z);return"restart"}this._needsRemove=true;return"destroy"}return null},restart:function(Z){var e=(Z-this._startTime-this._pausedTime)%this._life;this._startTime=Z-e+this.gap;this._pausedTime=0;this._needsRemove=false},fire:function(Z,e){Z="on"+Z;if(this[Z]){this[Z](this._target,e)}},pause:function(){this._paused=true},resume:function(){this._paused=false}};var XU=function(){this.head=null;this.tail=null;this._len=0};var Lb=XU.prototype;Lb.insert=function(e){var Z=new Pi(e);this.insertEntry(Z);return Z};Lb.insertEntry=function(Z){if(!this.head){this.head=this.tail=Z}else{this.tail.next=Z;Z.prev=this.tail;Z.next=null;this.tail=Z}this._len++};Lb.remove=function(e){var i=e.prev;var Z=e.next;if(i){i.next=Z}else{this.head=Z}if(Z){Z.prev=i}else{this.tail=i}e.next=e.prev=null;this._len--};Lb.len=function(){return this._len};Lb.clear=function(){this.head=this.tail=null;this._len=0};var Pi=function(Z){this.value=Z;this.next;this.prev};var b5=function(Z){this._list=new XU();this._map={};this._maxSize=Z||10;this._lastRemovedEntry=null};var Bw=b5.prototype;Bw.put=function(v,k){var Z=this._list;var XY=this._map;var i=null;if(XY[v]==null){var WH=Z.len();var e=this._lastRemovedEntry;if(WH>=this._maxSize&&WH>0){var PI=Z.head;Z.remove(PI);delete XY[PI.key];i=PI.value;this._lastRemovedEntry=PI}if(e){e.value=k}else{e=new Pi(k)}e.key=v;Z.insertEntry(e);XY[v]=e}return i};Bw.get=function(Z){var e=this._map[Z];var i=this._list;if(e!=null){if(e!==i.tail){i.remove(e);i.insertEntry(e)}return e.value}};Bw.clear=function(){this._list.clear();this._map={}};var Ka={"transparent":[0,0,0,0],"aliceblue":[240,248,255,1],"antiquewhite":[250,235,215,1],"aqua":[0,255,255,1],"aquamarine":[127,255,212,1],"azure":[240,255,255,1],"beige":[245,245,220,1],"bisque":[255,228,196,1],"black":[0,0,0,1],"blanchedalmond":[255,235,205,1],"blue":[0,0,255,1],"blueviolet":[138,43,226,1],"brown":[165,42,42,1],"burlywood":[222,184,135,1],"cadetblue":[95,158,160,1],"chartreuse":[127,255,0,1],"chocolate":[210,105,30,1],"coral":[255,127,80,1],"cornflowerblue":[100,149,237,1],"cornsilk":[255,248,220,1],"crimson":[220,20,60,1],"cyan":[0,255,255,1],"darkblue":[0,0,139,1],"darkcyan":[0,139,139,1],"darkgoldenrod":[184,134,11,1],"darkgray":[169,169,169,1],"darkgreen":[0,100,0,1],"darkgrey":[169,169,169,1],"darkkhaki":[189,183,107,1],"darkmagenta":[139,0,139,1],"darkolivegreen":[85,107,47,1],"darkorange":[255,140,0,1],"darkorchid":[153,50,204,1],"darkred":[139,0,0,1],"darksalmon":[233,150,122,1],"darkseagreen":[143,188,143,1],"darkslateblue":[72,61,139,1],"darkslategray":[47,79,79,1],"darkslategrey":[47,79,79,1],"darkturquoise":[0,206,209,1],"darkviolet":[148,0,211,1],"deeppink":[255,20,147,1],"deepskyblue":[0,191,255,1],"dimgray":[105,105,105,1],"dimgrey":[105,105,105,1],"dodgerblue":[30,144,255,1],"firebrick":[178,34,34,1],"floralwhite":[255,250,240,1],"forestgreen":[34,139,34,1],"fuchsia":[255,0,255,1],"gainsboro":[220,220,220,1],"ghostwhite":[248,248,255,1],"gold":[255,215,0,1],"goldenrod":[218,165,32,1],"gray":[128,128,128,1],"green":[0,128,0,1],"greenyellow":[173,255,47,1],"grey":[128,128,128,1],"honeydew":[240,255,240,1],"hotpink":[255,105,180,1],"indianred":[205,92,92,1],"indigo":[75,0,130,1],"ivory":[255,255,240,1],"khaki":[240,230,140,1],"lavender":[230,230,250,1],"lavenderblush":[255,240,245,1],"lawngreen":[124,252,0,1],"lemonchiffon":[255,250,205,1],"lightblue":[173,216,230,1],"lightcoral":[240,128,128,1],"lightcyan":[224,255,255,1],"lightgoldenrodyellow":[250,250,210,1],"lightgray":[211,211,211,1],"lightgreen":[144,238,144,1],"lightgrey":[211,211,211,1],"lightpink":[255,182,193,1],"lightsalmon":[255,160,122,1],"lightseagreen":[32,178,170,1],"lightskyblue":[135,206,250,1],"lightslategray":[119,136,153,1],"lightslategrey":[119,136,153,1],"lightsteelblue":[176,196,222,1],"lightyellow":[255,255,224,1],"lime":[0,255,0,1],"limegreen":[50,205,50,1],"linen":[250,240,230,1],"magenta":[255,0,255,1],"maroon":[128,0,0,1],"mediumaquamarine":[102,205,170,1],"mediumblue":[0,0,205,1],"mediumorchid":[186,85,211,1],"mediumpurple":[147,112,219,1],"mediumseagreen":[60,179,113,1],"mediumslateblue":[123,104,238,1],"mediumspringgreen":[0,250,154,1],"mediumturquoise":[72,209,204,1],"mediumvioletred":[199,21,133,1],"midnightblue":[25,25,112,1],"mintcream":[245,255,250,1],"mistyrose":[255,228,225,1],"moccasin":[255,228,181,1],"navajowhite":[255,222,173,1],"navy":[0,0,128,1],"oldlace":[253,245,230,1],"olive":[128,128,0,1],"olivedrab":[107,142,35,1],"orange":[255,165,0,1],"orangered":[255,69,0,1],"orchid":[218,112,214,1],"palegoldenrod":[238,232,170,1],"palegreen":[152,251,152,1],"paleturquoise":[175,238,238,1],"palevioletred":[219,112,147,1],"papayawhip":[255,239,213,1],"peachpuff":[255,218,185,1],"peru":[205,133,63,1],"pink":[255,192,203,1],"plum":[221,160,221,1],"powderblue":[176,224,230,1],"purple":[128,0,128,1],"red":[255,0,0,1],"rosybrown":[188,143,143,1],"royalblue":[65,105,225,1],"saddlebrown":[139,69,19,1],"salmon":[250,128,114,1],"sandybrown":[244,164,96,1],"seagreen":[46,139,87,1],"seashell":[255,245,238,1],"sienna":[160,82,45,1],"silver":[192,192,192,1],"skyblue":[135,206,235,1],"slateblue":[106,90,205,1],"slategray":[112,128,144,1],"slategrey":[112,128,144,1],"snow":[255,250,250,1],"springgreen":[0,255,127,1],"steelblue":[70,130,180,1],"tan":[210,180,140,1],"teal":[0,128,128,1],"thistle":[216,191,216,1],"tomato":[255,99,71,1],"turquoise":[64,224,208,1],"violet":[238,130,238,1],"wheat":[245,222,179,1],"white":[255,255,255,1],"whitesmoke":[245,245,245,1],"yellow":[255,255,0,1],"yellowgreen":[154,205,50,1]};function Ag(Z){Z=Math.round(Z);return Z<0?0:Z>255?255:Z}function CR(Z){Z=Math.round(Z);return Z<0?0:Z>360?360:Z}function WG(Z){return Z<0?0:Z>1?1:Z}function Zr(Z){if(Z.length&&Z.charAt(Z.length-1)==="%"){return Ag(parseFloat(Z)/100*255)}return Ag(parseInt(Z,10))}function VM(Z){if(Z.length&&Z.charAt(Z.length-1)==="%"){return WG(parseFloat(Z)/100)}return WG(parseFloat(Z))}function Kp(e,i,Z){if(Z<0){Z+=1}else{if(Z>1){Z-=1}}if(Z*6<1){return e+(i-e)*Z*6}if(Z*2<1){return i}if(Z*3<2){return e+(i-e)*(2/3-Z)*6}return e}function Zd(i,e,Z){return i+(e-i)*Z}function cE(i,e,Z,k,v){i[0]=e;i[1]=Z;i[2]=k;i[3]=v;return i}function UX(Z,e){Z[0]=e[0];Z[1]=e[1];Z[2]=e[2];Z[3]=e[3];return Z}var bh=new b5(20);var QA=null;function DT(e,Z){if(QA){UX(QA,Z)}QA=bh.put(e,QA||(Z.slice()))}function a8(Z,PI){if(!Z){return}PI=PI||[];var Z2=bh.get(Z);if(Z2){return UX(PI,Z2)}Z=Z+"";var k=Z.replace(/ /g,"").toLowerCase();if(k in Ka){UX(PI,Ka[k]);DT(Z,PI);return PI}if(k.charAt(0)==="#"){if(k.length===4){var XY=parseInt(k.substr(1),16);if(!(XY>=0&&XY<=4095)){cE(PI,0,0,0,1);return}cE(PI,((XY&3840)>>4)|((XY&3840)>>8),(XY&240)|((XY&240)>>4),(XY&15)|((XY&15)<<4),1);DT(Z,PI);return PI}else{if(k.length===7){var XY=parseInt(k.substr(1),16);if(!(XY>=0&&XY<=16777215)){cE(PI,0,0,0,1);return}cE(PI,(XY&16711680)>>16,(XY&65280)>>8,XY&255,1);DT(Z,PI);return PI}}return}var WH=k.indexOf("("),i=k.indexOf(")");if(WH!==-1&&i+1===k.length){var v=k.substr(0,WH);var cc=k.substr(WH+1,i-(WH+1)).split(",");var e=1;switch(v){case"rgba":if(cc.length!==4){cE(PI,0,0,0,1);return}e=VM(cc.pop());case"rgb":if(cc.length!==3){cE(PI,0,0,0,1);return}cE(PI,Zr(cc[0]),Zr(cc[1]),Zr(cc[2]),e);DT(Z,PI);return PI;case"hsla":if(cc.length!==4){cE(PI,0,0,0,1);return}cc[3]=VM(cc[3]);UB(cc,PI);DT(Z,PI);return PI;case"hsl":if(cc.length!==3){cE(PI,0,0,0,1);return}UB(cc,PI);DT(Z,PI);return PI;default:return}}cE(PI,0,0,0,1);return}function UB(WH,e){var Z=(((parseFloat(WH[0])%360)+360)%360)/360;var i=VM(WH[1]);var k=VM(WH[2]);var v=k<=0.5?k*(i+1):k+i-k*i;var PI=k*2-v;e=e||[];cE(e,Ag(Kp(PI,v,Z+1/3)*255),Ag(Kp(PI,v,Z)*255),Ag(Kp(PI,v,Z-1/3)*255),1);if(WH.length===4){e[3]=WH[3]}return e}function Cg(cc){if(!cc){return}var XY=cc[0]/255;var WH=cc[1]/255;var v=cc[2]/255;var eH=Math.min(XY,WH,v);var i=Math.max(XY,WH,v);var eF=i-eH;var k=(i+eH)/2;var e;var Z2;if(eF===0){e=0;Z2=0}else{if(k<0.5){Z2=eF/(i+eH)}else{Z2=eF/(2-i-eH)}var PI=(((i-XY)/6)+(eF/2))/eF;var eG=(((i-WH)/6)+(eF/2))/eF;var Z=(((i-v)/6)+(eF/2))/eF;if(XY===i){e=Z-eG}else{if(WH===i){e=(1/3)+PI-Z}else{if(v===i){e=(2/3)+eG-PI}}}if(e<0){e+=1}if(e>1){e-=1}}var eI=[e*360,Z2,k];if(cc[3]!=null){eI.push(cc[3])}return eI}function SZ(v,e){var k=a8(v);if(k){for(var Z=0;Z<3;Z++){if(e<0){k[Z]=k[Z]*(1-e)|0}else{k[Z]=((255-k[Z])*e+k[Z])|0}}return Kz(k,k.length===4?"rgba":"rgb")}}function a4(e){var Z=a8(e);if(Z){return((1<<24)+(Z[0]<<16)+(Z[1]<<8)+(+Z[2])).toString(16).slice(1)}}function Xt(e,WH,Z){if(!(WH&&WH.length)||!(e>=0&&e<=1)){return}Z=Z||[];var PI=e*(WH.length-1);var v=Math.floor(PI);var XY=Math.ceil(PI);var Z2=WH[v];var i=WH[XY];var k=PI-v;Z[0]=Ag(Zd(Z2[0],i[0],k));Z[1]=Ag(Zd(Z2[1],i[1],k));Z[2]=Ag(Zd(Z2[2],i[2],k));Z[3]=WG(Zd(Z2[3],i[3],k));return Z}var cB=Xt;function dw(Z,WH,Z2){if(!(WH&&WH.length)||!(Z>=0&&Z<=1)){return}var PI=Z*(WH.length-1);var v=Math.floor(PI);var XY=Math.ceil(PI);var cc=a8(WH[v]);var e=a8(WH[XY]);var i=PI-v;var k=Kz([Ag(Zd(cc[0],e[0],i)),Ag(Zd(cc[1],e[1],i)),Ag(Zd(cc[2],e[2],i)),WG(Zd(cc[3],e[3],i))],"rgba");return Z2?{color:k,leftIndex:v,rightIndex:XY,value:PI}:k}var OA=dw;function Cu(k,Z,e,i){k=a8(k);if(k){k=Cg(k);Z!=null&&(k[0]=CR(Z));e!=null&&(k[1]=VM(e));i!=null&&(k[2]=VM(i));return Kz(UB(k),"rgba")}}function Vi(e,Z){e=a8(e);if(e&&Z!=null){e[3]=WG(Z);return Kz(e,"rgba")}}function Kz(e,Z){if(!e||!e.length){return}var i=e[0]+","+e[1]+","+e[2];if(Z==="rgba"||Z==="hsva"||Z==="hsla"){i+=","+e[3]}return Z+"("+i+")"}var EN=(Object.freeze||Object)({parse:a8,lift:SZ,toHex:a4,fastLerp:Xt,fastMapToColor:cB,lerp:dw,mapToColor:OA,modifyHSL:Cu,modifyAlpha:Vi,stringify:Kz});var Jj=Array.prototype.slice;function XZ(e,Z){return e[Z]}function Ro(i,Z,e){i[Z]=e}function Co(e,i,Z){return(i-e)*Z+e}function Jy(e,i,Z){return Z>0.5?i:e}function Fg(XY,WH,v,e,cc){var Z2=XY.length;if(cc==1){for(var PI=0;PI<Z2;PI++){e[PI]=Co(XY[PI],WH[PI],v)}}else{var Z=Z2&&XY[0].length;for(var PI=0;PI<Z2;PI++){for(var k=0;k<Z;k++){e[PI][k]=Co(XY[PI][k],WH[PI][k],v)}}}}function I6(Z2,v,cc){var WH=Z2.length;var PI=v.length;if(WH!==PI){var XY=WH>PI;if(XY){Z2.length=PI}else{for(var k=WH;k<PI;k++){Z2.push(cc===1?v[k]:Jj.call(v[k]))}}}var e=Z2[0]&&Z2[0].length;for(var k=0;k<Z2.length;k++){if(cc===1){if(isNaN(Z2[k])){Z2[k]=v[k]}}else{for(var Z=0;Z<e;Z++){if(isNaN(Z2[k][Z])){Z2[k][Z]=v[k][Z]}}}}}function Op(k,PI,v){if(k===PI){return true}var WH=k.length;if(WH!==PI.length){return false}if(v===1){for(var e=0;e<WH;e++){if(k[e]!==PI[e]){return false}}}else{var Z=k[0].length;for(var e=0;e<WH;e++){for(var XY=0;XY<Z;XY++){if(k[e][XY]!==PI[e][XY]){return false}}}}return true}function Ks(WH,e,cc,Z2,v,eH,eF,k,eI){var eG=WH.length;if(eI==1){for(var XY=0;XY<eG;XY++){k[XY]=cY(WH[XY],e[XY],cc[XY],Z2[XY],v,eH,eF)}}else{var Z=WH[0].length;for(var XY=0;XY<eG;XY++){for(var PI=0;PI<Z;PI++){k[XY][PI]=cY(WH[XY][PI],e[XY][PI],cc[XY][PI],Z2[XY][PI],v,eH,eF)}}}}function cY(i,Z,PI,k,e,Z2,WH){var XY=(PI-i)*0.5;var v=(k-Z)*0.5;return(2*(Z-PI)+XY+v)*WH+(-3*(Z-PI)-2*XY-v)*Z2+XY*e+Z}function QE(k){if(KJ(k)){var e=k.length;if(KJ(k[0])){var v=[];for(var Z=0;Z<e;Z++){v.push(Jj.call(k[Z]))}return v}return Jj.call(k)}return k}function dg(Z){Z[0]=Math.floor(Z[0]);Z[1]=Math.floor(Z[1]);Z[2]=Math.floor(Z[2]);return"rgba("+Z.join(",")+")"}function Y2(Z){var e=Z[Z.length-1].value;return KJ(e&&e[0])?2:1}function FY(eH,Z2,eO,eY,e3,e){var eQ=eH._getter;var cc=eH._setter;var eK=Z2==="spline";var eG=eY.length;if(!eG){return}var eN=eY[0].value;var eJ=KJ(eN);var v=false;var eL=false;var eU=eJ?Y2(eY):0;var eI;eY.sort(function(e5,i){return e5.time-i.time});eI=eY[eG-1].time;var eZ=[];var eW=[];var e4=eY[0].value;var eX=true;for(var e2=0;e2<eG;e2++){eZ.push(eY[e2].time/eI);var eS=eY[e2].value;if(!((eJ&&Op(eS,e4,eU))||(!eJ&&eS===e4))){eX=false}e4=eS;if(typeof eS=="string"){var k=a8(eS);if(k){eS=k;v=true}else{eL=true}}eW.push(eS)}if(!e&&eX){return}var PI=eW[eG-1];for(var e2=0;e2<eG-1;e2++){if(eJ){I6(eW[e2],PI,eU)}else{if(isNaN(eW[e2])&&!isNaN(PI)&&!eL&&!v){eW[e2]=PI}}}eJ&&I6(eQ(eH._target,e3),PI,eU);var eT=0;var eP=0;var eV;var e1;var eR;var eM;var WH;var Z;if(v){var e0=[0,0,0,0]}var XY=function(e7,e5){var e6;if(e5<0){e6=0}else{if(e5<eP){eV=Math.min(eT+1,eG-1);for(e6=eV;e6>=0;e6--){if(eZ[e6]<=e5){break}}e6=Math.min(e6,eG-2)}else{for(e6=eT;e6<eG;e6++){if(eZ[e6]>e5){break}}e6=Math.min(e6-1,eG-2)}}eT=e6;eP=e5;var e8=(eZ[e6+1]-eZ[e6]);if(e8===0){return}else{e1=(e5-eZ[e6])/e8}if(eK){eM=eW[e6];eR=eW[e6===0?e6:e6-1];WH=eW[e6>eG-2?eG-1:e6+1];Z=eW[e6>eG-3?eG-1:e6+2];if(eJ){Ks(eR,eM,WH,Z,e1,e1*e1,e1*e1*e1,eQ(e7,e3),eU)}else{var i;if(v){i=Ks(eR,eM,WH,Z,e1,e1*e1,e1*e1*e1,e0,1);i=dg(e0)}else{if(eL){return Jy(eM,WH,e1)}else{i=cY(eR,eM,WH,Z,e1,e1*e1,e1*e1*e1)}}cc(e7,e3,i)}}else{if(eJ){Fg(eW[e6],eW[e6+1],e1,eQ(e7,e3),eU)}else{var i;if(v){Fg(eW[e6],eW[e6+1],e1,e0,1);i=dg(e0)}else{if(eL){return Jy(eW[e6],eW[e6+1],e1)}else{i=Co(eW[e6],eW[e6+1],e1)}}cc(e7,e3,i)}}};var eF=new az({target:eH._target,life:eI,loop:eH._loop,delay:eH._delay,onframe:XY,ondestroy:eO});if(Z2&&Z2!=="spline"){eF.easing=Z2}return eF}var ab=function(i,Z,e,k){this._tracks={};this._target=i;this._loop=Z||false;this._getter=e||XZ;this._setter=k||Ro;this._clipCount=0;this._delay=0;this._doneList=[];this._onframeList=[];this._clipList=[]};ab.prototype={when:function(e,i){var k=this._tracks;for(var v in i){if(!i.hasOwnProperty(v)){continue}if(!k[v]){k[v]=[];var Z=this._getter(this._target,v);if(Z==null){continue}if(e!==0){k[v].push({time:0,value:QE(Z)})}}k[v].push({time:e,value:i[v]})}return this},during:function(Z){this._onframeList.push(Z);return this},pause:function(){for(var Z=0;Z<this._clipList.length;Z++){this._clipList[Z].pause()}this._paused=true},resume:function(){for(var Z=0;Z<this._clipList.length;Z++){this._clipList[Z].resume()}this._paused=false},isPaused:function(){return !!this._paused},_doneCallback:function(){this._tracks={};this._clipList.length=0;var e=this._doneList;var k=e.length;for(var Z=0;Z<k;Z++){e[Z].call(this)}},start:function(k,PI){var v=this;var XY=0;var WH=function(){XY--;if(!XY){v._doneCallback()}};var i;for(var e in this._tracks){if(!this._tracks.hasOwnProperty(e)){continue}var Z2=FY(this,k,WH,this._tracks[e],e,PI);if(Z2){this._clipList.push(Z2);XY++;if(this.animation){this.animation.addClip(Z2)}i=Z2}}if(i){var Z=i.onframe;i.onframe=function(eG,cc){Z(eG,cc);for(var eF=0;eF<v._onframeList.length;eF++){v._onframeList[eF](eG,cc)}}}if(!XY){this._doneCallback()}return this},stop:function(v){var e=this._clipList;var Z=this.animation;for(var k=0;k<e.length;k++){var PI=e[k];if(v){PI.onframe(this._target,1)}Z&&Z.removeClip(PI)}e.length=0},delay:function(Z){this._delay=Z;return this},done:function(Z){if(Z){this._doneList.push(Z)}return this},getClips:function(){return this._clipList}};var MJ=1;if(typeof window!=="undefined"){MJ=Math.max(window.devicePixelRatio||1,1)}var bU=0;var Yp=MJ;var MK=function(){};if(bU===1){MK=function(){for(var Z in arguments){throw new Error(arguments[Z])}}}else{if(bU>1){MK=function(){for(var Z in arguments){console.log(arguments[Z])}}}}var Qw=MK;var BR=function(){this.animators=[]};BR.prototype={constructor:BR,animate:function(cc,eH){var eF;var v=false;var WH=this;var e=this.__zr;if(cc){var Z=cc.split(".");var PI=WH;v=Z[0]==="shape";for(var XY=0,Z2=Z.length;XY<Z2;XY++){if(!PI){continue}PI=PI[Z[XY]]}if(PI){eF=PI}}else{eF=WH}if(!eF){Qw('Property "'+cc+'" is not existed in element '+WH.id);return}var k=WH.animators;var eG=new ab(eF,eH);eG.during(function(i){WH.dirty(v)}).done(function(){k.splice(Fx(k,eG),1)});k.push(eG);if(e){e.animation.addAnimator(eG)}return eG},stopAnimation:function(e){var k=this.animators;var v=k.length;for(var Z=0;Z<v;Z++){k[Z].stop(e)}k.length=0;return this},animateTo:function(cc,Z,v,Z2,e,PI){if(DY(v)){e=Z2;Z2=v;v=0}else{if(dU(Z2)){e=Z2;Z2="linear";v=0}else{if(dU(v)){e=v;v=0}else{if(dU(Z)){e=Z;Z=500}else{if(!Z){Z=500}}}}}this.stopAnimation();this._animateToShallow("",this,cc,Z,v);var k=this.animators.slice();var eF=k.length;function WH(){eF--;if(!eF){e&&e()}}if(!eF){e&&e()}for(var XY=0;XY<k.length;XY++){k[XY].done(WH).start(Z2,PI)}},_animateToShallow:function(PI,e,WH,Z,k){var Z2={};var i=0;for(var XY in WH){if(!WH.hasOwnProperty(XY)){continue}if(e[XY]!=null){if(Q(WH[XY])&&!KJ(WH[XY])){this._animateToShallow(PI?PI+"."+XY:XY,e[XY],WH[XY],Z,k)}else{Z2[XY]=WH[XY];i++}}else{if(WH[XY]!=null){if(!PI){this.attr(XY,WH[XY])}else{var v={};v[PI]={};v[PI][XY]=WH[XY];this.attr(v)}}}}if(i>0){this.animate(PI,false).when(Z==null?500:Z,Z2).delay(k||0)}return this}};var HH=function(Z){SO.call(this,Z);at.call(this,Z);BR.call(this,Z);this.id=Z.id||By()};HH.prototype={type:"element",name:"",__zr:null,ignore:false,clipPath:null,drift:function(Z,i){switch(this.draggable){case"horizontal":i=0;break;case"vertical":Z=0;break}var e=this.transform;if(!e){e=this.transform=[1,0,0,1,0,0]}e[4]+=Z;e[5]+=i;this.decomposeTransform();this.dirty(false)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(Z,e){},attrKV:function(Z,e){if(Z==="position"||Z==="scale"||Z==="origin"){if(e){var i=this[Z];if(!i){i=this[Z]=[]}i[0]=e[0];i[1]=e[1]}}else{this[Z]=e}},hide:function(){this.ignore=true;this.__zr&&this.__zr.refresh()},show:function(){this.ignore=false;this.__zr&&this.__zr.refresh()},attr:function(Z,i){if(typeof Z==="string"){this.attrKV(Z,i)}else{if(Q(Z)){for(var e in Z){if(Z.hasOwnProperty(e)){this.attrKV(e,Z[e])}}}}this.dirty(false);return this},setClipPath:function(e){var Z=this.__zr;if(Z){e.addSelfToZr(Z)}if(this.clipPath&&this.clipPath!==e){this.removeClipPath()}this.clipPath=e;e.__zr=Z;e.__clipTarget=this;this.dirty(false)},removeClipPath:function(){var Z=this.clipPath;if(Z){if(Z.__zr){Z.removeSelfFromZr(Z.__zr)}Z.__zr=null;Z.__clipTarget=null;this.clipPath=null;this.dirty(false)}},addSelfToZr:function(Z){this.__zr=Z;var k=this.animators;if(k){for(var e=0;e<k.length;e++){Z.animation.addAnimator(k[e])}}if(this.clipPath){this.clipPath.addSelfToZr(Z)}},removeSelfFromZr:function(Z){this.__zr=null;var k=this.animators;if(k){for(var e=0;e<k.length;e++){Z.animation.removeAnimator(k[e])}}if(this.clipPath){this.clipPath.removeSelfFromZr(Z)}}};cq(HH,BR);cq(HH,SO);cq(HH,at);var ZR=HV;var K4=Math.min;var Zg=Math.max;function FC(e,i,k,Z){if(k<0){e=e+k;k=-k}if(Z<0){i=i+Z;Z=-Z}this.x=e;this.y=i;this.width=k;this.height=Z}FC.prototype={constructor:FC,union:function(i){var Z=K4(i.x,this.x);var e=K4(i.y,this.y);this.width=Zg(i.x+i.width,this.x+this.width)-Z;this.height=Zg(i.y+i.height,this.y+this.height)-e;this.x=Z;this.y=e},applyTransform:(function(){var e=[];var i=[];var k=[];var Z=[];return function(WH){if(!WH){return}e[0]=k[0]=this.x;e[1]=Z[1]=this.y;i[0]=Z[0]=this.x+this.width;i[1]=k[1]=this.y+this.height;ZR(e,e,WH);ZR(i,i,WH);ZR(k,k,WH);ZR(Z,Z,WH);this.x=K4(e[0],i[0],k[0],Z[0]);this.y=K4(e[1],i[1],k[1],Z[1]);var PI=Zg(e[0],i[0],k[0],Z[0]);var v=Zg(e[1],i[1],k[1],Z[1]);this.width=PI-this.x;this.height=v-this.y}})(),calculateTransform:function(e){var v=this;var Z=e.width/v.width;var i=e.height/v.height;var k=Hx();Xo(k,k,[-v.x,-v.y]);JZ(k,k,[Z,i]);Xo(k,k,[e.x,e.y]);return k},intersect:function(WH){if(!WH){return false}if(!(WH instanceof FC)){WH=FC.create(WH)}var cc=this;var k=cc.x;var i=cc.x+cc.width;var e=cc.y;var Z=cc.y+cc.height;var XY=WH.x;var Z2=WH.x+WH.width;var v=WH.y;var PI=WH.y+WH.height;return !(i<XY||Z2<k||Z<v||PI<e)},contain:function(e,i){var Z=this;return e>=Z.x&&e<=(Z.x+Z.width)&&i>=Z.y&&i<=(Z.y+Z.height)},clone:function(){return new FC(this.x,this.y,this.width,this.height)},copy:function(Z){this.x=Z.x;this.y=Z.y;this.width=Z.width;this.height=Z.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};FC.create=function(Z){return new FC(Z.x,Z.y,Z.width,Z.height)};var TD=function(e){e=e||{};HH.call(this,e);for(var Z in e){if(e.hasOwnProperty(Z)){this[Z]=e[Z]}}this._children=[];this.__storage=null;this.__dirty=true};TD.prototype={constructor:TD,isGroup:true,type:"group",silent:false,children:function(){return this._children.slice()},childAt:function(Z){return this._children[Z]},childOfName:function(e){var k=this._children;for(var Z=0;Z<k.length;Z++){if(k[Z].name===e){return k[Z]}}},childCount:function(){return this._children.length},add:function(Z){if(Z&&Z!==this&&Z.parent!==this){this._children.push(Z);this._doAdd(Z)}return this},addBefore:function(Z,i){if(Z&&Z!==this&&Z.parent!==this&&i&&i.parent===this){var k=this._children;var e=k.indexOf(i);if(e>=0){k.splice(e,0,Z);this._doAdd(Z)}}return this},_doAdd:function(i){if(i.parent){i.parent.remove(i)}i.parent=this;var Z=this.__storage;var e=this.__zr;if(Z&&Z!==i.__storage){Z.addToStorage(i);if(i instanceof TD){i.addChildrenToStorage(Z)}}e&&e.refresh()},remove:function(i){var e=this.__zr;var Z=this.__storage;var v=this._children;var k=Fx(v,i);if(k<0){return this}v.splice(k,1);i.parent=null;if(Z){Z.delFromStorage(i);if(i instanceof TD){i.delChildrenFromStorage(Z)}}e&&e.refresh();return this},removeAll:function(){var v=this._children;var Z=this.__storage;var k;var e;for(e=0;e<v.length;e++){k=v[e];if(Z){Z.delFromStorage(k);if(k instanceof TD){k.delChildrenFromStorage(Z)}}k.parent=null}v.length=0;return this},eachChild:function(Z,e){var PI=this._children;for(var k=0;k<PI.length;k++){var v=PI[k];Z.call(e,v,k)}return this},traverse:function(Z,e){for(var k=0;k<this._children.length;k++){var v=this._children[k];Z.call(e,v);if(v.type==="group"){v.traverse(Z,e)}}return this},addChildrenToStorage:function(Z){for(var e=0;e<this._children.length;e++){var k=this._children[e];Z.addToStorage(k);if(k instanceof TD){k.addChildrenToStorage(Z)}}},delChildrenFromStorage:function(Z){for(var e=0;e<this._children.length;e++){var k=this._children[e];Z.delFromStorage(k);if(k instanceof TD){k.delChildrenFromStorage(Z)}}},dirty:function(){this.__dirty=true;this.__zr&&this.__zr.refresh();return this},getBoundingRect:function(Z2){var PI=null;var cc=new FC(0,0,0,0);var v=Z2||this._children;var k=[];for(var WH=0;WH<v.length;WH++){var e=v[WH];if(e.ignore||e.invisible){continue}var Z=e.getBoundingRect();var XY=e.getLocalTransform(k);if(XY){cc.copy(Z);cc.applyTransform(XY);PI=PI||cc.clone();PI.union(cc)}else{PI=PI||Z.clone();PI.union(Z)}}return PI||cc}};JO(TD,HH);var IF=32;var Gv=7;function d5(e){var Z=0;while(e>=IF){Z|=e&1;e>>=1}return e+Z}function RF(e,Z,i,k){var v=Z+1;if(v===i){return 1}if(k(e[v++],e[Z])<0){while(v<i&&k(e[v],e[v-1])<0){v++}er(e,Z,v)}else{while(v<i&&k(e[v],e[v-1])>=0){v++}}return v-Z}function er(e,Z,i){i--;while(Z<i){var k=e[Z];e[Z++]=e[i];e[i--]=k}}function QH(Z,i,k,e,PI){if(e===i){e++}for(;e<k;e++){var WH=Z[e];var v=i;var Z2=e;var cc;while(v<Z2){cc=v+Z2>>>1;if(PI(WH,Z[cc])<0){Z2=cc}else{v=cc+1}}var XY=e-v;switch(XY){case 3:Z[v+3]=Z[v+2];case 2:Z[v+2]=Z[v+1];case 1:Z[v+1]=Z[v];break;default:while(XY>0){Z[v+XY]=Z[v+XY-1];XY--}}Z[v]=WH}}function An(WH,e,i,PI,Z2,Z){var cc=0;var XY=0;var k=1;if(Z(WH,e[i+Z2])>0){XY=PI-Z2;while(k<XY&&Z(WH,e[i+Z2+k])>0){cc=k;k=(k<<1)+1;if(k<=0){k=XY}}if(k>XY){k=XY}cc+=Z2;k+=Z2}else{XY=Z2+1;while(k<XY&&Z(WH,e[i+Z2-k])<=0){cc=k;k=(k<<1)+1;if(k<=0){k=XY}}if(k>XY){k=XY}var v=cc;cc=Z2-k;k=Z2-v}cc++;while(cc<k){var eF=cc+(k-cc>>>1);if(Z(WH,e[i+eF])>0){cc=eF+1}else{k=eF}}return k}function VH(WH,e,i,PI,Z2,Z){var cc=0;var XY=0;var k=1;if(Z(WH,e[i+Z2])<0){XY=Z2+1;while(k<XY&&Z(WH,e[i+Z2-k])<0){cc=k;k=(k<<1)+1;if(k<=0){k=XY}}if(k>XY){k=XY}var v=cc;cc=Z2-k;k=Z2-v}else{XY=PI-Z2;while(k<XY&&Z(WH,e[i+Z2+k])>=0){cc=k;k=(k<<1)+1;if(k<=0){k=XY}}if(k>XY){k=XY}cc+=Z2;k+=Z2}cc++;while(cc<k){var eF=cc+(k-cc>>>1);if(Z(WH,e[i+eF])<0){k=eF}else{cc=eF+1}}return k}function OZ(e,v){var WH=Gv;var Z;var XY;var cc=0;var k=[];Z=[];XY=[];function Z2(eI,eJ){Z[cc]=eI;XY[cc]=eJ;cc+=1}function eG(){while(cc>1){var eI=cc-2;if(eI>=1&&XY[eI-1]<=XY[eI]+XY[eI+1]||eI>=2&&XY[eI-2]<=XY[eI]+XY[eI-1]){if(XY[eI-1]<XY[eI+1]){eI--}}else{if(XY[eI]>XY[eI+1]){break}}eF(eI)}}function eH(){while(cc>1){var eI=cc-2;if(eI>0&&XY[eI-1]<XY[eI+1]){eI--}eF(eI)}}function eF(eJ){var eN=Z[eJ];var eK=XY[eJ];var eM=Z[eJ+1];var eL=XY[eJ+1];XY[eJ]=eK+eL;if(eJ===cc-3){Z[eJ+1]=Z[eJ+2];XY[eJ+1]=XY[eJ+2]}cc--;var eI=VH(e[eM],e,eN,eK,0,v);eN+=eI;eK-=eI;if(eK===0){return}eL=An(e[eN+eK-1],e,eM,eL,eL-1,v);if(eL===0){return}if(eK<=eL){i(eN,eK,eM,eL)}else{PI(eN,eK,eM,eL)}}function i(eT,eK,eR,eL){var eN=0;for(eN=0;eN<eK;eN++){k[eN]=e[eT+eN]}var eO=0;var eP=eR;var eM=eT;e[eM++]=e[eP++];if(--eL===0){for(eN=0;eN<eK;eN++){e[eM+eN]=k[eO+eN]}return}if(eK===1){for(eN=0;eN<eL;eN++){e[eM+eN]=e[eP+eN]}e[eM+eL]=k[eO];return}var eQ=WH;var eI,eS,eJ;while(1){eI=0;eS=0;eJ=false;do{if(v(e[eP],k[eO])<0){e[eM++]=e[eP++];eS++;eI=0;if(--eL===0){eJ=true;break}}else{e[eM++]=k[eO++];eI++;eS=0;if(--eK===1){eJ=true;break}}}while((eI|eS)<eQ);if(eJ){break}do{eI=VH(e[eP],k,eO,eK,0,v);if(eI!==0){for(eN=0;eN<eI;eN++){e[eM+eN]=k[eO+eN]}eM+=eI;eO+=eI;eK-=eI;if(eK<=1){eJ=true;break}}e[eM++]=e[eP++];if(--eL===0){eJ=true;break}eS=An(k[eO],e,eP,eL,0,v);if(eS!==0){for(eN=0;eN<eS;eN++){e[eM+eN]=e[eP+eN]}eM+=eS;eP+=eS;eL-=eS;if(eL===0){eJ=true;break}}e[eM++]=k[eO++];if(--eK===1){eJ=true;break}eQ--}while(eI>=Gv||eS>=Gv);if(eJ){break}if(eQ<0){eQ=0}eQ+=2}WH=eQ;WH<1&&(WH=1);if(eK===1){for(eN=0;eN<eL;eN++){e[eM+eN]=e[eP+eN]}e[eM+eL]=k[eO]}else{if(eK===0){throw new Error()}else{for(eN=0;eN<eK;eN++){e[eM+eN]=k[eO+eN]}}}}function PI(eV,eM,eT,eN){var eP=0;for(eP=0;eP<eN;eP++){k[eP]=e[eT+eP]}var eQ=eV+eM-1;var eR=eN-1;var eO=eT+eN-1;var eI=0;var eL=0;e[eO--]=e[eQ--];if(--eM===0){eI=eO-(eN-1);for(eP=0;eP<eN;eP++){e[eI+eP]=k[eP]}return}if(eN===1){eO-=eM;eQ-=eM;eL=eO+1;eI=eQ+1;for(eP=eM-1;eP>=0;eP--){e[eL+eP]=e[eI+eP]}e[eO]=k[eR];return}var eS=WH;while(true){var eK=0;var eU=0;var eJ=false;do{if(v(k[eR],e[eQ])<0){e[eO--]=e[eQ--];eK++;eU=0;if(--eM===0){eJ=true;break}}else{e[eO--]=k[eR--];eU++;eK=0;if(--eN===1){eJ=true;break}}}while((eK|eU)<eS);if(eJ){break}do{eK=eM-VH(k[eR],e,eV,eM,eM-1,v);if(eK!==0){eO-=eK;eQ-=eK;eM-=eK;eL=eO+1;eI=eQ+1;for(eP=eK-1;eP>=0;eP--){e[eL+eP]=e[eI+eP]}if(eM===0){eJ=true;break}}e[eO--]=k[eR--];if(--eN===1){eJ=true;break}eU=eN-An(e[eQ],k,0,eN,eN-1,v);if(eU!==0){eO-=eU;eR-=eU;eN-=eU;eL=eO+1;eI=eR+1;for(eP=0;eP<eU;eP++){e[eL+eP]=k[eI+eP]}if(eN<=1){eJ=true;break}}e[eO--]=e[eQ--];if(--eM===0){eJ=true;break}eS--}while(eK>=Gv||eU>=Gv);if(eJ){break}if(eS<0){eS=0}eS+=2}WH=eS;if(WH<1){WH=1}if(eN===1){eO-=eM;eQ-=eM;eL=eO+1;eI=eQ+1;for(eP=eM-1;eP>=0;eP--){e[eL+eP]=e[eI+eP]}e[eO]=k[eR]}else{if(eN===0){throw new Error()}else{eI=eO-(eN-1);for(eP=0;eP<eN;eP++){e[eI+eP]=k[eP]}}}}this.mergeRuns=eG;this.forceMergeRuns=eH;this.pushRun=Z2}function Tb(Z,PI,v,k){if(!v){v=0}if(!k){k=Z.length}var i=k-v;if(i<2){return}var XY=0;if(i<IF){XY=RF(Z,v,k,PI);QH(Z,v,k,v+XY,PI);return}var WH=new OZ(Z,PI);var Z2=d5(i);do{XY=RF(Z,v,k,PI);if(XY<Z2){var e=i;if(e>Z2){e=Z2}QH(Z,v,v+e,v+XY,PI);XY=e}WH.pushRun(v,XY);WH.mergeRuns();i-=XY;v+=XY}while(i!==0);WH.forceMergeRuns()}function QO(e,Z){if(e.zlevel===Z.zlevel){if(e.z===Z.z){return e.z2-Z.z2}return e.z-Z.z}return e.zlevel-Z.zlevel}var aa=function(){this._roots=[];this._displayList=[];this._displayListLen=0};aa.prototype={constructor:aa,traverse:function(Z,e){for(var k=0;k<this._roots.length;k++){this._roots[k].traverse(Z,e)}},getDisplayList:function(Z,e){e=e||false;if(Z){this.updateDisplayList(e)}return this._displayList},updateDisplayList:function(v){this._displayListLen=0;var e=this._roots;var PI=this._displayList;for(var Z=0,k=e.length;Z<k;Z++){this._updateAndAddDisplayable(e[Z],null,v)}PI.length=this._displayListLen;PF.canvasSupported&&Tb(PI,QO)},_updateAndAddDisplayable:function(v,WH,cc){if(v.ignore&&!cc){return}v.beforeUpdate();if(v.__dirty){v.update()}v.afterUpdate();var e=v.clipPath;if(e){if(WH){WH=WH.slice()}else{WH=[]}var Z=e;var Z2=v;while(Z){Z.parent=Z2;Z.updateTransform();WH.push(Z);Z2=Z;Z=Z.clipPath}}if(v.isGroup){var k=v._children;for(var PI=0;PI<k.length;PI++){var XY=k[PI];if(v.__dirty){XY.__dirty=true}this._updateAndAddDisplayable(XY,WH,cc)}v.__dirty=false}else{v.__clipPaths=WH;this._displayList[this._displayListLen++]=v}},addRoot:function(Z){if(Z.__storage===this){return}if(Z instanceof TD){Z.addChildrenToStorage(this)}this.addToStorage(Z);this._roots.push(Z)},delRoot:function(Z){if(Z==null){for(var e=0;e<this._roots.length;e++){var k=this._roots[e];if(k instanceof TD){k.delChildrenFromStorage(this)}}this._roots=[];this._displayList=[];this._displayListLen=0;return}if(Z instanceof Array){for(var e=0,v=Z.length;e<v;e++){this.delRoot(Z[e])}return}var PI=Fx(this._roots,Z);if(PI>=0){this.delFromStorage(Z);this._roots.splice(PI,1);if(Z instanceof TD){Z.delChildrenFromStorage(this)}}},addToStorage:function(Z){Z.__storage=this;Z.dirty(false);return this},delFromStorage:function(Z){if(Z){Z.__storage=null}return this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:QO};var Ib=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];var F4=function(Z,e){this.extendFrom(Z,false);this.host=e};function FF(v,PI,Z){var WH=PI.x==null?0:PI.x;var i=PI.x2==null?1:PI.x2;var XY=PI.y==null?0:PI.y;var k=PI.y2==null?0:PI.y2;if(!PI.global){WH=WH*Z.width+Z.x;i=i*Z.width+Z.x;XY=XY*Z.height+Z.y;k=k*Z.height+Z.y}var e=v.createLinearGradient(WH,XY,i,k);return e}function MG(v,WH,i){var PI=i.width;var e=i.height;var cc=Math.min(PI,e);var XY=WH.x==null?0.5:WH.x;var Z2=WH.y==null?0.5:WH.y;var Z=WH.r==null?0.5:WH.r;if(!WH.global){XY=XY*PI+i.x;Z2=Z2*e+i.y;Z=Z*cc}var k=v.createRadialGradient(XY,Z2,0,XY,Z2,Z);return k}F4.prototype={constructor:F4,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:false,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:false,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(PI,cc,Z2){var WH=this;var v=Z2&&Z2.style;var e=!v;for(var XY=0;XY<Ib.length;XY++){var k=Ib[XY];var Z=k[0];if(e||WH[Z]!==v[Z]){PI[Z]=WH[Z]||k[1]}}if((e||WH.fill!==v.fill)){PI.fillStyle=WH.fill}if((e||WH.stroke!==v.stroke)){PI.strokeStyle=WH.stroke}if((e||WH.opacity!==v.opacity)){PI.globalAlpha=WH.opacity==null?1:WH.opacity}if((e||WH.blend!==v.blend)){PI.globalCompositeOperation=WH.blend||"source-over"}if(this.hasStroke()){var eF=WH.lineWidth;PI.lineWidth=eF/((this.strokeNoScale&&cc&&cc.getLineScale)?cc.getLineScale():1)}},hasFill:function(){var Z=this.fill;return Z!=null&&Z!=="none"},hasStroke:function(){var Z=this.stroke;return Z!=null&&Z!=="none"&&this.lineWidth>0},extendFrom:function(e,Z){if(e){for(var i in e){if(e.hasOwnProperty(i)&&(Z===true||(Z===false?!this.hasOwnProperty(i):e[i]!=null))){this[i]=e[i]}}}},set:function(Z,e){if(typeof Z==="string"){this[Z]=e}else{this.extendFrom(Z,true)}},clone:function(){var Z=new this.constructor();Z.extendFrom(this,true);return Z},getGradient:function(PI,e,k){var v=e.type==="radial"?MG:FF;var XY=v(PI,e,k);var WH=e.colorStops;for(var Z=0;Z<WH.length;Z++){XY.addColorStop(WH[Z].offset,WH[Z].color)}return XY}};var B7=F4.prototype;for(var ON=0;ON<Ib.length;ON++){var Wq=Ib[ON];if(!(Wq[0] in B7)){B7[Wq[0]]=Wq[1]}}F4.getGradient=B7.getGradient;var BU=function(Z,e){this.image=Z;this.repeat=e;this.type="pattern"};BU.prototype.getCanvasPattern=function(Z){return Z.createPattern(this.image,this.repeat||"repeat")};function PJ(){return false}function QY(WH,e,PI){var i=d0();var v=e.getWidth();var Z=e.getHeight();var k=i.style;k.position="absolute";k.left=0;k.top=0;k.width=v+"px";k.height=Z+"px";i.width=v*PI;i.height=Z*PI;i.setAttribute("data-zr-dom-id",WH);return i}var Zj=function(v,e,k){var Z;k=k||Yp;if(typeof v==="string"){Z=QY(v,e,k)}else{if(Q(v)){Z=v;v=Z.id}}this.id=v;this.dom=Z;var i=Z.style;if(i){Z.onselectstart=PJ;i["-webkit-user-select"]="none";i["user-select"]="none";i["-webkit-touch-callout"]="none";i["-webkit-tap-highlight-color"]="rgba(0,0,0,0)";i["padding"]=0;i["margin"]=0;i["border-width"]=0}this.domBack=null;this.ctxBack=null;this.painter=e;this.config=null;this.clearColor=0;this.motionBlur=false;this.lastFrameAlpha=0.7;this.dpr=k};Zj.prototype={constructor:Zj,elCount:0,__dirty:true,initContext:function(){this.ctx=this.dom.getContext("2d");this.ctx.__currentValues={};this.ctx.dpr=this.dpr},createBackBuffer:function(){var Z=this.dpr;this.domBack=QY("back-"+this.id,this.painter,Z);this.ctxBack=this.domBack.getContext("2d");this.ctxBack.__currentValues={};if(Z!=1){this.ctxBack.scale(Z,Z)}},resize:function(k,e){var v=this.dpr;var Z=this.dom;var PI=Z.style;var i=this.domBack;PI.width=k+"px";PI.height=e+"px";Z.width=k*v;Z.height=e*v;if(i){i.width=k*v;i.height=e*v;if(v!=1){this.ctxBack.scale(v,v)}}},clear:function(Z){var i=this.dom;var PI=this.ctx;var Z2=i.width;var e=i.height;var cc=this.clearColor;var k=this.motionBlur&&!Z;var XY=this.lastFrameAlpha;var WH=this.dpr;if(k){if(!this.domBack){this.createBackBuffer()}this.ctxBack.globalCompositeOperation="copy";this.ctxBack.drawImage(i,0,0,Z2/WH,e/WH)}PI.clearRect(0,0,Z2,e);if(cc){var v;if(cc.colorStops){v=cc.__canvasGradient||F4.getGradient(PI,cc,{x:0,y:0,width:Z2,height:e});cc.__canvasGradient=v}else{if(cc.image){v=BU.prototype.getCanvasPattern.call(cc,PI)}}PI.save();PI.fillStyle=v||cc;PI.fillRect(0,0,Z2,e);PI.restore()}if(k){var eF=this.domBack;PI.save();PI.globalAlpha=XY;PI.drawImage(eF,0,0,Z2,e);PI.restore()}}};var Zt=(typeof window!=="undefined"&&((window.requestAnimationFrame&&window.requestAnimationFrame.bind(window))||(window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window))||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame))||function(Z){setTimeout(Z,16)};var Pw=new b5(50);function VG(e){if(typeof e==="string"){var Z=Pw.get(e);return Z&&Z.image}else{return e}}function Wo(PI,i,WH,Z,v){if(!PI){return i}else{if(typeof PI==="string"){if((i&&i.__zrImageSrc===PI)||!WH){return i}var k=Pw.get(PI);var e={hostEl:WH,cb:Z,cbPayload:v};if(k){i=k.image;!Hz(i)&&k.pending.push(e)}else{!i&&(i=new Image());i.onload=Dy;Pw.put(PI,i.__cachedImgObj={image:i,pending:[e]});i.src=i.__zrImageSrc=PI}return i}else{return PI}}}function Dy(){var k=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var e=0;e<k.pending.length;e++){var v=k.pending[e];var Z=v.cb;Z&&Z(this,v.cbPayload);v.hostEl.dirty()}k.pending.length=0}function Hz(Z){return Z&&Z.width&&Z.height}var No={};var I8=0;var NG=5000;var bJ=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;var F9="12px sans-serif";var Rc={};function Pk(e,Z){Rc[e]=Z}function Pb(PI,v){v=v||F9;var Z=PI+":"+v;if(No[Z]){return No[Z]}var k=(PI+"").split("\n");var XY=0;for(var e=0,WH=k.length;e<WH;e++){XY=Math.max(Xu(k[e],v).width,XY)}if(I8>NG){I8=0;No={}}I8++;No[Z]=XY;return XY}function Hv(k,i,WH,v,PI,e,Z){return e?Hm(k,i,WH,v,PI,e,Z):AD(k,i,WH,v,PI,Z)}function AD(Z2,cc,Z,WH,k,i){var e=Dh(Z2,cc,k,i);var PI=Pb(Z2,cc);if(k){PI+=k[1]+k[3]}var XY=e.outerHeight;var eF=X0(0,PI,Z);var eG=DW(0,XY,WH);var v=new FC(eF,eG,PI,XY);v.lineHeight=e.lineHeight;return v}function Hm(Z2,cc,Z,WH,v,i,k){var e=JJ(Z2,{rich:i,truncate:k,font:cc,textAlign:Z,textPadding:v});var PI=e.outerWidth;var XY=e.outerHeight;var eF=X0(0,PI,Z);var eG=DW(0,XY,WH);return new FC(eF,eG,PI,XY)}function X0(Z,e,i){if(i==="right"){Z-=e}else{if(i==="center"){Z-=e/2}}return Z}function DW(e,Z,i){if(i==="middle"){e-=Z/2}else{if(i==="bottom"){e-=Z}}return e}function Xm(cc,i,PI){var XY=i.x;var Z2=i.y;var e=i.height;var WH=i.width;var k=e/2;var Z="left";var v="top";switch(cc){case"left":XY-=PI;Z2+=k;Z="right";v="middle";break;case"right":XY+=PI+WH;Z2+=k;v="middle";break;case"top":XY+=WH/2;Z2-=PI;Z="center";v="bottom";break;case"bottom":XY+=WH/2;Z2+=e+PI;Z="center";break;case"inside":XY+=WH/2;Z2+=k;Z="center";v="middle";break;case"insideLeft":XY+=PI;Z2+=k;v="middle";break;case"insideRight":XY+=WH-PI;Z2+=k;Z="right";v="middle";break;case"insideTop":XY+=WH/2;Z2+=PI;Z="center";break;case"insideBottom":XY+=WH/2;Z2+=e-PI;Z="center";v="bottom";break;case"insideTopLeft":XY+=PI;Z2+=PI;break;case"insideTopRight":XY+=WH-PI;Z2+=PI;Z="right";break;case"insideBottomLeft":XY+=PI;Z2+=e-PI;v="bottom";break;case"insideBottomRight":XY+=WH-PI;Z2+=e-PI;Z="right";v="bottom";break}return{x:XY,y:Z2,textAlign:Z,textVerticalAlign:v}}function EC(WH,k,XY,Z,v){if(!k){return""}var e=(WH+"").split("\n");v=Gm(k,XY,Z,v);for(var PI=0,Z2=e.length;PI<Z2;PI++){e[PI]=C4(e[PI],v)}return e.join("\n")}function Gm(k,cc,e,XY){XY=V8({},XY);XY.font=cc;var e=TR(e,"...");XY.maxIterations=TR(XY.maxIterations,2);var PI=XY.minChar=TR(XY.minChar,0);XY.cnCharWidth=Pb("",cc);var v=XY.ascCharWidth=Pb("a",cc);XY.placeholder=TR(XY.placeholder,"");var Z2=k=Math.max(0,k-1);for(var WH=0;WH<PI&&Z2>=v;WH++){Z2-=v}var Z=Pb(e);if(Z>Z2){e="";Z=0}Z2=k-Z;XY.ellipsis=e;XY.ellipsisWidth=Z;XY.contentWidth=Z2;XY.containerWidth=k;return XY}function C4(XY,k){var Z=k.containerWidth;var PI=k.font;var v=k.contentWidth;if(!Z){return""}var i=Pb(XY,PI);if(i<=Z){return XY}for(var e=0;;e++){if(i<=v||e>=k.maxIterations){XY+=k.ellipsis;break}var WH=e===0?CB(XY,v,k.ascCharWidth,k.cnCharWidth):i>0?Math.floor(XY.length*v/i):0;XY=XY.substr(0,WH);i=Pb(XY,PI)}if(XY===""){XY=k.placeholder}return XY}function CB(PI,Z2,Z,v){var WH=0;var k=0;for(var XY=PI.length;k<XY&&WH<Z2;k++){var e=PI.charCodeAt(k);WH+=(0<=e&&e<=127)?Z:v}return k}function NL(Z){return Pb("",Z)}function Xu(e,Z){return Rc.measureText(e,Z)}Rc.measureText=function(e,Z){var i=L9();i.font=Z||F9;return i.measureText(e)};function Dh(cc,eF,Z,e){cc!=null&&(cc+="");var PI=NL(eF);var v=cc?cc.split("\n"):[];var eI=v.length*PI;var Z2=eI;if(Z){Z2+=Z[0]+Z[2]}if(cc&&e){var eH=e.outerHeight;var k=e.outerWidth;if(eH!=null&&Z2>eH){cc="";v=[]}else{if(k!=null){var WH=Gm(k-(Z?Z[1]+Z[3]:0),eF,e.ellipsis,{minChar:e.minChar,placeholder:e.placeholder});for(var XY=0,eG=v.length;XY<eG;XY++){v[XY]=C4(v[XY],WH)}}}}return{lines:v,height:eI,outerHeight:Z2,lineHeight:PI}}function JJ(eN,e0){var eS={lines:[],width:0,height:0};eN!=null&&(eN+="");if(!eN){return eS}var Z2=bJ.lastIndex=0;var eY;while((eY=bJ.exec(eN))!=null){var eH=eY.index;if(eH>Z2){GS(eS,eN.substring(Z2,eH))}GS(eS,eY[2],eY[1]);Z2=bJ.lastIndex}if(Z2<eN.length){GS(eS,eN.substring(Z2,eN.length))}var eQ=eS.lines;var eK=0;var eV=0;var eX=[];var eJ=e0.textPadding;var WH=e0.truncate;var eZ=WH&&WH.outerWidth;var eP=WH&&WH.outerHeight;if(eJ){eZ!=null&&(eZ-=eJ[1]+eJ[3]);eP!=null&&(eP-=eJ[0]+eJ[2])}for(var eW=0;eW<eQ.length;eW++){var eG=eQ[eW];var eO=0;var eU=0;for(var eM=0;eM<eG.tokens.length;eM++){var eI=eG.tokens[eM];var k=eI.styleName&&e0.rich[eI.styleName]||{};var XY=eI.textPadding=k.textPadding;var cc=eI.font=k.font||e0.font;var v=eI.textHeight=TR(k.textHeight,NL(cc));XY&&(v+=XY[0]+XY[2]);eI.height=v;eI.lineHeight=TQ(k.textLineHeight,e0.textLineHeight,v);eI.textAlign=k&&k.textAlign||e0.textAlign;eI.textVerticalAlign=k&&k.textVerticalAlign||"middle";if(eP!=null&&eK+eI.lineHeight>eP){return{lines:[],width:0,height:0}}eI.textWidth=Pb(eI.text,cc);var eF=k.textWidth;var PI=eF==null||eF==="auto";if(typeof eF==="string"&&eF.charAt(eF.length-1)==="%"){eI.percentWidth=eF;eX.push(eI);eF=0}else{if(PI){eF=eI.textWidth;var eT=k.textBackgroundColor;var Z=eT&&eT.image;if(Z){Z=VG(Z);if(Hz(Z)){eF=Math.max(eF,Z.width*v/Z.height)}}}var e=XY?XY[1]+XY[3]:0;eF+=e;var eR=eZ!=null?eZ-eU:null;if(eR!=null&&eR<eF){if(!PI||eR<e){eI.text="";eI.textWidth=eF=0}else{eI.text=EC(eI.text,eR-e,cc,WH.ellipsis,{minChar:WH.minChar});eI.textWidth=Pb(eI.text,cc);eF=eI.textWidth+e}}}eU+=(eI.width=eF);k&&(eO=Math.max(eO,eI.lineHeight))}eG.width=eU;eG.lineHeight=eO;eK+=eO;eV=Math.max(eV,eU)}eS.outerWidth=eS.width=TR(e0.textWidth,eV);eS.outerHeight=eS.height=TR(e0.textHeight,eK);if(eJ){eS.outerWidth+=eJ[1]+eJ[3];eS.outerHeight+=eJ[0]+eJ[2]}for(var eW=0;eW<eX.length;eW++){var eI=eX[eW];var eL=eI.percentWidth;eI.width=parseInt(eL,10)/100*eV}return eS}function GS(XY,v,Z){var Z2=v==="";var e=v.split("\n");var k=XY.lines;for(var WH=0;WH<e.length;WH++){var cc=e[WH];var eG={styleName:Z,text:cc,isLineHolder:!cc&&!Z2};if(!WH){var PI=(k[k.length-1]||(k[0]={tokens:[]})).tokens;var eF=PI.length;(eF===1&&PI[0].isLineHolder)?(PI[0]=eG):((cc||!eF||Z2)&&PI.push(eG))}else{k.push({tokens:[eG]})}}}function bG(Z){return(Z.fontSize||Z.fontFamily)&&[Z.fontStyle,Z.fontWeight,(Z.fontSize||12)+"px",Z.fontFamily||"sans-serif"].join(" ")||Z.textFont||Z.font}function T3(WH,k){var eF=k.x;var eG=k.y;var cc=k.width;var i=k.height;var Z=k.r;var PI;var XY;var e;var v;if(cc<0){eF=eF+cc;cc=-cc}if(i<0){eG=eG+i;i=-i}if(typeof Z==="number"){PI=XY=e=v=Z}else{if(Z instanceof Array){if(Z.length===1){PI=XY=e=v=Z[0]}else{if(Z.length===2){PI=e=Z[0];XY=v=Z[1]}else{if(Z.length===3){PI=Z[0];XY=v=Z[1];e=Z[2]}else{PI=Z[0];XY=Z[1];e=Z[2];v=Z[3]}}}}else{PI=XY=e=v=0}}var Z2;if(PI+XY>cc){Z2=PI+XY;PI*=cc/Z2;XY*=cc/Z2}if(e+v>cc){Z2=e+v;e*=cc/Z2;v*=cc/Z2}if(XY+e>i){Z2=XY+e;XY*=i/Z2;e*=i/Z2}if(PI+v>i){Z2=PI+v;PI*=i/Z2;v*=i/Z2}WH.moveTo(eF+PI,eG);WH.lineTo(eF+cc-XY,eG);XY!==0&&WH.quadraticCurveTo(eF+cc,eG,eF+cc,eG+XY);WH.lineTo(eF+cc,eG+i-e);e!==0&&WH.quadraticCurveTo(eF+cc,eG+i,eF+cc-e,eG+i);WH.lineTo(eF+v,eG+i);v!==0&&WH.quadraticCurveTo(eF,eG+i,eF,eG+i-v);WH.lineTo(eF,eG+PI);PI!==0&&WH.quadraticCurveTo(eF,eG,eF+PI,eG)}var DO={left:1,right:1,center:1};var T7={top:1,bottom:1,middle:1};function CY(Z){YP(Z);Dc(Z.rich,YP);return Z}function YP(e){if(e){e.font=bG(e);var k=e.textAlign;k==="middle"&&(k="center");e.textAlign=(k==null||DO[k])?k:"left";var i=e.textVerticalAlign||e.textBaseline;i==="center"&&(i="middle");e.textVerticalAlign=(i==null||T7[i])?i:"top";var Z=e.textPadding;if(Z){e.textPadding=Ur(e.textPadding)}}}function H8(v,k,i,Z,e){Z.rich?TT(v,k,i,Z,e):Ug(v,k,i,Z,e)}function Ug(eM,eH,eK,eV,eJ){var XY=X3(eH,"font",eV.font||F9);var PI=eV.textPadding;var eO=eM.__textCotentBlock;if(!eO||eM.__dirty){eO=eM.__textCotentBlock=Dh(eK,XY,PI,eV.truncate)}var k=eO.outerHeight;var eW=eO.lines;var eL=eO.lineHeight;var eS=QF(k,eV,eJ);var e=eS.baseX;var Z=eS.baseY;var eI=eS.textAlign;var eT=eS.textVerticalAlign;de(eH,eV,eJ,e,Z);var eP=DW(Z,k,eT);var eQ=e;var eU=eP;var WH=Sf(eV);if(WH||PI){var Z2=Pb(eK,XY);var eR=Z2;PI&&(eR+=PI[1]+PI[3]);var eF=X0(e,eR,eI);WH&&b9(eM,eH,eV,eF,eP,eR,k);if(PI){eQ=LQ(e,eI,PI);eU+=PI[0]}}X3(eH,"textAlign",eI||"left");X3(eH,"textBaseline","middle");X3(eH,"shadowBlur",eV.textShadowBlur||0);X3(eH,"shadowColor",eV.textShadowColor||"transparent");X3(eH,"shadowOffsetX",eV.textShadowOffsetX||0);X3(eH,"shadowOffsetY",eV.textShadowOffsetY||0);eU+=eL/2;var eN=eV.textStrokeWidth;var eG=cn(eV.textStroke,eN);var v=aU(eV.textFill);if(eG){X3(eH,"lineWidth",eN);X3(eH,"strokeStyle",eG)}if(v){X3(eH,"fillStyle",v)}for(var cc=0;cc<eW.length;cc++){eG&&eH.strokeText(eW[cc],eQ,eU);v&&eH.fillText(eW[cc],eQ,eU);eU+=eL}}function TT(PI,v,k,Z,i){var e=PI.__textCotentBlock;if(!e||PI.__dirty){e=PI.__textCotentBlock=JJ(k,Z)}aY(PI,v,e,Z,i)}function aY(eN,eH,eQ,eZ,eK){var eU=eQ.width;var eT=eQ.outerWidth;var k=eQ.outerHeight;var PI=eZ.textPadding;var cc=QF(k,eZ,eK);var e=cc.baseX;var Z=cc.baseY;var eJ=cc.textAlign;var eX=cc.textVerticalAlign;de(eH,eZ,eK,e,Z);var eM=X0(e,eT,eJ);var eR=DW(Z,k,eX);var v=eM;var eS=eR;if(PI){v+=PI[3];eS+=PI[0]}var eV=v+eU;Sf(eZ)&&b9(eN,eH,eZ,eM,eR,eT,k);for(var Z2=0;Z2<eQ.lines.length;Z2++){var WH=eQ.lines[Z2];var XY=WH.tokens;var eP=XY.length;var eL=WH.lineHeight;var eI=WH.width;var eW=0;var eG=v;var eF=eV;var eO=eP-1;var eY;while(eW<eP&&(eY=XY[eW],!eY.textAlign||eY.textAlign==="left")){Bu(eN,eH,eY,eZ,eL,eS,eG,"left");eI-=eY.width;eG+=eY.width;eW++}while(eO>=0&&(eY=XY[eO],eY.textAlign==="right")){Bu(eN,eH,eY,eZ,eL,eS,eF,"right");eI-=eY.width;eF-=eY.width;eO--}eG+=(eU-(eG-v)-(eV-eF)-eI)/2;while(eW<=eO){eY=XY[eW];Bu(eN,eH,eY,eZ,eL,eS,eG+eY.width/2,"center");eG+=eY.width;eW++}eS+=eL}}function de(PI,i,e,k,v){if(e&&i.textRotation){var Z=i.textOrigin;if(Z==="center"){k=e.width/2+e.x;v=e.height/2+e.y}else{if(Z){k=Z[0]+e.x;v=Z[1]+e.y}}PI.translate(k,v);PI.rotate(-i.textRotation);PI.translate(-k,-v)}}function Bu(eF,XY,eJ,Z2,cc,i,eG,Z){var v=Z2.rich[eJ.styleName]||{};var WH=eJ.textVerticalAlign;var eH=i+cc/2;if(WH==="top"){eH=i+eJ.height/2}else{if(WH==="bottom"){eH=i+cc-eJ.height/2}}!eJ.isLineHolder&&Sf(v)&&b9(eF,XY,v,Z==="right"?eG-eJ.width:Z==="center"?eG-eJ.width/2:eG,eH-eJ.height/2,eJ.width,eJ.height);var k=eJ.textPadding;if(k){eG=LQ(eG,Z,k);eH-=eJ.height/2-k[2]-eJ.textHeight/2}X3(XY,"shadowBlur",TQ(v.textShadowBlur,Z2.textShadowBlur,0));X3(XY,"shadowColor",v.textShadowColor||Z2.textShadowColor||"transparent");X3(XY,"shadowOffsetX",TQ(v.textShadowOffsetX,Z2.textShadowOffsetX,0));X3(XY,"shadowOffsetY",TQ(v.textShadowOffsetY,Z2.textShadowOffsetY,0));X3(XY,"textAlign",Z);X3(XY,"textBaseline","middle");X3(XY,"font",eJ.font||F9);var e=cn(v.textStroke||Z2.textStroke,eI);var PI=aU(v.textFill||Z2.textFill);var eI=TR(v.textStrokeWidth,Z2.textStrokeWidth);if(e){X3(XY,"lineWidth",eI);X3(XY,"strokeStyle",e);XY.strokeText(eJ.text,eG,eH)}if(PI){X3(XY,"fillStyle",PI);XY.fillText(eJ.text,eG,eH)}}function Sf(Z){return Z.textBackgroundColor||(Z.textBorderWidth&&Z.textBorderColor)}function b9(XY,v,PI,cc,eF,i,e){var Z=PI.textBackgroundColor;var Z2=PI.textBorderWidth;var k=PI.textBorderColor;var WH=DY(Z);X3(v,"shadowBlur",PI.textBoxShadowBlur||0);X3(v,"shadowColor",PI.textBoxShadowColor||"transparent");X3(v,"shadowOffsetX",PI.textBoxShadowOffsetX||0);X3(v,"shadowOffsetY",PI.textBoxShadowOffsetY||0);if(WH||(Z2&&k)){v.beginPath();var eH=PI.textBorderRadius;if(!eH){v.rect(cc,eF,i,e)}else{T3(v,{x:cc,y:eF,width:i,height:e,r:eH})}v.closePath()}if(WH){X3(v,"fillStyle",Z);v.fill()}else{if(Q(Z)){var eG=Z.image;eG=Wo(eG,null,XY,Ow,Z);if(eG&&Hz(eG)){v.drawImage(eG,cc,eF,i,e)}}}if(Z2&&k){X3(v,"lineWidth",Z2);X3(v,"strokeStyle",k);v.stroke()}}function Ow(e,Z){Z.image=e}function QF(i,PI,e){var XY=PI.x||0;var WH=PI.y||0;var Z=PI.textAlign;var k=PI.textVerticalAlign;if(e){var cc=PI.textPosition;if(cc instanceof Array){XY=e.x+NY(cc[0],e.width);WH=e.y+NY(cc[1],e.height)}else{var Z2=Xm(cc,e,PI.textDistance);XY=Z2.x;WH=Z2.y;Z=Z||Z2.textAlign;k=k||Z2.textVerticalAlign}var v=PI.textOffset;if(v){XY+=v[0];WH+=v[1]}}return{baseX:XY,baseY:WH,textAlign:Z,textVerticalAlign:k}}function X3(i,Z,e){i[Z]=e;return i[Z]}function cn(Z,e){return(Z==null||e<=0||Z==="transparent"||Z==="none")?null:(Z.image||Z.colorStops)?"#000":Z}function aU(Z){return(Z==null||Z==="none")?null:(Z.image||Z.colorStops)?"#000":Z}function NY(Z,e){if(typeof Z==="string"){if(Z.lastIndexOf("%")>=0){return parseFloat(Z)/100*e}return parseFloat(Z)}return Z}function LQ(e,i,Z){return i==="right"?(e-Z[1]):i==="center"?(e+Z[3]/2-Z[1]/2):(e+Z[3])}function Vx(Z,e){return Z!=null&&(Z||e.textBackgroundColor||(e.textBorderWidth&&e.textBorderColor)||e.textPadding)}var bu=new FC();var So=function(){};So.prototype={constructor:So,drawRectText:function(k,e){var i=this.style;e=i.textRect||e;this.__dirty&&CY(i,true);var Z=i.text;Z!=null&&(Z+="");if(!Vx(Z,i)){return}k.save();var v=this.transform;if(!i.transformText){if(v){bu.copy(e);bu.applyTransform(v);e=bu}}else{this.setTransform(k)}H8(this,k,Z,i,e);k.restore()}};function TE(Z){Z=Z||{};HH.call(this,Z);for(var e in Z){if(Z.hasOwnProperty(e)&&e!=="style"){this[e]=Z[e]}}this.style=new F4(Z.style,this);this._rect=null;this.__clipPaths=[]}TE.prototype={constructor:TE,type:"displayable",__dirty:true,invisible:false,z:0,z2:0,zlevel:0,draggable:false,dragging:false,silent:false,culling:false,cursor:"pointer",rectHover:false,progressive:-1,beforeBrush:function(Z){},afterBrush:function(Z){},brush:function(Z,e){},getBoundingRect:function(){},contain:function(Z,e){return this.rectContain(Z,e)},traverse:function(Z,e){Z.call(e,this)},rectContain:function(e,i){var k=this.transformCoordToLocal(e,i);var Z=this.getBoundingRect();return Z.contain(k[0],k[1])},dirty:function(){this.__dirty=true;this._rect=null;this.__zr&&this.__zr.refresh()},animateStyle:function(Z){return this.animate("style",Z)},attrKV:function(Z,e){if(Z!=="style"){HH.prototype.attrKV.call(this,Z,e)}else{this.style.set(e)}},setStyle:function(Z,e){this.style.set(Z,e);this.dirty(false);return this},useStyle:function(Z){this.style=new F4(Z,this);this.dirty(false);return this}};JO(TE,HH);cq(TE,So);function G4(Z){TE.call(this,Z)}G4.prototype={constructor:G4,type:"image",brush:function(v,cc){var PI=this.style;var Z=PI.image;PI.bind(v,this,cc);var eH=this._image=Wo(Z,this._image,this,this.onload);if(!eH||!Hz(eH)){return}var eF=PI.x||0;var eG=PI.y||0;var Z2=PI.width;var eI=PI.height;var i=eH.width/eH.height;if(Z2==null&&eI!=null){Z2=eI*i}else{if(eI==null&&Z2!=null){eI=Z2/i}else{if(Z2==null&&eI==null){Z2=eH.width;eI=eH.height}}}this.setTransform(v);if(PI.sWidth&&PI.sHeight){var XY=PI.sx||0;var WH=PI.sy||0;v.drawImage(eH,XY,WH,PI.sWidth,PI.sHeight,eF,eG,Z2,eI)}else{if(PI.sx&&PI.sy){var XY=PI.sx;var WH=PI.sy;var e=Z2-XY;var k=eI-WH;v.drawImage(eH,XY,WH,e,k,eF,eG,Z2,eI)}else{v.drawImage(eH,eF,eG,Z2,eI)}}this.restoreTransform(v);if(PI.text!=null){this.drawRectText(v,this.getBoundingRect())}},getBoundingRect:function(){var Z=this.style;if(!this._rect){this._rect=new FC(Z.x||0,Z.y||0,Z.width||0,Z.height||0)}return this._rect}};JO(G4,TE);var Dx=5;function O1(Z){return parseInt(Z,10)}function KX(Z){if(!Z){return false}if(Z.__builtin__){return true}if(typeof(Z.resize)!=="function"||typeof(Z.refresh)!=="function"){return false}return true}function EX(Z){Z.__unusedCount++}function ey(Z){if(Z.__unusedCount==1){Z.clear()}}var Xv=new FC(0,0,0,0);var M0=new FC(0,0,0,0);function Em(Z,i,e){Xv.copy(Z.getBoundingRect());if(Z.transform){Xv.applyTransform(Z.transform)}M0.width=i;M0.height=e;return !Xv.intersect(M0)}function J2(e,k){if(e==k){return false}if(!e||!k||(e.length!==k.length)){return true}for(var Z=0;Z<e.length;Z++){if(e[Z]!==k[Z]){return true}}}function a7(k,v){for(var Z=0;Z<k.length;Z++){var e=k[Z];e.setTransform(v);v.beginPath();e.buildPath(v,e.shape);v.clip();e.restoreTransform(v)}}function TP(i,Z){var e=document.createElement("div");e.style.cssText=["position:relative","overflow:hidden","width:"+i+"px","height:"+Z+"px","padding:0","margin:0","border-width:0"].join(";")+";";return e}var Ns=function(v,Z,PI){this.type="canvas";var Z2=!v.nodeName||v.nodeName.toUpperCase()==="CANVAS";this._opts=PI=V8({},PI||{});this.dpr=PI.devicePixelRatio||Yp;this._singleCanvas=Z2;this.root=v;var i=v.style;if(i){i["-webkit-tap-highlight-color"]="transparent";i["-webkit-user-select"]=i["user-select"]=i["-webkit-touch-callout"]="none";v.innerHTML=""}this.storage=Z;var WH=this._zlevelList=[];var cc=this._layers={};this._layerConfig={};if(!Z2){this._width=this._getSize(0);this._height=this._getSize(1);var e=this._domRoot=TP(this._width,this._height);v.appendChild(e)}else{if(PI.width!=null){v.width=PI.width}if(PI.height!=null){v.height=PI.height}var XY=v.width;var eF=v.height;this._width=XY;this._height=eF;var k=new Zj(v,this,1);k.initContext();cc[0]=k;WH.push(0);this._domRoot=v}this._progressiveLayers=[];this._hoverlayer;this._hoverElements=[]};Ns.prototype={constructor:Ns,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var Z=this.getViewportRoot();if(Z){return{offsetLeft:Z.offsetLeft||0,offsetTop:Z.offsetTop||0}}},refresh:function(k){var WH=this.storage.getDisplayList(true);var e=this._zlevelList;this._paintList(WH,k);for(var Z=0;Z<e.length;Z++){var v=e[Z];var PI=this._layers[v];if(!PI.__builtin__&&PI.refresh){PI.refresh()}}this.refreshHover();if(this._progressiveLayers.length){this._startProgessive()}return this},addHover:function(Z,i){if(Z.__hoverMir){return}var e=new Z.constructor({style:Z.style,shape:Z.shape});e.__from=Z;Z.__hoverMir=e;e.setStyle(i);this._hoverElements.push(e)},removeHover:function(Z){var e=Z.__hoverMir;var k=this._hoverElements;var i=Fx(k,e);if(i>=0){k.splice(i,1)}Z.__hoverMir=null},clearHover:function(Z){var v=this._hoverElements;for(var e=0;e<v.length;e++){var k=v[e].__from;if(k){k.__hoverMir=null}}v.length=0},refreshHover:function(){var WH=this._hoverElements;var v=WH.length;var k=this._hoverlayer;k&&k.clear();if(!v){return}Tb(WH,this.storage.displayableSortFunc);if(!k){k=this._hoverlayer=this.getLayer(100000)}var PI={};k.ctx.save();for(var e=0;e<v;){var Z=WH[e];var XY=Z.__from;if(!(XY&&XY.__zr)){WH.splice(e,1);XY.__hoverMir=null;v--;continue}e++;if(!XY.invisible){Z.transform=XY.transform;Z.invTransform=XY.invTransform;Z.__clipPaths=XY.__clipPaths;this._doPaintEl(Z,k,true,PI)}}k.ctx.restore()},_startProgessive:function(){var i=this;if(!i._furtherProgressive){return}var e=i._progressiveToken=+new Date();i._progress++;Zt(Z);function Z(){if(e===i._progressiveToken&&i.storage){i._doPaintList(i.storage.getDisplayList());if(i._furtherProgressive){i._progress++;Zt(Z)}else{i._progressiveToken=-1}}}},_clearProgressive:function(){this._progressiveToken=-1;this._progress=0;Dc(this._progressiveLayers,function(Z){Z.__dirty&&Z.clear()})},_paintList:function(e,Z){if(Z==null){Z=false}this._updateLayerStatus(e);this._clearProgressive();this.eachBuiltinLayer(EX);this._doPaintList(e,Z);this.eachBuiltinLayer(ey)},_doPaintList:function(Z,eF){var PI;var eJ;var cc;var Z2;var e=0;var eK;var eH=this._width;var eN=this._height;var eG;var k=this._progress;function v(i){var eO=cc.dpr||1;cc.save();cc.globalAlpha=1;cc.shadowBlur=0;PI.__dirty=true;cc.setTransform(1,0,0,1,0,0);cc.drawImage(i.dom,0,0,eH*eO,eN*eO);cc.restore()}for(var eL=0,XY=Z.length;eL<XY;eL++){var eM=Z[eL];var WH=this._singleCanvas?0:eM.zlevel;var eI=eM.__frame;if(eI<0&&eK){v(eK);eK=null}if(eJ!==WH){if(cc){cc.restore()}Z2={};eJ=WH;PI=this.getLayer(eJ);if(!PI.__builtin__){Qw("ZLevel "+eJ+" has been used by unkown layer "+PI.id)}cc=PI.ctx;cc.save();PI.__unusedCount=0;if(PI.__dirty||eF){PI.clear()}}if(!(PI.__dirty||eF)){continue}if(eI>=0){if(!eK){eK=this._progressiveLayers[Math.min(e++,Dx-1)];eK.ctx.save();eK.renderScope={};if(eK&&(eK.__progress>eK.__maxProgress)){eL=eK.__nextIdxNotProg-1;continue}eG=eK.__progress;if(!eK.__dirty){k=eG}eK.__progress=k+1}if(eI===k){this._doPaintEl(eM,eK,true,eK.renderScope)}}else{this._doPaintEl(eM,PI,eF,Z2)}eM.__dirty=false}if(eK){v(eK)}cc&&cc.restore();this._furtherProgressive=false;Dc(this._progressiveLayers,function(i){if(i.__maxProgress>=i.__progress){this._furtherProgressive=true}},this)},_doPaintEl:function(Z,e,i,PI){var WH=e.ctx;var k=Z.transform;if((e.__dirty||i)&&!Z.invisible&&Z.style.opacity!==0&&!(k&&!k[0]&&!k[3])&&!(Z.culling&&Em(Z,this._width,this._height))){var v=Z.__clipPaths;if(PI.prevClipLayer!==e||J2(v,PI.prevElClipPaths)){if(PI.prevElClipPaths){PI.prevClipLayer.ctx.restore();PI.prevClipLayer=PI.prevElClipPaths=null;PI.prevEl=null}if(v){WH.save();a7(v,WH);PI.prevClipLayer=e;PI.prevElClipPaths=v}}Z.beforeBrush&&Z.beforeBrush(WH);Z.brush(WH,PI.prevEl||null);PI.prevEl=Z;Z.afterBrush&&Z.afterBrush(WH)}},getLayer:function(e){if(this._singleCanvas){return this._layers[0]}var Z=this._layers[e];if(!Z){Z=new Zj("zr_"+e,this,this.dpr);Z.__builtin__=true;if(this._layerConfig[e]){KT(Z,this._layerConfig[e],true)}this.insertLayer(e,Z);Z.initContext()}return Z},insertLayer:function(k,cc){var v=this._layers;var XY=this._zlevelList;var Z2=XY.length;var Z=null;var PI=-1;var e=this._domRoot;if(v[k]){Qw("ZLevel "+k+" has been used already");return}if(!KX(cc)){Qw("Layer of zlevel "+k+" is not valid");return}if(Z2>0&&k>XY[0]){for(PI=0;PI<Z2-1;PI++){if(XY[PI]<k&&XY[PI+1]>k){break}}Z=v[XY[PI]]}XY.splice(PI+1,0,k);v[k]=cc;if(!cc.virtual){if(Z){var WH=Z.dom;if(WH.nextSibling){e.insertBefore(cc.dom,WH.nextSibling)}else{e.appendChild(cc.dom)}}else{if(e.firstChild){e.insertBefore(cc.dom,e.firstChild)}else{e.appendChild(cc.dom)}}}},eachLayer:function(Z,e){var k=this._zlevelList;var PI;var v;for(v=0;v<k.length;v++){PI=k[v];Z.call(e,this._layers[PI],PI)}},eachBuiltinLayer:function(Z,e){var k=this._zlevelList;var WH;var PI;var v;for(v=0;v<k.length;v++){PI=k[v];WH=this._layers[PI];if(WH.__builtin__){Z.call(e,WH,PI)}}},eachOtherLayer:function(Z,e){var k=this._zlevelList;var WH;var PI;var v;for(v=0;v<k.length;v++){PI=k[v];WH=this._layers[PI];if(!WH.__builtin__){Z.call(e,WH,PI)}}},getLayers:function(){return this._layers},_updateLayerStatus:function(e){var cc=this._layers;var PI=this._progressiveLayers;var k={};var eI={};this.eachBuiltinLayer(function(eN,i){k[i]=eN.elCount;eN.elCount=0;eN.__dirty=false});Dc(PI,function(i,eN){eI[eN]=i.elCount;i.elCount=0;i.__dirty=false});var XY=0;var eK;var eH;var eF=0;for(var v=0,WH=e.length;v<WH;v++){var eL=e[v];var eJ=this._singleCanvas?0:eL.zlevel;var Z2=cc[eJ];var Z=eL.progressive;if(Z2){Z2.elCount++;Z2.__dirty=Z2.__dirty||eL.__dirty}if(Z>=0){if(eH!==Z){eH=Z;eF++}var eG=eL.__frame=eF-1;if(!eK){var eM=Math.min(XY,Dx-1);eK=PI[eM];if(!eK){eK=PI[eM]=new Zj("progressive",this,this.dpr);eK.initContext()}eK.__maxProgress=0}eK.__dirty=eK.__dirty||eL.__dirty;eK.elCount++;eK.__maxProgress=Math.max(eK.__maxProgress,eG);if(eK.__maxProgress>=eK.__progress){Z2.__dirty=true}}else{eL.__frame=-1;if(eK){eK.__nextIdxNotProg=v;XY++;eK=null}}}if(eK){XY++;eK.__nextIdxNotProg=v}this.eachBuiltinLayer(function(eN,i){if(k[i]!==eN.elCount){eN.__dirty=true}});PI.length=Math.min(XY,Dx);Dc(PI,function(i,eN){if(eI[eN]!==i.elCount){eL.__dirty=true}if(i.__dirty){i.__progress=0}})},clear:function(){this.eachBuiltinLayer(this._clearLayer);return this},_clearLayer:function(Z){Z.clear()},configLayer:function(k,i){if(i){var e=this._layerConfig;if(!e[k]){e[k]=i}else{KT(e[k],i,true)}var Z=this._layers[k];if(Z){KT(Z,e[k],true)}}},delLayer:function(k){var i=this._layers;var e=this._zlevelList;var Z=i[k];if(!Z){return}Z.dom.parentNode.removeChild(Z.dom);delete i[k];e.splice(Fx(e,k),1)},resize:function(k,Z){var i=this._domRoot;i.style.display="none";var e=this._opts;k!=null&&(e.width=k);Z!=null&&(e.height=Z);k=this._getSize(0);Z=this._getSize(1);i.style.display="";if(this._width!=k||Z!=this._height){i.style.width=k+"px";i.style.height=Z+"px";for(var v in this._layers){if(this._layers.hasOwnProperty(v)){this._layers[v].resize(k,Z)}}Dc(this._progressiveLayers,function(PI){PI.resize(k,Z)});this.refresh(true)}this._width=k;this._height=Z;return this},clearLayer:function(e){var Z=this._layers[e];if(Z){Z.clear()}},dispose:function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(WH){WH=WH||{};if(this._singleCanvas){return this._layers[0].dom}var XY=new Zj("image",this,WH.pixelRatio||this.dpr);XY.initContext();XY.clearColor=WH.backgroundColor;XY.clear();var Z2=this.storage.getDisplayList(true);var k={};var Z;var cc=this;function e(eI,eH){var eG=cc._zlevelList;if(eI==null){eI=-Infinity}var eK;for(var eJ=0;eJ<eG.length;eJ++){var eL=eG[eJ];var eF=cc._layers[eL];if(!eF.__builtin__&&eL>eI&&eL<eH){eK=eF;break}}if(eK&&eK.renderToCanvas){XY.ctx.save();eK.renderToCanvas(XY.ctx);XY.ctx.restore()}}for(var PI=0;PI<Z2.length;PI++){var v=Z2[PI];if(v.zlevel!==Z){e(Z,v.zlevel);Z=v.zlevel}this._doPaintEl(v,XY,true,k)}e(Z,Infinity);return XY.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(Z){var k=this._opts;var XY=["width","height"][Z];var e=["clientWidth","clientHeight"][Z];var v=["paddingLeft","paddingTop"][Z];var PI=["paddingRight","paddingBottom"][Z];if(k[XY]!=null&&k[XY]!=="auto"){return parseFloat(k[XY])}var i=this.root;var WH=document.defaultView.getComputedStyle(i);return((i[e]||O1(WH[XY])||O1(i.style[XY]))-(O1(WH[v])||0)-(O1(WH[PI])||0))|0},pathToImage:function(v,eF){eF=eF||this.dpr;var Z=document.createElement("canvas");var eL=Z.getContext("2d");var k=v.getBoundingRect();var eM=v.style;var eH=eM.shadowBlur;var i=eM.shadowOffsetX;var e=eM.shadowOffsetY;var eG=eM.hasStroke()?eM.lineWidth:0;var eN=Math.max(eG/2,-i+eH);var eI=Math.max(eG/2,i+eH);var XY=Math.max(eG/2,-e+eH);var cc=Math.max(eG/2,e+eH);var PI=k.width+eN+eI;var eK=k.height+XY+cc;Z.width=PI*eF;Z.height=eK*eF;eL.scale(eF,eF);eL.clearRect(0,0,PI,eK);eL.dpr=eF;var eJ={position:v.position,rotation:v.rotation,scale:v.scale};v.position=[eN-k.x,XY-k.y];v.rotation=0;v.scale=[1,1];v.updateTransform();if(v){v.brush(eL)}var Z2=G4;var WH=new Z2({style:{x:0,y:0,image:Z}});if(eJ.position!=null){WH.position=v.position=eJ.position}if(eJ.rotation!=null){WH.rotation=v.rotation=eJ.rotation}if(eJ.scale!=null){WH.scale=v.scale=eJ.scale}return WH}};var bN=(typeof window!=="undefined")&&!!window.addEventListener;var Jl=/^(?:mouse|pointer|contextmenu|drag|drop)|click/;function Jn(Z){return Z.getBoundingClientRect?Z.getBoundingClientRect():{left:0,top:0}}function Qs(Z,i,k,v){k=k||{};if(v||!PF.canvasSupported){EJ(Z,i,k)}else{if(PF.browser.firefox&&i.layerX!=null&&i.layerX!==i.offsetX){k.zrX=i.layerX;k.zrY=i.layerY}else{if(i.offsetX!=null){k.zrX=i.offsetX;k.zrY=i.offsetY}else{EJ(Z,i,k)}}}return k}function EJ(Z,i,k){var v=Jn(Z);k.zrX=i.clientX-v.left;k.zrY=i.clientY-v.top}function ML(Z,k,WH){k=k||window.event;if(k.zrX!=null){return k}var v=k.type;var XY=v&&v.indexOf("touch")>=0;if(!XY){Qs(Z,k,k,WH);k.zrDelta=(k.wheelDelta)?k.wheelDelta/120:-(k.detail||0)/3}else{var PI=v!="touchend"?k.targetTouches[0]:k.changedTouches[0];PI&&Qs(Z,PI,k,WH)}var i=k.button;if(k.which==null&&i!==undefined&&Jl.test(k.type)){k.which=(i&1?1:(i&2?3:(i&4?2:0)))}return k}function FU(Z,i,e){if(bN){Z.addEventListener(i,e)}else{Z.attachEvent("on"+i,e)}}function JQ(Z,i,e){if(bN){Z.removeEventListener(i,e)}else{Z.detachEvent("on"+i,e)}}var Gj=bN?function(Z){Z.preventDefault();Z.stopPropagation();Z.cancelBubble=true}:function(Z){Z.returnValue=false;Z.cancelBubble=true};function dT(Z){return Z.which>1}var Xw=function(Z){Z=Z||{};this.stage=Z.stage||{};this.onframe=Z.onframe||function(){};this._clips=[];this._running=false;this._time;this._pausedTime;this._pauseStart;this._paused=false;at.call(this)};Xw.prototype={constructor:Xw,addClip:function(Z){this._clips.push(Z)},addAnimator:function(e){e.animation=this;var k=e.getClips();for(var Z=0;Z<k.length;Z++){this.addClip(k[Z])}},removeClip:function(Z){var e=Fx(this._clips,Z);if(e>=0){this._clips.splice(e,1)}},removeAnimator:function(e){var k=e.getClips();for(var Z=0;Z<k.length;Z++){this.removeClip(k[Z])}e.animation=null},_update:function(){var k=new Date().getTime()-this._pausedTime;var cc=k-this._time;var XY=this._clips;var Z2=XY.length;var v=[];var PI=[];for(var WH=0;WH<Z2;WH++){var eF=XY[WH];var Z=eF.step(k,cc);if(Z){v.push(Z);PI.push(eF)}}for(var WH=0;WH<Z2;){if(XY[WH]._needsRemove){XY[WH]=XY[Z2-1];XY.pop();Z2--}else{WH++}}Z2=v.length;for(var WH=0;WH<Z2;WH++){PI[WH].fire(v[WH])}this._time=k;this.onframe(cc);this.trigger("frame",cc);if(this.stage.update){this.stage.update()}},_startLoop:function(){var e=this;this._running=true;function Z(){if(e._running){Zt(Z);!e._paused&&e._update()}}Zt(Z)},start:function(){this._time=new Date().getTime();this._pausedTime=0;this._startLoop()},stop:function(){this._running=false},pause:function(){if(!this._paused){this._pauseStart=new Date().getTime();this._paused=true}},resume:function(){if(this._paused){this._pausedTime+=(new Date().getTime())-this._pauseStart;this._paused=false}},clear:function(){this._clips=[]},animate:function(i,e){e=e||{};var Z=new ab(i,e.loop,e.getter,e.setter);this.addAnimator(Z);return Z}};cq(Xw,at);var O0=function(){this._track=[]};O0.prototype={constructor:O0,recognize:function(e,i,Z){this._doTrack(e,i,Z);return this._recognize(e)},clear:function(){this._track.length=0;return this},_doTrack:function(v,Z2,Z){var XY=v.touches;if(!XY){return}var PI={points:[],touches:[],target:Z2,event:v};for(var WH=0,cc=XY.length;WH<cc;WH++){var e=XY[WH];var k=Qs(Z,e,{});PI.points.push([k.zrX,k.zrY]);PI.touches.push(e)}this._track.push(PI)},_recognize:function(e){for(var Z in Aq){if(Aq.hasOwnProperty(Z)){var i=Aq[Z](this._track,e);if(i){return i}}}}};function P6(Z){var e=Z[1][0]-Z[0][0];var i=Z[1][1]-Z[0][1];return Math.sqrt(e*e+i*i)}function TA(Z){return[(Z[0][0]+Z[1][0])/2,(Z[0][1]+Z[1][1])/2]}var Aq={pinch:function(v,WH){var k=v.length;if(!k){return}var Z=(v[k-1]||{}).points;var e=(v[k-2]||{}).points||Z;if(e&&e.length>1&&Z&&Z.length>1){var i=P6(Z)/P6(e);!isFinite(i)&&(i=1);WH.pinchScale=i;var PI=TA(Z);WH.pinchX=PI[0];WH.pinchY=PI[1];return{type:"pinch",target:v[0].target,event:WH}}}};var cQ=300;var Tm=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];var Vf=["touchstart","touchend","touchmove"];var ck={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};var MH=PK(Tm,function(e){var Z=e.replace("mouse","pointer");return ck[Z]?Z:e});function Vb(Z){return(Z==="mousewheel"&&PF.browser.firefox)?"DOMMouseScroll":Z}function c2(i,v,e){var Z=i._gestureMgr;e==="start"&&Z.clear();var PI=Z.recognize(v,i.handler.findHover(v.zrX,v.zrY,null).target,i.dom);e==="end"&&Z.clear();if(PI){var k=PI.type;v.gestureEvent=k;i.handler.dispatchToElement({target:PI.target},k,PI.event)}}function Qq(Z){Z._touching=true;clearTimeout(Z._touchTimer);Z._touchTimer=setTimeout(function(){Z._touching=false},700)}var V9={mousemove:function(Z){Z=ML(this.dom,Z);this.trigger("mousemove",Z)},mouseout:function(Z){Z=ML(this.dom,Z);var e=Z.toElement||Z.relatedTarget;if(e!=this.dom){while(e&&e.nodeType!=9){if(e===this.dom){return}e=e.parentNode}}this.trigger("mouseout",Z)},touchstart:function(Z){Z=ML(this.dom,Z);Z.zrByTouch=true;this._lastTouchMoment=new Date();c2(this,Z,"start");V9.mousemove.call(this,Z);V9.mousedown.call(this,Z);Qq(this)},touchmove:function(Z){Z=ML(this.dom,Z);Z.zrByTouch=true;c2(this,Z,"change");V9.mousemove.call(this,Z);Qq(this)},touchend:function(Z){Z=ML(this.dom,Z);Z.zrByTouch=true;c2(this,Z,"end");V9.mouseup.call(this,Z);if(+new Date()-this._lastTouchMoment<cQ){V9.click.call(this,Z)}Qq(this)},pointerdown:function(Z){V9.mousedown.call(this,Z)},pointermove:function(Z){if(!Fs(Z)){V9.mousemove.call(this,Z)}},pointerup:function(Z){V9.mouseup.call(this,Z)},pointerout:function(Z){if(!Fs(Z)){V9.mouseout.call(this,Z)}}};function Fs(e){var Z=e.pointerType;return Z==="pen"||Z==="touch"}Dc(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(Z){V9[Z]=function(e){e=ML(this.dom,e);this.trigger(Z,e)}});function Wi(Z){Dc(Vf,function(i){Z._handlers[i]=b3(V9[i],Z)});Dc(MH,function(i){Z._handlers[i]=b3(V9[i],Z)});Dc(Tm,function(i){Z._handlers[i]=e(V9[i],Z)});function e(k,i){return function(){if(i._touching){return}return k.apply(i,arguments)}}}function Q1(Z){at.call(this);this.dom=Z;this._touching=false;this._touchTimer;this._gestureMgr=new O0();this._handlers={};Wi(this);if(PF.pointerEventsSupported){e(MH,this)}else{if(PF.touchEventsSupported){e(Vf,this)}e(Tm,this)}function e(k,i){Dc(k,function(v){FU(Z,Vb(v),i._handlers[v])},i)}}var Lj=Q1.prototype;Lj.dispose=function(){var k=Tm.concat(Vf);for(var Z=0;Z<k.length;Z++){var e=k[Z];JQ(this.dom,Vb(e),this._handlers[e])}};Lj.setCursor=function(Z){this.dom.style.cursor=Z||"default"};cq(Q1,at);
/*
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/
var Ek=!PF.canvasSupported;var UP={canvas:Ns};var PS={};var Tk="3.7.3";function bo(Z,i){var e=new YZ(By(),Z,i);PS[e.id]=e;return e}function Po(e){if(e){e.dispose()}else{for(var Z in PS){if(PS.hasOwnProperty(Z)){PS[Z].dispose()}}PS={}}return this}function CG(Z){return PS[Z]}function CA(Z,e){UP[Z]=e}function NZ(Z){delete PS[Z]}var YZ=function(WH,e,v){v=v||{};this.dom=e;this.id=WH;var XY=this;var Z=new aa();var Z2=v.renderer;if(Ek){if(!UP.vml){throw new Error("You need to require 'zrender/vml/vml' to support IE8")}Z2="vml"}else{if(!Z2||!UP[Z2]){Z2="canvas"}}var cc=new UP[Z2](e,Z,v);this.storage=Z;this.painter=cc;var PI=!PF.node?new Q1(cc.getViewportRoot()):null;this.handler=new IU(Z,cc,PI,cc.root);this.animation=new Xw({stage:{update:b3(this.flush,this)}});this.animation.start();this._needsRefresh;var i=Z.delFromStorage;var k=Z.addToStorage;Z.delFromStorage=function(eF){i.call(Z,eF);eF&&eF.removeSelfFromZr(XY)};Z.addToStorage=function(eF){k.call(Z,eF);eF.addSelfToZr(XY)}};YZ.prototype={constructor:YZ,getId:function(){return this.id},add:function(Z){this.storage.addRoot(Z);this._needsRefresh=true},remove:function(Z){this.storage.delRoot(Z);this._needsRefresh=true},configLayer:function(e,Z){this.painter.configLayer(e,Z);this._needsRefresh=true},refreshImmediately:function(){this._needsRefresh=false;this.painter.refresh();this._needsRefresh=false},refresh:function(){this._needsRefresh=true},flush:function(){if(this._needsRefresh){this.refreshImmediately()}if(this._needsRefreshHover){this.refreshHoverImmediately()}},addHover:function(Z,e){if(this.painter.addHover){this.painter.addHover(Z,e);this.refreshHover()}},removeHover:function(Z){if(this.painter.removeHover){this.painter.removeHover(Z);this.refreshHover()}},clearHover:function(){if(this.painter.clearHover){this.painter.clearHover();this.refreshHover()}},refreshHover:function(){this._needsRefreshHover=true},refreshHoverImmediately:function(){this._needsRefreshHover=false;this.painter.refreshHover&&this.painter.refreshHover()},resize:function(Z){Z=Z||{};this.painter.resize(Z.width,Z.height);this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(Z,i){return this.painter.pathToImage(Z,i)},setCursorStyle:function(Z){this.handler.setCursorStyle(Z)},findHover:function(Z,e){return this.handler.findHover(Z,e)},on:function(e,i,Z){this.handler.on(e,i,Z)},off:function(Z,e){this.handler.off(Z,e)},trigger:function(Z,e){this.handler.trigger(Z,e)},clear:function(){this.storage.delRoot();this.painter.clear()},dispose:function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;NZ(this.id)}};var cj=(Object.freeze||Object)({version:Tk,init:bo,dispose:Po,getInstance:CG,registerPainter:CA});var Er=0.0001;function W0(Z){return Z.replace(/^\s+/,"").replace(/\s+$/,"")}function WL(k,PI,v,i){var e=PI[1]-PI[0];var Z=v[1]-v[0];if(e===0){return Z===0?v[0]:(v[0]+v[1])/2}if(i){if(e>0){if(k<=PI[0]){return v[0]}else{if(k>=PI[1]){return v[1]}}}else{if(k>=PI[0]){return v[0]}else{if(k<=PI[1]){return v[1]}}}}else{if(k===PI[0]){return v[0]}if(k===PI[1]){return v[1]}}return(k-PI[0])/e*Z+v[0]}function OC(e,Z){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%";break}if(typeof e==="string"){if(W0(e).match(/%$/)){return parseFloat(e)/100*Z}return parseFloat(e)}return e==null?NaN:+e}function eA(e,Z,i){if(Z==null){Z=10}Z=Math.min(Math.max(0,Z),20);e=(+e).toFixed(Z);return i?e:+e}function FB(Z){Z.sort(function(i,e){return i-e});return Z}function bD(k){k=+k;if(isNaN(k)){return 0}var i=1;var Z=0;while(Math.round(k*i)/i!==k){i*=10;Z++}return Z}function Be(v){var k=v.toString();var i=k.indexOf("e");if(i>0){var Z=+k.slice(i+1);return Z<0?-Z:0}else{var e=k.indexOf(".");return e<0?0:k.length-1-e}}function a6(WH,i){var v=Math.log;var e=Math.LN10;var k=Math.floor(v(WH[1]-WH[0])/e);var Z=Math.round(v(Math.abs(i[1]-i[0]))/e);var PI=Math.min(Math.max(-k+Z,0),20);return !isFinite(PI)?20:PI}function FD(eI,PI,e){if(!eI[PI]){return 0}var XY=EB(eI,function(eK,i){return eK+(isNaN(i)?0:i)},0);if(XY===0){return 0}var WH=Math.pow(10,e);var eF=PK(eI,function(i){return(isNaN(i)?0:i)/XY*WH*100});var cc=WH*100;var v=PK(eF,function(i){return Math.floor(i)});var eH=EB(v,function(eK,i){return eK+i},0);var eJ=PK(eF,function(i,eK){return i-v[eK]});while(eH<cc){var k=Number.NEGATIVE_INFINITY;var Z=null;for(var Z2=0,eG=eJ.length;Z2<eG;++Z2){if(eJ[Z2]>k){k=eJ[Z2];Z=Z2}}++v[Z];eJ[Z]=0;++eH}return v[PI]/WH}var Vw=9.00719925474099e+15;function Wa(e){var Z=Math.PI*2;return(e%Z+Z)%Z}function U3(Z){return Z>-Er&&Z<Er}var bF=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function AS(i){if(i instanceof Date){return i}else{if(typeof i==="string"){var Z=bF.exec(i);if(!Z){return new Date(NaN)}if(!Z[8]){return new Date(+Z[1],+(Z[2]||1)-1,+Z[3]||1,+Z[4]||0,+(Z[5]||0),+Z[6]||0,+Z[7]||0)}else{var e=+Z[4]||0;if(Z[8].toUpperCase()!=="Z"){e-=Z[8].slice(0,3)}return new Date(Date.UTC(+Z[1],+(Z[2]||1)-1,+Z[3]||1,e,+(Z[5]||0),+Z[6]||0,+Z[7]||0))}}else{if(i==null){return new Date(NaN)}}}return new Date(Math.round(i))}function Qp(Z){return Math.pow(10,Jo(Z))}function Jo(Z){return Math.floor(Math.log(Z)/Math.LN10)}function ZU(k,Z){var e=Jo(k);var v=Math.pow(10,e);var PI=k/v;var i;if(Z){if(PI<1.5){i=1}else{if(PI<2.5){i=2}else{if(PI<4){i=3}else{if(PI<7){i=5}else{i=10}}}}}else{if(PI<1){i=1}else{if(PI<2){i=2}else{if(PI<3){i=3}else{if(PI<5){i=5}else{i=10}}}}}k=i*v;return e>=-20?+k.toFixed(e<0?-e:0):k}function Gy(Z){Z.sort(function(cc,i){return Z2(cc,i,0)?-1:1});var v=-Infinity;var XY=1;for(var k=0;k<Z.length;){var PI=Z[k].interval;var e=Z[k].close;for(var WH=0;WH<2;WH++){if(PI[WH]<=v){PI[WH]=v;e[WH]=!WH?1-XY:1}v=PI[WH];XY=e[WH]}if(PI[0]===PI[1]&&e[0]*e[1]!==1){Z.splice(k,1)}else{k++}}return Z;function Z2(eF,cc,i){return eF.interval[i]<cc.interval[i]||(eF.interval[i]===cc.interval[i]&&((eF.close[i]-cc.close[i]===(!i?1:-1))||(!i&&Z2(eF,cc,1))))}}function PM(Z){return Z-parseFloat(Z)>=0}var Hn=(Object.freeze||Object)({linearMap:WL,parsePercent:OC,round:eA,asc:FB,getPrecision:bD,getPrecisionSafe:Be,getPixelPrecision:a6,getPercentWithPrecision:FD,MAX_SAFE_INTEGER:Vw,remRadian:Wa,isRadianAroundZero:U3,parseDate:AS,quantity:Qp,nice:ZU,reformIntervals:Gy,isNumeric:PM});function Mi(Z){if(isNaN(Z)){return"-"}Z=(Z+"").split(".");return Z[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(Z.length>1?("."+Z[1]):"")}function MP(e,Z){e=(e||"").toLowerCase().replace(/-(.)/g,function(i,k){return k.toUpperCase()});if(Z&&e){e=e.charAt(0).toUpperCase()+e.slice(1)}return e}var Q3=Ur;function Pp(Z){return String(Z).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var UK=["a","b","c","d","e","f","g"];var Xi=function(e,Z){return"{"+e+(Z==null?"":Z)+"}"};function Jw(Z2,XY,e){if(!aO(XY)){XY=[XY]}var cc=XY.length;if(!cc){return""}var eF=XY[0].$vars||[];for(var v=0;v<eF.length;v++){var eG=UK[v];var Z=Xi(eG,0);Z2=Z2.replace(Xi(eG),e?Pp(Z):Z)}for(var WH=0;WH<cc;WH++){for(var PI=0;PI<eF.length;PI++){var Z=XY[WH][eF[PI]];Z2=Z2.replace(Xi(UK[PI],WH),e?Pp(Z):Z)}}return Z2}function F1(Z,e,i){Dc(e,function(v,k){Z=Z.replace("{"+k+"}",i?Pp(v):v)});return Z}function ep(e,Z){return e?'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+Pp(e)+";"+(Z||"")+'"></span>':""}var Fn=function(Z){return Z<10?("0"+Z):Z};function aV(XY,k,cc){if(XY==="week"||XY==="month"||XY==="quarter"||XY==="half-year"||XY==="year"){XY="MM-dd\nyyyy"}var eF=AS(k);var PI=cc?"UTC":"";var Z2=eF["get"+PI+"FullYear"]();var i=eF["get"+PI+"Month"]()+1;var e=eF["get"+PI+"Date"]();var v=eF["get"+PI+"Hours"]();var WH=eF["get"+PI+"Minutes"]();var Z=eF["get"+PI+"Seconds"]();XY=XY.replace("MM",Fn(i)).replace("M",i).replace("yyyy",Z2).replace("yy",Z2%100).replace("dd",Fn(e)).replace("d",e).replace("hh",Fn(v)).replace("h",v).replace("mm",Fn(WH)).replace("m",WH).replace("ss",Fn(Z)).replace("s",Z);return XY}function FK(Z){return Z?Z.charAt(0).toUpperCase()+Z.substr(1):Z}var ZB=EC;var AQ=Hv;var RO=(Object.freeze||Object)({addCommas:Mi,toCamelCase:MP,normalizeCssArray:Q3,encodeHTML:Pp,formatTpl:Jw,formatTplSimple:F1,getTooltipMarker:ep,formatTime:aV,capitalFirst:FK,truncateText:ZB,getTextRect:AQ});var MU=".";var X1="___EC__COMPONENT__CONTAINER___";var Ao="\0ec_\0";function Kv(Z,e,i){return(Z[Ao+e]=i)}function Z9(Z,e){return Z[Ao+e]}function D5(Z,e){return Z.hasOwnProperty(Ao+e)}function Gb(Z){var e={main:"",sub:""};if(Z){Z=Z.split(MU);e.main=Z[0]||"";e.sub=Z[1]||""}return e}function Iv(Z){Re(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(Z),'componentType "'+Z+'" illegal')}function AR(e,Z){e.$constructor=e;e.extend=function(k){if(Vo){Dc(Z,function(PI){if(!k[PI]){console.warn("Method `"+PI+"` should be implemented"+(k.type?" in "+k.type:"")+".")}})}var i=this;var v=function(){if(!k.$constructor){i.apply(this,arguments)}else{k.$constructor.apply(this,arguments)}};V8(v.prototype,k);v.extend=this.extend;v.superCall=IJ;v.superApply=PA;JO(v,this);v.superClass=i;return v}}function IJ(Z,e){var i=BW(arguments,2);return this.superClass.prototype[e].apply(Z,i)}function PA(Z,e,i){return this.superClass.prototype[e].apply(Z,i)}function W7(v,i){i=i||{};var Z={};v.registerClass=function(XY,PI){if(PI){Iv(PI);PI=Gb(PI);if(!PI.sub){if(Vo){if(Z[PI.main]){console.warn(PI.main+" exists.")}}Z[PI.main]=XY}else{if(PI.sub!==X1){var WH=k(PI);WH[PI.sub]=XY}}}return XY};v.getClass=function(WH,Z2,PI){var XY=Z[WH];if(XY&&XY[X1]){XY=Z2?XY[Z2]:null}if(PI&&!XY){throw new Error(!Z2?WH+".type should be specified.":"Component "+WH+"."+(Z2||"")+" not exists. Load it first.")}return XY};v.getClassesByMainType=function(WH){WH=Gb(WH);var XY=[];var PI=Z[WH.main];if(PI&&PI[X1]){Dc(PI,function(cc,Z2){Z2!==X1&&XY.push(cc)})}else{XY.push(PI)}return XY};v.hasClass=function(PI){PI=Gb(PI);return !!Z[PI.main]};v.getAllClassMainTypes=function(){var PI=[];Dc(Z,function(XY,WH){PI.push(WH)});return PI};v.hasSubTypes=function(WH){WH=Gb(WH);var PI=Z[WH.main];return PI&&PI[X1]};v.parseClassType=Gb;function k(PI){var WH=Z[PI.main];if(!WH||!WH[X1]){WH=Z[PI.main]={};WH[X1]=true}return WH}if(i.registerWhenExtend){var e=v.extend;if(e){v.extend=function(PI){var WH=e.call(this,PI);return v.registerClass(WH,PI.type)}}}return v}var CS=function(e){for(var Z=0;Z<e.length;Z++){if(!e[Z][1]){e[Z][1]=e[Z][0]}}return function(Z2,WH,v){var PI={};for(var k=0;k<e.length;k++){var cc=e[k][1];if((WH&&Fx(WH,cc)>=0)||(v&&Fx(v,cc)<0)){continue}var XY=Z2.getShallow(cc);if(XY!=null){PI[e[k][0]]=XY}}return PI}};var XF=CS([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);var XH={getLineStyle:function(e){var Z=XF(this,e);var i=this.getLineDash(Z.lineWidth);i&&(Z.lineDash=i);return Z},getLineDash:function(k){if(k==null){k=1}var e=this.get("type");var i=Math.max(k,2);var Z=k*4;return(e==="solid"||e==null)?null:(e==="dashed"?[Z,Z]:[i,i])}};var Tv=CS([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]);var OH={getAreaStyle:function(e,Z){return Tv(this,e,Z)}};var Uj=Math.pow;var HD=Math.sqrt;var Sj=1e-08;var E3=0.0001;var AJ=HD(3);var TI=1/3;var cg=bl();var D2=bl();var ch=bl();function YS(Z){return Z>-Sj&&Z<Sj}function SJ(Z){return Z>Sj||Z<-Sj}function BL(e,i,v,PI,k){var Z=1-k;return Z*Z*(Z*e+3*k*i)+k*k*(k*PI+3*Z*v)}function CO(e,i,v,PI,k){var Z=1-k;return 3*(((i-e)*Z+2*(v-i)*k)*Z+(PI-v)*k*k)}function Sv(eI,eU,i,eL,eP,cc){var eF=eL+3*(eU-i)-eI;var Z2=3*(i-eU*2+eI);var Z=3*(eU-eI);var eH=eI-eP;var eQ=Z2*Z2-3*eF*Z;var eN=Z2*Z-9*eF*eH;var eO=Z*Z-3*Z2*eH;var PI=0;if(YS(eQ)&&YS(eN)){if(YS(Z2)){cc[0]=0}else{var e=-Z/Z2;if(e>=0&&e<=1){cc[PI++]=e}}}else{var eR=eN*eN-4*eQ*eO;if(YS(eR)){var eJ=eN/eQ;var e=-Z2/eF+eJ;var v=-eJ/2;if(e>=0&&e<=1){cc[PI++]=e}if(v>=0&&v<=1){cc[PI++]=v}}else{if(eR>0){var eK=HD(eR);var k=eQ*Z2+1.5*eF*(-eN+eK);var WH=eQ*Z2+1.5*eF*(-eN-eK);if(k<0){k=-Uj(-k,TI)}else{k=Uj(k,TI)}if(WH<0){WH=-Uj(-WH,TI)}else{WH=Uj(WH,TI)}var e=(-Z2-(k+WH))/(3*eF);if(e>=0&&e<=1){cc[PI++]=e}}else{var eG=(2*eQ*Z2-3*eF*eN)/(2*HD(eQ*eQ*eQ));var eM=Math.acos(eG)/3;var XY=HD(eQ);var eS=Math.cos(eM);var e=(-Z2-2*XY*eS)/(3*eF);var v=(-Z2+XY*(eS+AJ*Math.sin(eM)))/(3*eF);var eT=(-Z2+XY*(eS-AJ*Math.sin(eM)))/(3*eF);if(e>=0&&e<=1){cc[PI++]=e}if(v>=0&&v<=1){cc[PI++]=v}if(eT>=0&&eT<=1){cc[PI++]=eT}}}}return PI}function WI(v,e,XY,WH,eH){var Z2=6*XY-12*e+6*v;var eG=9*e+3*WH-3*v-9*XY;var cc=3*e-3*v;var eF=0;if(YS(eG)){if(SJ(Z2)){var k=-cc/Z2;if(k>=0&&k<=1){eH[eF++]=k}}}else{var Z=Z2*Z2-4*eG*cc;if(YS(Z)){eH[0]=-Z2/(2*eG)}else{if(Z>0){var PI=HD(Z);var k=(-Z2+PI)/(2*eG);var i=(-Z2-PI)/(2*eG);if(k>=0&&k<=1){eH[eF++]=k}if(i>=0&&i<=1){eH[eF++]=i}}}}return eF}function RB(k,WH,XY,PI,e,Z){var eF=(WH-k)*e+k;var i=(XY-WH)*e+WH;var cc=(PI-XY)*e+XY;var v=(i-eF)*e+eF;var Z2=(cc-i)*e+i;var eG=(Z2-v)*e+v;Z[0]=k;Z[1]=eF;Z[2]=v;Z[3]=eG;Z[4]=eG;Z[5]=Z2;Z[6]=cc;Z[7]=PI}function dM(WH,XY,eK,eL,eO,eP,cc,eF,eM,eN,eH){var e;var k=0.005;var eG=Infinity;var eJ;var eI;var Z2;var PI;cg[0]=eM;cg[1]=eN;for(var Z=0;Z<1;Z+=0.05){D2[0]=BL(WH,eK,eO,cc,Z);D2[1]=BL(XY,eL,eP,eF,Z);Z2=FW(cg,D2);if(Z2<eG){e=Z;eG=Z2}}eG=Infinity;for(var v=0;v<32;v++){if(k<E3){break}eJ=e-k;eI=e+k;D2[0]=BL(WH,eK,eO,cc,eJ);D2[1]=BL(XY,eL,eP,eF,eJ);Z2=FW(D2,cg);if(eJ>=0&&Z2<eG){e=eJ;eG=Z2}else{ch[0]=BL(WH,eK,eO,cc,eI);ch[1]=BL(XY,eL,eP,eF,eI);PI=FW(ch,cg);if(eI<=1&&PI<eG){e=eI;eG=PI}else{k*=0.5}}}if(eH){eH[0]=BL(WH,eK,eO,cc,e);eH[1]=BL(XY,eL,eP,eF,e)}return HD(eG)}function RK(e,i,v,k){var Z=1-k;return Z*(Z*e+2*k*i)+k*k*v}function On(Z,e,k,i){return 2*((1-i)*(e-Z)+i*(k-e))}function EW(e,PI,WH,v,eG){var eF=e-2*PI+WH;var XY=2*(PI-e);var Z2=e-v;var cc=0;if(YS(eF)){if(SJ(XY)){var k=-Z2/XY;if(k>=0&&k<=1){eG[cc++]=k}}}else{var Z=XY*XY-4*eF*Z2;if(YS(Z)){var k=-XY/(2*eF);if(k>=0&&k<=1){eG[cc++]=k}}else{if(Z>0){var eH=HD(Z);var k=(-XY+eH)/(2*eF);var i=(-XY-eH)/(2*eF);if(k>=0&&k<=1){eG[cc++]=k}if(i>=0&&i<=1){eG[cc++]=i}}}}return cc}function Zl(Z,i,k){var e=Z+k-2*i;if(e===0){return 0.5}else{return(Z-i)/e}}function HJ(k,PI,WH,e,Z){var XY=(PI-k)*e+k;var i=(WH-PI)*e+PI;var v=(i-XY)*e+XY;Z[0]=k;Z[1]=XY;Z[2]=v;Z[3]=v;Z[4]=i;Z[5]=WH}function L1(PI,WH,eI,eJ,eM,eN,eK,eL,eF){var e;var k=0.005;var cc=Infinity;cg[0]=eK;cg[1]=eL;for(var Z=0;Z<1;Z+=0.05){D2[0]=RK(PI,eI,eM,Z);D2[1]=RK(WH,eJ,eN,Z);var XY=FW(cg,D2);if(XY<cc){e=Z;cc=XY}}cc=Infinity;for(var v=0;v<32;v++){if(k<E3){break}var eH=e-k;var eG=e+k;D2[0]=RK(PI,eI,eM,eH);D2[1]=RK(WH,eJ,eN,eH);var XY=FW(D2,cg);if(eH>=0&&XY<cc){e=eH;cc=XY}else{ch[0]=RK(PI,eI,eM,eG);ch[1]=RK(WH,eJ,eN,eG);var Z2=FW(ch,cg);if(eG<=1&&Z2<cc){e=eG;cc=Z2}else{k*=0.5}}}if(eF){eF[0]=RK(PI,eI,eM,e);eF[1]=RK(WH,eJ,eN,e)}return HD(cc)}var Lo=Math.min;var Bn=Math.max;var ar=Math.sin;var DC=Math.cos;var XK=Math.PI*2;var CH=bl();var dJ=bl();var Vl=bl();function AC(Z2,cc,Z){if(Z2.length===0){return}var e=Z2[0];var PI=e[0];var k=e[0];var v=e[1];var XY=e[1];var WH;for(WH=1;WH<Z2.length;WH++){e=Z2[WH];PI=Lo(PI,e[0]);k=Bn(k,e[0]);v=Lo(v,e[1]);XY=Bn(XY,e[1])}cc[0]=PI;cc[1]=v;Z[0]=k;Z[1]=XY}function Kk(e,i,k,v,PI,Z){PI[0]=Lo(e,k);PI[1]=Lo(i,v);Z[0]=Bn(e,k);Z[1]=Bn(i,v)}var Ae=[];var o=[];function Wk(v,PI,e,k,eG,Z2,XY,eJ,eL,Z){var eK=WI;var WH=BL;var eF;var eI=eK(v,e,eG,XY,Ae);eL[0]=Infinity;eL[1]=Infinity;Z[0]=-Infinity;Z[1]=-Infinity;for(eF=0;eF<eI;eF++){var eH=WH(v,e,eG,XY,Ae[eF]);eL[0]=Lo(eH,eL[0]);Z[0]=Bn(eH,Z[0])}eI=eK(PI,k,Z2,eJ,o);for(eF=0;eF<eI;eF++){var cc=WH(PI,k,Z2,eJ,o[eF]);eL[1]=Lo(cc,eL[1]);Z[1]=Bn(cc,Z[1])}eL[0]=Lo(v,eL[0]);Z[0]=Bn(v,Z[0]);eL[0]=Lo(XY,eL[0]);Z[0]=Bn(XY,Z[0]);eL[1]=Lo(PI,eL[1]);Z[1]=Bn(PI,Z[1]);eL[1]=Lo(eJ,eL[1]);Z[1]=Bn(eJ,Z[1])}function NV(v,PI,i,k,XY,Z2,eI,e){var eF=Zl;var WH=RK;var Z=Bn(Lo(eF(v,i,XY),1),0);var eG=Bn(Lo(eF(PI,k,Z2),1),0);var cc=WH(v,i,XY,Z);var eH=WH(PI,k,Z2,eG);eI[0]=Lo(v,XY,cc);eI[1]=Lo(PI,Z2,eH);e[0]=Bn(v,XY,cc);e[1]=Bn(PI,Z2,eH)}function Tp(eG,eH,Z2,cc,eI,e,PI,Z,i){var k=db;var v=PV;var WH=Math.abs(eI-e);if(WH%XK<0.0001&&WH>0.0001){Z[0]=eG-Z2;Z[1]=eH-cc;i[0]=eG+Z2;i[1]=eH+cc;return}CH[0]=DC(eI)*Z2+eG;CH[1]=ar(eI)*cc+eH;dJ[0]=DC(e)*Z2+eG;dJ[1]=ar(e)*cc+eH;k(Z,CH,dJ);v(i,CH,dJ);eI=eI%(XK);if(eI<0){eI=eI+XK}e=e%(XK);if(e<0){e=e+XK}if(eI>e&&!PI){e+=XK}else{if(eI<e&&PI){eI+=XK}}if(PI){var XY=e;e=eI;eI=XY}for(var eF=0;eF<e;eF+=Math.PI/2){if(eF>eI){Vl[0]=DC(eF)*Z2+eG;Vl[1]=ar(eF)*cc+eH;k(Z,Vl,Z);v(i,Vl,i)}}}var a0={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7};var KY=[];var Wx=[];var UE=[];var E9=[];var Ln=Math.min;var Bm=Math.max;var DD=Math.cos;var au=Math.sin;var Qf=Math.sqrt;var RN=Math.abs;var MC=typeof Float32Array!="undefined";var N3=function(Z){this._saveData=!(Z||false);if(this._saveData){this.data=[]}this._ctx=null};N3.prototype={constructor:N3,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(Z,e){this._ux=RN(1/Yp/Z)||0;this._uy=RN(1/Yp/e)||0},getContext:function(){return this._ctx},beginPath:function(Z){this._ctx=Z;Z&&Z.beginPath();Z&&(this.dpr=Z.dpr);if(this._saveData){this._len=0}if(this._lineDash){this._lineDash=null;this._dashOffset=0}return this},moveTo:function(Z,e){this.addData(a0.M,Z,e);this._ctx&&this._ctx.moveTo(Z,e);this._x0=Z;this._y0=e;this._xi=Z;this._yi=e;return this},lineTo:function(e,i){var Z=RN(e-this._xi)>this._ux||RN(i-this._yi)>this._uy||this._len<5;this.addData(a0.L,e,i);if(this._ctx&&Z){this._needsDash()?this._dashedLineTo(e,i):this._ctx.lineTo(e,i)}if(Z){this._xi=e;this._yi=i}return this},bezierCurveTo:function(v,PI,Z,e,i,k){this.addData(a0.C,v,PI,Z,e,i,k);if(this._ctx){this._needsDash()?this._dashedBezierTo(v,PI,Z,e,i,k):this._ctx.bezierCurveTo(v,PI,Z,e,i,k)}this._xi=i;this._yi=k;return this},quadraticCurveTo:function(i,k,Z,e){this.addData(a0.Q,i,k,Z,e);if(this._ctx){this._needsDash()?this._dashedQuadraticTo(i,k,Z,e):this._ctx.quadraticCurveTo(i,k,Z,e)}this._xi=Z;this._yi=e;return this},arc:function(PI,Z,e,v,i,k){this.addData(a0.A,PI,Z,e,e,v,i-v,0,k?0:1);this._ctx&&this._ctx.arc(PI,Z,e,v,i,k);this._xi=DD(i)*e+PI;this._yi=au(i)*e+PI;return this},arcTo:function(k,v,Z,e,i){if(this._ctx){this._ctx.arcTo(k,v,Z,e,i)}return this},rect:function(e,i,k,Z){this._ctx&&this._ctx.rect(e,i,k,Z);this.addData(a0.R,e,i,k,Z);return this},closePath:function(){this.addData(a0.Z);var i=this._ctx;var Z=this._x0;var e=this._y0;if(i){this._needsDash()&&this._dashedLineTo(Z,e);i.closePath()}this._xi=Z;this._yi=e;return this},fill:function(Z){Z&&Z.fill();this.toStatic()},stroke:function(Z){Z&&Z.stroke();this.toStatic()},setLineDash:function(k){if(k instanceof Array){this._lineDash=k;this._dashIdx=0;var e=0;for(var Z=0;Z<k.length;Z++){e+=k[Z]}this._dashSum=e}return this},setLineDashOffset:function(Z){this._dashOffset=Z;return this},len:function(){return this._len},setData:function(k){var Z=k.length;if(!(this.data&&this.data.length==Z)&&MC){this.data=new Float32Array(Z)}for(var e=0;e<Z;e++){this.data[e]=k[e]}this._len=Z},appendPath:function(Z2){if(!(Z2 instanceof Array)){Z2=[Z2]}var e=Z2.length;var XY=0;var v=this._len;for(var PI=0;PI<e;PI++){XY+=Z2[PI].len()}if(MC&&(this.data instanceof Float32Array)){this.data=new Float32Array(v+XY)}for(var PI=0;PI<e;PI++){var WH=Z2[PI].data;for(var Z=0;Z<WH.length;Z++){this.data[v++]=WH[Z]}}this._len=v},addData:function(e){if(!this._saveData){return}var k=this.data;if(this._len+arguments.length>k.length){this._expandData();k=this.data}for(var Z=0;Z<arguments.length;Z++){k[this._len++]=arguments[Z]}this._prevCmd=e},_expandData:function(){if(!(this.data instanceof Array)){var Z=[];for(var e=0;e<this._len;e++){Z[e]=this.data[e]}this.data=Z}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(k,v){var eJ=this._dashSum;var i=this._dashOffset;var PI=this._lineDash;var Z2=this._ctx;var WH=this._xi;var XY=this._yi;var eG=k-WH;var cc=v-XY;var eH=Qf(eG*eG+cc*cc);var eK=WH;var eI=XY;var eF;var e=PI.length;var Z;eG/=eH;cc/=eH;if(i<0){i=eJ+i}i%=eJ;eK-=i*eG;eI-=i*cc;while((eG>0&&eK<=k)||(eG<0&&eK>=k)||(eG==0&&((cc>0&&eI<=v)||(cc<0&&eI>=v)))){Z=this._dashIdx;eF=PI[Z];eK+=eG*eF;eI+=cc*eF;this._dashIdx=(Z+1)%e;if((eG>0&&eK<WH)||(eG<0&&eK>WH)||(cc>0&&eI<XY)||(cc<0&&eI>XY)){continue}Z2[Z%2?"moveTo":"lineTo"](eG>=0?Ln(eK,k):Bm(eK,k),cc>=0?Ln(eI,v):Bm(eI,v))}eG=eK-k;cc=eI-v;this._dashOffset=-Qf(eG*eG+cc*cc)},_dashedBezierTo:function(Z,eL,eK,eQ,eH,cc){var Z2=this._dashSum;var eF=this._dashOffset;var PI=this._lineDash;var eP=this._ctx;var k=this._xi;var WH=this._yi;var e;var v;var eJ;var eI=BL;var eG=0;var eO=this._dashIdx;var XY=PI.length;var eM;var eN;var i=0;if(eF<0){eF=Z2+eF}eF%=Z2;for(e=0;e<1;e+=0.1){v=eI(k,Z,eK,eH,e+0.1)-eI(k,Z,eK,eH,e);eJ=eI(WH,eL,eQ,cc,e+0.1)-eI(WH,eL,eQ,cc,e);eG+=Qf(v*v+eJ*eJ)}for(;eO<XY;eO++){i+=PI[eO];if(i>eF){break}}e=(i-eF)/eG;while(e<=1){eM=eI(k,Z,eK,eH,e);eN=eI(WH,eL,eQ,cc,e);eO%2?eP.moveTo(eM,eN):eP.lineTo(eM,eN);e+=PI[eO]/eG;eO=(eO+1)%XY}(eO%2!==0)&&eP.lineTo(eH,cc);v=eH-eM;eJ=cc-eN;this._dashOffset=-Qf(v*v+eJ*eJ)},_dashedQuadraticTo:function(v,PI,Z,e){var i=Z;var k=e;Z=(Z+2*v)/3;e=(e+2*PI)/3;v=(this._xi+2*v)/3;PI=(this._yi+2*PI)/3;this._dashedBezierTo(v,PI,Z,e,i,k)},toStatic:function(){var Z=this.data;if(Z instanceof Array){Z.length=this._len;if(MC){this.data=new Float32Array(Z)}}},getBoundingRect:function(){KY[0]=KY[1]=UE[0]=UE[1]=Number.MAX_VALUE;Wx[0]=Wx[1]=E9[0]=E9[1]=-Number.MAX_VALUE;var Z2=this.data;var Z=0;var eL=0;var PI=0;var WH=0;for(var k=0;k<Z2.length;){var eF=Z2[k++];if(k==1){Z=Z2[k];eL=Z2[k+1];PI=Z;WH=eL}switch(eF){case a0.M:PI=Z2[k++];WH=Z2[k++];Z=PI;eL=WH;UE[0]=PI;UE[1]=WH;E9[0]=PI;E9[1]=WH;break;case a0.L:Kk(Z,eL,Z2[k],Z2[k+1],UE,E9);Z=Z2[k++];eL=Z2[k++];break;case a0.C:Wk(Z,eL,Z2[k++],Z2[k++],Z2[k++],Z2[k++],Z2[k],Z2[k+1],UE,E9);Z=Z2[k++];eL=Z2[k++];break;case a0.Q:NV(Z,eL,Z2[k++],Z2[k++],Z2[k],Z2[k+1],UE,E9);Z=Z2[k++];eL=Z2[k++];break;case a0.A:var e=Z2[k++];var eI=Z2[k++];var eJ=Z2[k++];var v=Z2[k++];var XY=Z2[k++];var eG=Z2[k++]+XY;var cc=Z2[k++];var eK=1-Z2[k++];if(k==1){PI=DD(XY)*eJ+e;WH=au(XY)*v+eI}Tp(e,eI,eJ,v,XY,eG,eK,UE,E9);Z=DD(eG)*eJ+e;eL=au(eG)*v+eI;break;case a0.R:PI=Z=Z2[k++];WH=eL=Z2[k++];var eH=Z2[k++];var eM=Z2[k++];Kk(PI,WH,PI+eH,WH+eM,UE,E9);break;case a0.Z:Z=PI;eL=WH;break}db(KY,KY,UE);PV(Wx,Wx,E9)}if(k===0){KY[0]=KY[1]=Wx[0]=Wx[1]=0}return new FC(KY[0],KY[1],Wx[0]-KY[0],Wx[1]-KY[1])},rebuildPath:function(eF){var eI=this.data;var cc,Z2;var k,v;var eS,eT;var eV=this._ux;var eH=this._uy;var WH=this._len;for(var XY=0;XY<WH;){var eJ=eI[XY++];if(XY==1){k=eI[XY];v=eI[XY+1];cc=k;Z2=v}switch(eJ){case a0.M:cc=k=eI[XY++];Z2=v=eI[XY++];eF.moveTo(k,v);break;case a0.L:eS=eI[XY++];eT=eI[XY++];if(RN(eS-k)>eV||RN(eT-v)>eH||XY===WH-1){eF.lineTo(eS,eT);k=eS;v=eT}break;case a0.C:eF.bezierCurveTo(eI[XY++],eI[XY++],eI[XY++],eI[XY++],eI[XY++],eI[XY++]);k=eI[XY-2];v=eI[XY-1];break;case a0.Q:eF.quadraticCurveTo(eI[XY++],eI[XY++],eI[XY++],eI[XY++]);k=eI[XY-2];v=eI[XY-1];break;case a0.A:var PI=eI[XY++];var eN=eI[XY++];var eR=eI[XY++];var eQ=eI[XY++];var eM=eI[XY++];var eP=eI[XY++];var eO=eI[XY++];var eG=eI[XY++];var Z=(eR>eQ)?eR:eQ;var e=(eR>eQ)?1:eR/eQ;var eL=(eR>eQ)?eQ/eR:1;var eU=Math.abs(eR-eQ)>0.001;var eK=eM+eP;if(eU){eF.translate(PI,eN);eF.rotate(eO);eF.scale(e,eL);eF.arc(0,0,Z,eM,eK,1-eG);eF.scale(1/e,1/eL);eF.rotate(-eO);eF.translate(-PI,-eN)}else{eF.arc(PI,eN,Z,eM,eK,1-eG)}if(XY==1){cc=DD(eM)*eR+PI;Z2=au(eM)*eQ+eN}k=DD(eK)*eR+PI;v=au(eK)*eQ+eN;break;case a0.R:cc=k=eI[XY];Z2=v=eI[XY+1];eF.rect(eI[XY++],eI[XY++],eI[XY++],eI[XY++]);break;case a0.Z:eF.closePath();k=cc;v=Z2}}}};N3.CMD=a0;function R(k,v,Z,e,WH,Z2,cc){if(WH===0){return false}var eG=WH;var i=0;var XY=k;if((cc>v+eG&&cc>e+eG)||(cc<v-eG&&cc<e-eG)||(Z2>k+eG&&Z2>Z+eG)||(Z2<k-eG&&Z2<Z-eG)){return false}if(k!==Z){i=(v-e)/(k-Z);XY=(k*e-Z*v)/(k-Z)}else{return Math.abs(Z2-k)<=eG/2}var PI=i*Z2-cc+XY;var eF=PI*PI/(i*i+1);return eF<=eG/2*eG/2}function P(i,k,Z,e,XY,PI,v,eF,WH,Z2,cc){if(WH===0){return false}var eG=WH;if((cc>k+eG&&cc>e+eG&&cc>PI+eG&&cc>eF+eG)||(cc<k-eG&&cc<e-eG&&cc<PI-eG&&cc<eF-eG)||(Z2>i+eG&&Z2>Z+eG&&Z2>XY+eG&&Z2>v+eG)||(Z2<i-eG&&Z2<Z-eG&&Z2<XY-eG&&Z2<v-eG)){return false}var eH=dM(i,k,Z,e,XY,PI,v,eF,Z2,cc,null);return eH<=eG/2}function Dq(i,k,Z,e,v,WH,PI,XY,Z2){if(PI===0){return false}var cc=PI;if((Z2>k+cc&&Z2>e+cc&&Z2>WH+cc)||(Z2<k-cc&&Z2<e-cc&&Z2<WH-cc)||(XY>i+cc&&XY>Z+cc&&XY>v+cc)||(XY<i-cc&&XY<Z-cc&&XY<v-cc)){return false}var eF=L1(i,k,Z,e,v,WH,XY,Z2,null);return eF<=cc/2}var c6=Math.PI*2;function dz(Z){Z%=c6;if(Z<0){Z+=c6}return Z}var c5=Math.PI*2;function O(PI,k,Z,eH,e,XY,WH,cc,eF){if(WH===0){return false}var eG=WH;cc-=PI;eF-=k;var i=Math.sqrt(cc*cc+eF*eF);if((i-eG>Z)||(i+eG<Z)){return false}if(Math.abs(eH-e)%c5<0.0001){return true}if(XY){var v=eH;eH=dz(e);e=dz(v)}else{eH=dz(eH);e=dz(e)}if(eH>e){e+=c5}var Z2=Math.atan2(eF,cc);if(Z2<0){Z2+=c5}return(Z2>=eH&&Z2<=e)||(Z2+c5>=eH&&Z2+c5<=e)}function Wy(v,PI,e,i,XY,Z2){if((Z2>PI&&Z2>i)||(Z2<PI&&Z2<i)){return 0}if(i===PI){return 0}var Z=i<PI?1:-1;var k=(Z2-PI)/(i-PI);if(k===1||k===0){Z=i<PI?0.5:-0.5}var WH=k*(e-v)+v;return WH>XY?Z:0}var NP=N3.CMD;var c4=Math.PI*2;var Sh=0.0001;function BY(e,Z){return Math.abs(e-Z)<Sh}var Uk=[-1,-1,-1];var V2=[-1,-1];function SL(){var Z=V2[0];V2[0]=V2[1];V2[1]=Z}function GP(WH,XY,eJ,eK,eN,eO,Z2,cc,eL,eM){if((eM>XY&&eM>eK&&eM>eO&&eM>cc)||(eM<XY&&eM<eK&&eM<eO&&eM<cc)){return 0}var v=Sv(XY,eK,eO,cc,eM,Uk);if(v===0){return 0}else{var e=0;var eG=-1;var Z,eF;for(var PI=0;PI<v;PI++){var k=Uk[PI];var eI=(k===0||k===1)?0.5:1;var eH=BL(WH,eJ,eN,Z2,k);if(eH<eL){continue}if(eG<0){eG=WI(XY,eK,eO,cc,V2);if(V2[1]<V2[0]&&eG>1){SL()}Z=BL(XY,eK,eO,cc,V2[0]);if(eG>1){eF=BL(XY,eK,eO,cc,V2[1])}}if(eG==2){if(k<V2[0]){e+=Z<XY?eI:-eI}else{if(k<V2[1]){e+=eF<Z?eI:-eI}else{e+=cc<eF?eI:-eI}}}else{if(k<V2[0]){e+=Z<XY?eI:-eI}else{e+=cc<Z?eI:-eI}}}return e}}function QQ(WH,XY,k,v,Z2,cc,eH,eI){if((eI>XY&&eI>v&&eI>cc)||(eI<XY&&eI<v&&eI<cc)){return 0}var e=EW(XY,v,cc,eI,Uk);if(e===0){return 0}else{var PI=Zl(XY,v,cc);if(PI>=0&&PI<=1){var eF=0;var eG=RK(XY,v,cc,PI);for(var eJ=0;eJ<e;eJ++){var eK=(Uk[eJ]===0||Uk[eJ]===1)?0.5:1;var Z=RK(WH,k,Z2,Uk[eJ]);if(Z<eH){continue}if(Uk[eJ]<PI){eF+=eG<XY?eK:-eK}else{eF+=cc<eG?eK:-eK}}return eF}else{var eK=(Uk[0]===0||Uk[0]===1)?0.5:1;var Z=RK(WH,k,Z2,Uk[0]);if(Z<eH){return 0}return cc<XY?eK:-eK}}}function Xq(Z2,WH,Z,eK,e,cc,eH,eI){eI-=WH;if(eI>Z||eI<-Z){return 0}var XY=Math.sqrt(Z*Z-eI*eI);Uk[0]=-XY;Uk[1]=XY;var v=Math.abs(eK-e);if(v<0.0001){return 0}if(v%c4<0.0001){eK=0;e=c4;var k=cc?1:-1;if(eH>=Uk[0]+Z2&&eH<=Uk[1]+Z2){return k}else{return 0}}if(cc){var XY=eK;eK=dz(e);e=dz(XY)}else{eK=dz(eK);e=dz(e)}if(eK>e){e+=c4}var PI=0;for(var eF=0;eF<2;eF++){var eJ=Uk[eF];if(eJ+Z2>eH){var eG=Math.atan2(eI,eJ);var k=cc?1:-1;if(eG<0){eG=c4+eG}if((eG>=eK&&eG<=e)||(eG+c4>=eK&&eG+c4<=e)){if(eG>Math.PI/2&&eG<Math.PI*1.5){k=-k}PI+=k}}}return PI}function FI(eQ,eO,eH,eR,eS){var eN=0;var v=0;var PI=0;var eF=0;var eG=0;for(var XY=0;XY<eQ.length;){var eJ=eQ[XY++];if(eJ===NP.M&&XY>1){if(!eH){eN+=Wy(v,PI,eF,eG,eR,eS)}}if(XY==1){v=eQ[XY];PI=eQ[XY+1];eF=v;eG=PI}switch(eJ){case NP.M:eF=eQ[XY++];eG=eQ[XY++];v=eF;PI=eG;break;case NP.L:if(eH){if(R(v,PI,eQ[XY],eQ[XY+1],eO,eR,eS)){return true}}else{eN+=Wy(v,PI,eQ[XY],eQ[XY+1],eR,eS)||0}v=eQ[XY++];PI=eQ[XY++];break;case NP.C:if(eH){if(P(v,PI,eQ[XY++],eQ[XY++],eQ[XY++],eQ[XY++],eQ[XY],eQ[XY+1],eO,eR,eS)){return true}}else{eN+=GP(v,PI,eQ[XY++],eQ[XY++],eQ[XY++],eQ[XY++],eQ[XY],eQ[XY+1],eR,eS)||0}v=eQ[XY++];PI=eQ[XY++];break;case NP.Q:if(eH){if(Dq(v,PI,eQ[XY++],eQ[XY++],eQ[XY],eQ[XY+1],eO,eR,eS)){return true}}else{eN+=QQ(v,PI,eQ[XY++],eQ[XY++],eQ[XY],eQ[XY+1],eR,eS)||0}v=eQ[XY++];PI=eQ[XY++];break;case NP.A:var WH=eQ[XY++];var eL=eQ[XY++];var eU=eQ[XY++];var Z2=eQ[XY++];var eK=eQ[XY++];var eM=eQ[XY++];var eI=eQ[XY++];var Z=1-eQ[XY++];var eP=Math.cos(eK)*eU+WH;var k=Math.sin(eK)*Z2+eL;if(XY>1){eN+=Wy(v,PI,eP,k,eR,eS)}else{eF=eP;eG=k}var e=(eR-WH)*Z2/eU+WH;if(eH){if(O(WH,eL,Z2,eK,eK+eM,Z,eO,e,eS)){return true}}else{eN+=Xq(WH,eL,Z2,eK,eK+eM,Z,e,eS)}v=Math.cos(eK+eM)*eU+WH;PI=Math.sin(eK+eM)*Z2+eL;break;case NP.R:eF=v=eQ[XY++];eG=PI=eQ[XY++];var cc=eQ[XY++];var eT=eQ[XY++];var eP=eF+cc;var k=eG+eT;if(eH){if(R(eF,eG,eP,eG,eO,eR,eS)||R(eP,eG,eP,k,eO,eR,eS)||R(eP,k,eF,k,eO,eR,eS)||R(eF,k,eF,eG,eO,eR,eS)){return true}}else{eN+=Wy(eP,eG,eP,k,eR,eS);eN+=Wy(eF,k,eF,eG,eR,eS)}break;case NP.Z:if(eH){if(R(v,PI,eF,eG,eO,eR,eS)){return true}}else{eN+=Wy(v,PI,eF,eG,eR,eS)}v=eF;PI=eG;break}}if(!eH&&!BY(PI,eG)){eN+=Wy(v,PI,eF,eG,eR,eS)||0}return eN!==0}function W(i,Z,e){return FI(i,0,false,Z,e)}function Xs(i,e,Z,k){return FI(i,e,true,Z,k)}var N4=BU.prototype.getCanvasPattern;var HT=Math.abs;var J0=new N3(true);function Lw(Z){TE.call(this,Z);this.path=null}Lw.prototype={constructor:Lw,type:"path",__dirtyPath:true,strokeContainThreshold:5,brush:function(WH,i){var eK=this.style;var cc=this.path||J0;var eH=eK.hasStroke();var Z=eK.hasFill();var eJ=eK.fill;var eF=eK.stroke;var e=Z&&!!(eJ.colorStops);var eG=eH&&!!(eF.colorStops);var v=Z&&!!(eJ.image);var eL=eH&&!!(eF.image);eK.bind(WH,this,i);this.setTransform(WH);if(this.__dirty){var Z2;if(e){Z2=Z2||this.getBoundingRect();this._fillGradient=eK.getGradient(WH,eJ,Z2)}if(eG){Z2=Z2||this.getBoundingRect();this._strokeGradient=eK.getGradient(WH,eF,Z2)}}if(e){WH.fillStyle=this._fillGradient}else{if(v){WH.fillStyle=N4.call(eJ,WH)}}if(eG){WH.strokeStyle=this._strokeGradient}else{if(eL){WH.strokeStyle=N4.call(eF,WH)}}var PI=eK.lineDash;var eI=eK.lineDashOffset;var XY=!!WH.setLineDash;var k=this.getGlobalScale();cc.setScale(k[0],k[1]);if(this.__dirtyPath||(PI&&!XY&&eH)){cc.beginPath(WH);if(PI&&!XY){cc.setLineDash(PI);cc.setLineDashOffset(eI)}this.buildPath(cc,this.shape,false);if(this.path){this.__dirtyPath=false}}else{WH.beginPath();this.path.rebuildPath(WH)}Z&&cc.fill(WH);if(PI&&XY){WH.setLineDash(PI);WH.lineDashOffset=eI}eH&&cc.stroke(WH);if(PI&&XY){WH.setLineDash([])}this.restoreTransform(WH);if(eK.text!=null){this.drawRectText(WH,this.getBoundingRect())}},buildPath:function(i,e,Z){},createPathProxy:function(){this.path=new N3()},getBoundingRect:function(){var i=this._rect;var k=this.style;var Z=!i;if(Z){var WH=this.path;if(!WH){WH=this.path=new N3()}if(this.__dirtyPath){WH.beginPath();this.buildPath(WH,this.shape,false)}i=WH.getBoundingRect()}this._rect=i;if(k.hasStroke()){var PI=this._rectWithStroke||(this._rectWithStroke=i.clone());if(this.__dirty||Z){PI.copy(i);var v=k.lineWidth;var e=k.strokeNoScale?this.getLineScale():1;if(!k.hasFill()){v=Math.max(v,this.strokeContainThreshold||4)}if(e>1e-10){PI.width+=v/e;PI.height+=v/e;PI.x-=v/e/2;PI.y-=v/e/2}}return PI}return i},contain:function(PI,WH){var XY=this.transformCoordToLocal(PI,WH);var Z=this.getBoundingRect();var k=this.style;PI=XY[0];WH=XY[1];if(Z.contain(PI,WH)){var i=this.path.data;if(k.hasStroke()){var v=k.lineWidth;var e=k.strokeNoScale?this.getLineScale():1;if(e>1e-10){if(!k.hasFill()){v=Math.max(v,this.strokeContainThreshold)}if(Xs(i,v/e,PI,WH)){return true}}}if(k.hasFill()){return W(i,PI,WH)}}return false},dirty:function(Z){if(Z==null){Z=true}if(Z){this.__dirtyPath=Z;this._rect=null}this.__dirty=true;this.__zr&&this.__zr.refresh();if(this.__clipTarget){this.__clipTarget.dirty()}},animateShape:function(Z){return this.animate("shape",Z)},attrKV:function(Z,e){if(Z==="shape"){this.setShape(e);this.__dirtyPath=true;this._rect=null}else{TE.prototype.attrKV.call(this,Z,e)}},setShape:function(Z,i){var k=this.shape;if(k){if(Q(Z)){for(var e in Z){if(Z.hasOwnProperty(e)){k[e]=Z[e]}}}else{k[Z]=i}this.dirty(true)}return this},getLineScale:function(){var Z=this.transform;return Z&&HT(Z[0]-1)>1e-10&&HT(Z[3]-1)>1e-10?Math.sqrt(HT(Z[0]*Z[3]-Z[2]*Z[1])):1}};Lw.extend=function(i){var Z=function(v){Lw.call(this,v);if(i.style){this.style.extendFrom(i.style,false)}var k=i.shape;if(k){this.shape=this.shape||{};var PI=this.shape;for(var WH in k){if(!PI.hasOwnProperty(WH)&&k.hasOwnProperty(WH)){PI[WH]=k[WH]}}}i.init&&i.init.call(this,v)};JO(Z,Lw);for(var e in i){if(e!=="style"&&e!=="shape"){Z.prototype[e]=i[e]}}return Z};JO(Lw,TE);var NR=N3.CMD;var SH=[[],[],[]];var IS=Math.sqrt;var VO=Math.atan2;var UC=function(eF,Z2){var eL=eF.data;var eG;var PI;var WH;var e;var v;var Z;var eI=NR.M;var eJ=NR.C;var eH=NR.L;var eP=NR.R;var eK=NR.A;var cc=NR.Q;for(WH=0,e=0;WH<eL.length;){eG=eL[WH++];e=WH;PI=0;switch(eG){case eI:PI=1;break;case eH:PI=1;break;case eJ:PI=3;break;case cc:PI=2;break;case eK:var eN=Z2[4];var eO=Z2[5];var eM=IS(Z2[0]*Z2[0]+Z2[1]*Z2[1]);var XY=IS(Z2[2]*Z2[2]+Z2[3]*Z2[3]);var eQ=VO(-Z2[1]/XY,Z2[0]/eM);eL[WH]*=eM;eL[WH++]+=eN;eL[WH]*=XY;eL[WH++]+=eO;eL[WH++]*=eM;eL[WH++]*=XY;eL[WH++]+=eQ;eL[WH++]+=eQ;WH+=2;e=WH;break;case eP:Z[0]=eL[WH++];Z[1]=eL[WH++];HV(Z,Z,Z2);eL[e++]=Z[0];eL[e++]=Z[1];Z[0]+=eL[WH++];Z[1]+=eL[WH++];HV(Z,Z,Z2);eL[e++]=Z[0];eL[e++]=Z[1]}for(v=0;v<PI;v++){var Z=SH[v];Z[0]=eL[WH++];Z[1]=eL[WH++];HV(Z,Z,Z2);eL[e++]=Z[0];eL[e++]=Z[1]}}};var Ol=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];var bO=Math.sqrt;var Mn=Math.sin;var Qn=Math.cos;var Ya=Math.PI;var EU=function(Z){return Math.sqrt(Z[0]*Z[0]+Z[1]*Z[1])};var R3=function(e,Z){return(e[0]*Z[0]+e[1]*Z[1])/(EU(e)*EU(Z))};var NN=function(e,Z){return(e[0]*Z[1]<e[1]*Z[0]?-1:1)*Math.acos(R3(e,Z))};function YM(eQ,k,eS,eT,e,eF,eR,XY,WH,eJ,eH){var eI=WH*(Ya/180);var Z2=Qn(eI)*(eQ-eS)/2+Mn(eI)*(k-eT)/2;var cc=-1*Mn(eI)*(eQ-eS)/2+Qn(eI)*(k-eT)/2;var eP=(Z2*Z2)/(eR*eR)+(cc*cc)/(XY*XY);if(eP>1){eR*=bO(eP);XY*=bO(eP)}var eG=(e===eF?-1:1)*bO((((eR*eR)*(XY*XY))-((eR*eR)*(cc*cc))-((XY*XY)*(Z2*Z2)))/((eR*eR)*(cc*cc)+(XY*XY)*(Z2*Z2)))||0;var eL=eG*eR*cc/XY;var Z=eG*-XY*Z2/eR;var eK=(eQ+eS)/2+Qn(eI)*eL-Mn(eI)*Z;var eN=(k+eT)/2+Mn(eI)*eL+Qn(eI)*Z;var eM=NN([1,0],[(Z2-eL)/eR,(cc-Z)/XY]);var PI=[(Z2-eL)/eR,(cc-Z)/XY];var i=[(-1*Z2-eL)/eR,(-1*cc-Z)/XY];var eO=NN(PI,i);if(R3(PI,i)<=-1){eO=Ya}if(R3(PI,i)>=1){eO=0}if(eF===0&&eO>0){eO=eO-2*Ya}if(eF===1&&eO<0){eO=eO+2*Ya}eH.addData(eJ,eK,eN,eR,XY,eM,eO,eI,eF)}function H4(eU){if(!eU){return[]}var eF=eU.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");var cc;for(cc=0;cc<Ol.length;cc++){eF=eF.replace(new RegExp(Ol[cc],"g"),"|"+Ol[cc])}var eP=eF.split("|");var e=0;var eR=0;var eJ=new N3();var eQ=N3.CMD;var eG;for(cc=1;cc<eP.length;cc++){var Z=eP[cc];var eH=Z.charAt(0);var eL=0;var k=Z.slice(1).replace(/e,-/g,"e-").split(",");var eM;if(k.length>0&&k[0]===""){k.shift()}for(var Z2=0;Z2<k.length;Z2++){k[Z2]=parseFloat(k[Z2])}while(eL<k.length&&!isNaN(k[eL])){if(isNaN(k[0])){break}var eS;var XY;var eV;var eT;var eK;var v;var eI;var PI=e;var WH=eR;switch(eH){case"l":e+=k[eL++];eR+=k[eL++];eM=eQ.L;eJ.addData(eM,e,eR);break;case"L":e=k[eL++];eR=k[eL++];eM=eQ.L;eJ.addData(eM,e,eR);break;case"m":e+=k[eL++];eR+=k[eL++];eM=eQ.M;eJ.addData(eM,e,eR);eH="l";break;case"M":e=k[eL++];eR=k[eL++];eM=eQ.M;eJ.addData(eM,e,eR);eH="L";break;case"h":e+=k[eL++];eM=eQ.L;eJ.addData(eM,e,eR);break;case"H":e=k[eL++];eM=eQ.L;eJ.addData(eM,e,eR);break;case"v":eR+=k[eL++];eM=eQ.L;eJ.addData(eM,e,eR);break;case"V":eR=k[eL++];eM=eQ.L;eJ.addData(eM,e,eR);break;case"C":eM=eQ.C;eJ.addData(eM,k[eL++],k[eL++],k[eL++],k[eL++],k[eL++],k[eL++]);e=k[eL-2];eR=k[eL-1];break;case"c":eM=eQ.C;eJ.addData(eM,k[eL++]+e,k[eL++]+eR,k[eL++]+e,k[eL++]+eR,k[eL++]+e,k[eL++]+eR);e+=k[eL-2];eR+=k[eL-1];break;case"S":eS=e;XY=eR;var eO=eJ.len();var eN=eJ.data;if(eG===eQ.C){eS+=e-eN[eO-4];XY+=eR-eN[eO-3]}eM=eQ.C;PI=k[eL++];WH=k[eL++];e=k[eL++];eR=k[eL++];eJ.addData(eM,eS,XY,PI,WH,e,eR);break;case"s":eS=e;XY=eR;var eO=eJ.len();var eN=eJ.data;if(eG===eQ.C){eS+=e-eN[eO-4];XY+=eR-eN[eO-3]}eM=eQ.C;PI=e+k[eL++];WH=eR+k[eL++];e+=k[eL++];eR+=k[eL++];eJ.addData(eM,eS,XY,PI,WH,e,eR);break;case"Q":PI=k[eL++];WH=k[eL++];e=k[eL++];eR=k[eL++];eM=eQ.Q;eJ.addData(eM,PI,WH,e,eR);break;case"q":PI=k[eL++]+e;WH=k[eL++]+eR;e+=k[eL++];eR+=k[eL++];eM=eQ.Q;eJ.addData(eM,PI,WH,e,eR);break;case"T":eS=e;XY=eR;var eO=eJ.len();var eN=eJ.data;if(eG===eQ.Q){eS+=e-eN[eO-4];XY+=eR-eN[eO-3]}e=k[eL++];eR=k[eL++];eM=eQ.Q;eJ.addData(eM,eS,XY,e,eR);break;case"t":eS=e;XY=eR;var eO=eJ.len();var eN=eJ.data;if(eG===eQ.Q){eS+=e-eN[eO-4];XY+=eR-eN[eO-3]}e+=k[eL++];eR+=k[eL++];eM=eQ.Q;eJ.addData(eM,eS,XY,e,eR);break;case"A":eV=k[eL++];eT=k[eL++];eK=k[eL++];v=k[eL++];eI=k[eL++];PI=e,WH=eR;e=k[eL++];eR=k[eL++];eM=eQ.A;YM(PI,WH,e,eR,v,eI,eV,eT,eK,eM,eJ);break;case"a":eV=k[eL++];eT=k[eL++];eK=k[eL++];v=k[eL++];eI=k[eL++];PI=e,WH=eR;e+=k[eL++];eR+=k[eL++];eM=eQ.A;YM(PI,WH,e,eR,v,eI,eV,eT,eK,eM,eJ);break}}if(eH==="z"||eH==="Z"){eM=eQ.Z;eJ.addData(eM)}eG=eM}eJ.toStatic();return eJ}function cr(i,Z){var e=H4(i);Z=Z||{};Z.buildPath=function(v){if(v.setData){v.setData(e.data);var k=v.getContext();if(k){v.rebuildPath(k)}}else{var k=v;e.rebuildPath(k)}};Z.applyTransform=function(k){UC(e,k);this.dirty(true)};return Z}function bx(e,Z){return new Lw(cr(e,Z))}function aw(e,Z){return Lw.extend(cr(e,Z))}function Ii(v,k){var Z=[];var PI=v.length;for(var e=0;e<PI;e++){var WH=v[e];if(!WH.path){WH.createPathProxy()}if(WH.__dirtyPath){WH.buildPath(WH.path,WH.shape,true)}Z.push(WH.path)}var XY=new Lw(k);XY.createPathProxy();XY.buildPath=function(Z2){Z2.appendPath(Z);var i=Z2.getContext();if(i){Z2.rebuildPath(i)}};return XY}var FA=function(Z){TE.call(this,Z)};FA.prototype={constructor:FA,type:"text",brush:function(i,k){var e=this.style;this.__dirty&&CY(e,true);e.fill=e.stroke=e.shadowBlur=e.shadowColor=e.shadowOffsetX=e.shadowOffsetY=null;var Z=e.text;Z!=null&&(Z+="");e.bind(i,this,k);if(!Vx(Z,e)){return}this.setTransform(i);H8(this,i,Z,e);this.restoreTransform(i)},getBoundingRect:function(){var e=this.style;this.__dirty&&CY(e,true);if(!this._rect){var k=e.text;k!=null?(k+=""):(k="");var Z=Hv(e.text+"",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.rich);Z.x+=e.x||0;Z.y+=e.y||0;if(cn(e.textStroke,e.textStrokeWidth)){var i=e.textStrokeWidth;Z.x-=i/2;Z.y-=i/2;Z.width+=i;Z.height+=i}this._rect=Z}return this._rect}};JO(FA,TE);var aA=Lw.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,i,Z){if(Z){e.moveTo(i.cx+i.r,i.cy)}e.arc(i.cx,i.cy,i.r,0,Math.PI*2,true)}});var Lk=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];var S2=function(Z){return(PF.browser.ie&&PF.browser.version>=11)?function(){var XY=this.__clipPaths;var WH=this.style;var e;if(XY){for(var PI=0;PI<XY.length;PI++){var Z2=XY[PI];var k=Z2&&Z2.shape;var cc=Z2&&Z2.type;if(k&&((cc==="sector"&&k.startAngle===k.endAngle)||(cc==="rect"&&(!k.width||!k.height)))){for(var v=0;v<Lk.length;v++){Lk[v][2]=WH[Lk[v][0]];WH[Lk[v][0]]=Lk[v][1]}e=true;break}}}Z.apply(this,arguments);if(e){for(var v=0;v<Lk.length;v++){WH[Lk[v][0]]=Lk[v][2]}}}:Z};var KS=Lw.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:true},brush:S2(Lw.prototype.brush),buildPath:function(v,i){var WH=i.cx;var XY=i.cy;var PI=Math.max(i.r0||0,0);var Z=Math.max(i.r,0);var eF=i.startAngle;var e=i.endAngle;var k=i.clockwise;var Z2=Math.cos(eF);var cc=Math.sin(eF);v.moveTo(Z2*PI+WH,cc*PI+XY);v.lineTo(Z2*Z+WH,cc*Z+XY);v.arc(WH,XY,Z,eF,e,!k);v.lineTo(Math.cos(e)*PI+WH,Math.sin(e)*PI+XY);if(PI!==0){v.arc(WH,XY,PI,e,eF,k)}v.closePath()}});var OO=Lw.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(i,v){var Z=v.cx;var e=v.cy;var k=Math.PI*2;i.moveTo(Z+v.r,e);i.arc(Z,e,v.r,0,k,false);i.moveTo(Z+v.r0,e);i.arc(Z,e,v.r0,0,k,true)}});function Mr(i,Z,PI,k,e,Z2,WH){var XY=(PI-i)*0.5;var v=(k-Z)*0.5;return(2*(Z-PI)+XY+v)*WH+(-3*(Z-PI)-2*XY-v)*Z2+XY*e+Z}var S3=function(eG,WH){var Z2=eG.length;var eJ=[];var eK=0;for(var XY=1;XY<Z2;XY++){eK+=MN(eG[XY-1],eG[XY])}var eH=eK/2;eH=eH<Z2?Z2:eH;for(var XY=0;XY<eH;XY++){var cc=XY/(eH-1)*(WH?Z2:Z2-1);var PI=Math.floor(cc);var k=cc-PI;var eF;var Z=eG[PI%Z2];var eI;var e;if(!WH){eF=eG[PI===0?PI:PI-1];eI=eG[PI>Z2-2?Z2-1:PI+1];e=eG[PI>Z2-3?Z2-1:PI+2]}else{eF=eG[(PI-1+Z2)%Z2];eI=eG[(PI+1)%Z2];e=eG[(PI+2)%Z2]}var eL=k*k;var v=k*eL;eJ.push([Mr(eF[0],Z[0],eI[0],e[0],k,eL,v),Mr(eF[1],Z[1],eI[1],e[1],k,eL,v)])}return eJ};var Wb=function(eH,eL,eP,eG){var eQ=[];var eM=[];var Z=[];var k=[];var XY;var eK;var eF,eN;if(eG){eF=[Infinity,Infinity];eN=[-Infinity,-Infinity];for(var WH=0,PI=eH.length;WH<PI;WH++){db(eF,eF,eH[WH]);PV(eN,eN,eH[WH])}db(eF,eF,eG[0]);PV(eN,eN,eG[1])}for(var WH=0,PI=eH.length;WH<PI;WH++){var e=eH[WH];if(eP){XY=eH[WH?WH-1:PI-1];eK=eH[(WH+1)%PI]}else{if(WH===0||WH===PI-1){eQ.push(XP(eH[WH]));continue}else{XY=eH[WH-1];eK=eH[WH+1]}}M3(eM,eK,XY);Ce(eM,eM,eL);var eO=MN(e,XY);var Z2=MN(e,eK);var cc=eO+Z2;if(cc!==0){eO/=cc;Z2/=cc}Ce(Z,eM,-eO);Ce(k,eM,Z2);var eJ=Zh([],e,Z);var eI=Zh([],e,k);if(eG){PV(eJ,eJ,eF);db(eJ,eJ,eN);PV(eI,eI,eF);db(eI,eI,eN)}eQ.push(eJ);eQ.push(eI)}if(eP){eQ.push(eQ.shift())}return eQ};function Fr(PI,v,WH){var k=v.points;var Z=v.smooth;if(k&&k.length>=2){if(Z&&Z!=="spline"){var Z2=Wb(k,Z,WH,v.smoothConstraint);PI.moveTo(k[0][0],k[0][1]);var cc=k.length;for(var XY=0;XY<(WH?cc:cc-1);XY++){var eF=Z2[XY*2];var eH=Z2[XY*2+1];var e=k[(XY+1)%cc];PI.bezierCurveTo(eF[0],eF[1],eH[0],eH[1],e[0],e[1])}}else{if(Z==="spline"){k=S3(k,WH)}PI.moveTo(k[0][0],k[0][1]);for(var XY=1,eG=k.length;XY<eG;XY++){PI.lineTo(k[XY][0],k[XY][1])}}WH&&PI.closePath()}}var GN=Lw.extend({type:"polygon",shape:{points:null,smooth:false,smoothConstraint:null},buildPath:function(Z,e){Fr(Z,e,true)}});var I3=Lw.extend({type:"polyline",shape:{points:null,smooth:false,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(Z,e){Fr(Z,e,false)}});var BI=Lw.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(v,PI){var i=PI.x;var k=PI.y;var e=PI.width;var Z=PI.height;if(!PI.r){v.rect(i,k,e,Z)}else{T3(v,PI)}v.closePath();return}});var S7=Lw.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(v,WH){var i=WH.x1;var PI=WH.y1;var Z=WH.x2;var e=WH.y2;var k=WH.percent;if(k===0){return}v.moveTo(i,PI);if(k<1){Z=i*(1-k)+Z*k;e=PI*(1-k)+e*k}v.lineTo(Z,e)},pointAt:function(Z){var e=this.shape;return[e.x1*(1-Z)+e.x2*Z,e.y1*(1-Z)+e.y2*Z]}});var Pf=[];function LB(v,i,Z){var e=v.cpx2;var k=v.cpy2;if(e===null||k===null){return[(Z?CO:BL)(v.x1,v.cpx1,v.cpx2,v.x2,i),(Z?CO:BL)(v.y1,v.cpy1,v.cpy2,v.y2,i)]}else{return[(Z?On:RK)(v.x1,v.cpx1,v.x2,i),(Z?On:RK)(v.y1,v.cpy1,v.y2,i)]}}var EK=Lw.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(WH,k){var i=k.x1;var cc=k.y1;var v=k.x2;var PI=k.y2;var eF=k.cpx1;var XY=k.cpy1;var e=k.cpx2;var Z=k.cpy2;var Z2=k.percent;if(Z2===0){return}WH.moveTo(i,cc);if(e==null||Z==null){if(Z2<1){HJ(i,eF,v,Z2,Pf);eF=Pf[1];v=Pf[2];HJ(cc,XY,PI,Z2,Pf);XY=Pf[1];PI=Pf[2]}WH.quadraticCurveTo(eF,XY,v,PI)}else{if(Z2<1){RB(i,eF,e,v,Z2,Pf);eF=Pf[1];e=Pf[2];v=Pf[3];RB(cc,XY,Z,PI,Z2,Pf);XY=Pf[1];Z=Pf[2];PI=Pf[3]}WH.bezierCurveTo(eF,XY,e,Z,v,PI)}},pointAt:function(Z){return LB(this.shape,Z,false)},tangentAt:function(e){var Z=LB(this.shape,e,true);return a9(Z,Z)}});var WO=Lw.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:true},style:{stroke:"#000",fill:null},buildPath:function(v,i){var PI=i.cx;var WH=i.cy;var Z=Math.max(i.r,0);var cc=i.startAngle;var e=i.endAngle;var k=i.clockwise;var XY=Math.cos(cc);var Z2=Math.sin(cc);v.moveTo(XY*Z+PI,Z2*Z+WH);v.arc(PI,WH,Z,cc,e,!k)}});var J3=Lw.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){var e=this.__dirtyPath;var k=this.shape.paths;for(var Z=0;Z<k.length;Z++){e=e||k[Z].__dirtyPath}this.__dirtyPath=e;this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();var k=this.shape.paths||[];var e=this.getGlobalScale();for(var Z=0;Z<k.length;Z++){if(!k[Z].path){k[Z].createPathProxy()}k[Z].path.setScale(e[0],e[1])}},buildPath:function(k,v){var e=v.paths||[];for(var Z=0;Z<e.length;Z++){e[Z].buildPath(k,e[Z].shape,true)}},afterBrush:function(){var e=this.shape.paths||[];for(var Z=0;Z<e.length;Z++){e[Z].__dirtyPath=false}},getBoundingRect:function(){this._updatePathDirty();return Lw.prototype.getBoundingRect.call(this)}});var IN=function(Z){this.colorStops=Z||[]};IN.prototype={constructor:IN,addColorStop:function(Z,e){this.colorStops.push({offset:Z,color:e})}};var bb=function(k,v,Z,e,PI,i){this.x=k==null?0:k;this.y=v==null?0:v;this.x2=Z==null?1:Z;this.y2=e==null?0:e;this.type="linear";this.global=i||false;IN.call(this,PI)};bb.prototype={constructor:bb};JO(bb,IN);var VY=function(i,k,Z,v,e){this.x=i==null?0.5:i;this.y=k==null?0.5:k;this.r=Z==null?0.5:Z;this.type="radial";this.global=e||false;IN.call(this,v)};VY.prototype={constructor:VY};JO(VY,IN);var F6=Math.round;var Bo=Math.max;var Lm=Math.min;var Kr={};function B6(Z){return Lw.extend(Z)}function SP(e,Z){return aw(e,Z)}function IW(k,Z,e,i){var PI=bx(k,Z);var v=PI.getBoundingRect();if(e){if(i==="center"){e=B3(e,v)}aR(PI,e)}return PI}function AZ(i,Z,e){var k=new G4({style:{image:i,x:Z.x,y:Z.y,width:Z.width,height:Z.height},onload:function(PI){if(e==="center"){var v={width:PI.width,height:PI.height};k.setStyle(B3(Z,v))}}});return k}function B3(i,PI){var k=PI.width/PI.height;var v=i.height*k;var Z;if(v<=i.width){Z=i.height}else{v=i.width;Z=v/k}var WH=i.x+i.width/2;var e=i.y+i.height/2;return{x:WH-v/2,y:e-Z/2,width:v,height:Z}}var Hu=Ii;function aR(k,Z){if(!k.applyTransform){return}var i=k.getBoundingRect();var e=i.calculateTransform(Z);k.applyTransform(e)}function Kg(Z){var i=Z.shape;var e=Z.style.lineWidth;if(F6(i.x1*2)===F6(i.x2*2)){i.x1=i.x2=bq(i.x1,e,true)}if(F6(i.y1*2)===F6(i.y2*2)){i.y1=i.y2=bq(i.y1,e,true)}return Z}function Bb(k){var WH=k.shape;var v=k.style.lineWidth;var e=WH.x;var Z=WH.y;var i=WH.width;var PI=WH.height;WH.x=bq(WH.x,v,true);WH.y=bq(WH.y,v,true);WH.width=Math.max(bq(e+i,v,false)-WH.x,i===0?0:1);WH.height=Math.max(bq(Z+PI,v,false)-WH.y,PI===0?0:1);return k}function bq(e,i,k){var Z=F6(e*2);return(Z+F6(i))%2===0?Z/2:(Z+(k?1:-1))/2}function SR(Z){return Z!=null&&Z!="none"}function XT(Z){return typeof Z==="string"?SZ(Z,-0.1):Z}function Is(Z){if(Z.__hoverStlDirty){var e=Z.style.stroke;var v=Z.style.fill;var PI=Z.__hoverStl;PI.fill=PI.fill||(SR(v)?XT(v):null);PI.stroke=PI.stroke||(SR(e)?XT(e):null);var k={};for(var i in PI){if(PI[i]!=null){k[i]=Z.style[i]}}Z.__normalStl=k;Z.__hoverStlDirty=false}}function Sb(Z){if(Z.__isHover){return}Is(Z);if(Z.useHoverLayer){Z.__zr&&Z.__zr.addHover(Z,Z.__hoverStl)}else{var i=Z.style;var e=i.insideRollbackOpt;e&&SC(i);i.extendFrom(Z.__hoverStl);if(e){BB(i,i.insideOriginalTextPosition,e);if(i.textFill==null){i.textFill=e.autoColor}}Z.dirty(false);Z.z2+=1}Z.__isHover=true}function Tt(Z){if(!Z.__isHover){return}var e=Z.__normalStl;if(Z.useHoverLayer){Z.__zr&&Z.__zr.removeHover(Z)}else{e&&Z.setStyle(e);Z.z2-=1}Z.__isHover=false}function XL(Z){Z.type==="group"?Z.traverse(function(e){if(e.type!=="group"){Sb(e)}}):Sb(Z)}function V0(Z){Z.type==="group"?Z.traverse(function(e){if(e.type!=="group"){Tt(e)}}):Tt(Z)}function aD(Z,e){Z.__hoverStl=Z.hoverStyle||e||{};Z.__hoverStlDirty=true;if(Z.__isHover){Is(Z)}}function Uu(Z){if(this.__hoverSilentOnTouch&&Z.zrByTouch){return}!this.__isEmphasis&&XL(this)}function LC(Z){if(this.__hoverSilentOnTouch&&Z.zrByTouch){return}!this.__isEmphasis&&V0(this)}function Db(){this.__isEmphasis=true;XL(this)}function N6(){this.__isEmphasis=false;V0(this)}function Ne(Z,i,e){Z.__hoverSilentOnTouch=e&&e.hoverSilentOnTouch;Z.type==="group"?Z.traverse(function(k){if(k.type!=="group"){aD(k,i)}}):aD(Z,i);Z.on("mouseover",Uu).on("mouseout",LC);Z.on("emphasis",Db).on("normal",N6)}function Ha(XY,k,eI,Z,e,cc,v){e=e||Kr;var PI=e.labelFetcher;var WH=e.labelDataIndex;var eH=e.labelDimIndex;var eJ=eI.getShallow("show");var eG=Z.getShallow("show");var eF=(eJ||eG)?TR(PI?PI.getFormattedLabel(WH,"normal",null,eH):null,e.defaultText):null;var i=eJ?eF:null;var Z2=eG?TR(PI?PI.getFormattedLabel(WH,"emphasis",null,eH):null,eF):null;if(i!=null||Z2!=null){Dw(XY,eI,cc,e);Dw(k,Z,v,e,true)}XY.text=i;k.text=Z2}function Dw(k,Z,e,v,i){Dk(k,Z,v,i);e&&V8(k,e);k.host&&k.host.dirty&&k.host.dirty(false);return k}function c9(k,e,v){var Z={isRectText:true};var i;if(v===false){i=true}else{Z.autoColor=v}Dk(k,e,Z,i);k.host&&k.host.dirty&&k.host.dirty(false)}function Dk(v,WH,i,eG){i=i||Kr;if(i.isRectText){var Z=WH.getShallow("position")||(eG?null:"inside");Z==="outside"&&(Z="top");v.textPosition=Z;v.textOffset=WH.getShallow("offset");var PI=WH.getShallow("rotate");PI!=null&&(PI*=Math.PI/180);v.textRotation=PI;v.textDistance=TR(WH.getShallow("distance"),eG?null:5)}var cc=WH.ecModel;var k=cc&&cc.option.textStyle;var eF=en(WH);var e;if(eF){e={};for(var Z2 in eF){if(eF.hasOwnProperty(Z2)){var XY=WH.getModel(["rich",Z2]);PC(e[Z2]={},XY,k,i,eG)}}}v.rich=e;PC(v,WH,k,i,eG,true);if(i.forceRich&&!i.textStyle){i.textStyle={}}return v}function en(e){var Z;while(e&&e!==e.ecModel){var i=(e.option||Kr).rich;if(i){Z=Z||{};for(var k in i){if(i.hasOwnProperty(k)){Z[k]=1}}}e=e.parentModel}return Z}function PC(PI,Z,e,WH,k,v){e=!k&&e||Kr;PI.textFill=YY(Z.getShallow("color"),WH)||e.color;PI.textStroke=YY(Z.getShallow("textBorderColor"),WH)||e.textBorderColor;PI.textStrokeWidth=TR(Z.getShallow("textBorderWidth"),e.textBorderWidth);if(!k){if(v){var i=PI.textPosition;PI.insideRollback=BB(PI,i,WH);PI.insideOriginalTextPosition=i;PI.insideRollbackOpt=WH}if(PI.textFill==null){PI.textFill=WH.autoColor}}PI.fontStyle=Z.getShallow("fontStyle")||e.fontStyle;PI.fontWeight=Z.getShallow("fontWeight")||e.fontWeight;PI.fontSize=Z.getShallow("fontSize")||e.fontSize;PI.fontFamily=Z.getShallow("fontFamily")||e.fontFamily;PI.textAlign=Z.getShallow("align");PI.textVerticalAlign=Z.getShallow("verticalAlign")||Z.getShallow("baseline");PI.textLineHeight=Z.getShallow("lineHeight");PI.textWidth=Z.getShallow("width");PI.textHeight=Z.getShallow("height");PI.textTag=Z.getShallow("tag");if(!v||!WH.disableBox){PI.textBackgroundColor=YY(Z.getShallow("backgroundColor"),WH);PI.textPadding=Z.getShallow("padding");PI.textBorderColor=YY(Z.getShallow("borderColor"),WH);PI.textBorderWidth=Z.getShallow("borderWidth");PI.textBorderRadius=Z.getShallow("borderRadius");PI.textBoxShadowColor=Z.getShallow("shadowColor");PI.textBoxShadowBlur=Z.getShallow("shadowBlur");PI.textBoxShadowOffsetX=Z.getShallow("shadowOffsetX");PI.textBoxShadowOffsetY=Z.getShallow("shadowOffsetY")}PI.textShadowColor=Z.getShallow("textShadowColor")||e.textShadowColor;PI.textShadowBlur=Z.getShallow("textShadowBlur")||e.textShadowBlur;PI.textShadowOffsetX=Z.getShallow("textShadowOffsetX")||e.textShadowOffsetX;PI.textShadowOffsetY=Z.getShallow("textShadowOffsetY")||e.textShadowOffsetY}function YY(e,Z){return e!=="auto"?e:(Z&&Z.autoColor)?Z.autoColor:null}function BB(k,i,v){var e=v.useInsideStyle;var Z;if(k.textFill==null&&e!==false&&(e===true||(v.isRectText&&i&&typeof i==="string"&&i.indexOf("inside")>=0))){Z={textFill:null,textStroke:k.textStroke,textStrokeWidth:k.textStrokeWidth};k.textFill="#fff";if(k.textStroke==null){k.textStroke=v.autoColor;k.textStrokeWidth==null&&(k.textStrokeWidth=2)}}return Z}function SC(Z){var e=Z.insideRollback;if(e){Z.textFill=e.textFill;Z.textStroke=e.textStroke;Z.textStrokeWidth=e.textStrokeWidth}}function Az(e,i){var Z=i||i.getModel("textStyle");return[e.fontStyle||Z&&Z.getShallow("fontStyle")||"",e.fontWeight||Z&&Z.getShallow("fontWeight")||"",(e.fontSize||Z&&Z.getShallow("fontSize")||12)+"px",e.fontFamily||Z&&Z.getShallow("fontFamily")||"sans-serif"].join(" ")}function bz(eF,Z2,XY,WH,cc,k){if(typeof cc==="function"){k=cc;cc=null}var i=WH&&WH.isAnimationEnabled();if(i){var v=eF?"Update":"";var Z=WH.getShallow("animationDuration"+v);var e=WH.getShallow("animationEasing"+v);var PI=WH.getShallow("animationDelay"+v);if(typeof PI==="function"){PI=PI(cc,WH.getAnimationDelayParams?WH.getAnimationDelayParams(Z2,cc):null)}if(typeof Z==="function"){Z=Z(cc)}Z>0?Z2.animateTo(XY,Z,PI||0,e,k,!!k):(Z2.stopAnimation(),Z2.attr(XY),k&&k())}else{Z2.stopAnimation();Z2.attr(XY);k&&k()}}function Pr(Z,k,v,e,i){bz(true,Z,k,v,e,i)}function b0(Z,k,v,e,i){bz(false,Z,k,v,e,i)}function h(e,Z){var i=cd([]);while(e&&e!==Z){OY(i,e.getLocalTransform(),i);e=e.parent}return i}function Bg(e,i,Z){if(i&&!KJ(i)){i=SO.getLocalTransform(i)}if(Z){i=Dj([],i)}return HV([],e,i)}function ai(v,PI,k){var e=(PI[4]===0||PI[5]===0||PI[0]===0)?1:Math.abs(2*PI[4]/PI[0]);var Z=(PI[4]===0||PI[5]===0||PI[2]===0)?1:Math.abs(2*PI[4]/PI[2]);var i=[v==="left"?-e:v==="right"?e:0,v==="top"?-Z:v==="bottom"?Z:0];i=Bg(i,PI,k);return Math.abs(i[0])>Math.abs(i[1])?(i[0]>0?"right":"left"):(i[1]>0?"bottom":"top")}function VI(e,k,WH,Z){if(!e||!k){return}function PI(XY){var Z2={};XY.traverse(function(cc){if(!cc.isGroup&&cc.anid){Z2[cc.anid]=cc}});return Z2}function i(XY){var Z2={position:XP(XY.position),rotation:XY.rotation};if(XY.shape){Z2.shape=V8({},XY.shape)}return Z2}var v=PI(e);k.traverse(function(XY){if(!XY.isGroup&&XY.anid){var cc=v[XY.anid];if(cc){var Z2=i(XY);XY.attr(i(cc));Pr(XY,Z2,WH,XY.dataIndex)}}})}function Ez(e,Z){return PK(e,function(i){var k=i[0];k=Bo(k,Z.x);k=Lm(k,Z.x+Z.width);var v=i[1];v=Bo(v,Z.y);v=Lm(v,Z.y+Z.height);return[k,v]})}function LO(v,i){var k=Bo(v.x,i.x);var Z=Lm(v.x+v.width,i.x+i.width);var PI=Bo(v.y,i.y);var e=Lm(v.y+v.height,i.y+i.height);if(Z>=k&&e>=PI){return{x:k,y:PI,width:Z-k,height:e-PI}}}function Dp(e,Z,k){Z=V8({rectHover:true},Z);var i=Z.style={strokeNoScale:true};k=k||{x:-1,y:-1,width:2,height:2};if(e){return e.indexOf("image://")===0?(i.image=e.slice(8),Id(i,k),new G4(Z)):(IW(e.replace("path://",""),Z,k,"center"))}}var RZ=(Object.freeze||Object)({extendShape:B6,extendPath:SP,makePath:IW,makeImage:AZ,mergePath:Hu,resizePath:aR,subPixelOptimizeLine:Kg,subPixelOptimizeRect:Bb,subPixelOptimize:bq,setHoverStyle:Ne,setLabelStyle:Ha,setTextStyle:Dw,setText:c9,getFont:Az,updateProps:Pr,initProps:b0,getTransform:h,applyTransform:Bg,transformDirection:ai,groupTransition:VI,clipPointsByRect:Ez,clipRectByRect:LO,createIcon:Dp,Group:TD,Image:G4,Text:FA,Circle:aA,Sector:KS,Ring:OO,Polygon:GN,Polyline:I3,Rect:BI,Line:S7,BezierCurve:EK,Arc:WO,CompoundPath:J3,LinearGradient:bb,RadialGradient:VY,BoundingRect:FC});var UD=["textStyle","color"];var Eu={getTextColor:function(e){var Z=this.ecModel;return this.getShallow("color")||((!e&&Z)?Z.get(UD):null)},getFont:function(){return Az({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(Z){return Hv(Z,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}};var UZ=CS([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]);var Et={getItemStyle:function(i,Z){var e=UZ(this,i,Z);var k=this.getBorderLineDash();k&&(e.lineDash=k);return e},getBorderLineDash:function(){var Z=this.get("borderType");return(Z==="solid"||Z==null)?null:(Z==="dashed"?[5,5]:[1,1])}};var UH=cq;function dc(Z,i,e){this.parentModel=i;this.ecModel=e;this.option=Z}dc.prototype={constructor:dc,init:null,mergeOption:function(Z){KT(this.option,Z,true)},get:function(e,Z){if(e==null){return this.option}return O9(this.option,this.parsePath(e),!Z&&Nz(this,e))},getShallow:function(Z,k){var e=this.option;var i=e==null?e:e[Z];var v=!k&&Nz(this,Z);if(i==null&&v){i=v.getShallow(Z)}return i},getModel:function(k,i){var Z=k==null?this.option:O9(this.option,k=this.parsePath(k));var e;i=i||((e=Nz(this,k))&&e.getModel(k));return new dc(Z,i,this.ecModel)},isEmpty:function(){return this.option==null},restoreData:function(){},clone:function(){var Z=this.constructor;return new Z(dp(this.option))},setReadOnly:function(Z){},parsePath:function(Z){if(typeof Z==="string"){Z=Z.split(".")}return Z},customizeGetParent:function(Z){Kv(this,"getParent",Z)},isAnimationEnabled:function(){if(!PF.node){if(this.option.animation!=null){return !!this.option.animation}else{if(this.parentModel){return this.parentModel.isAnimationEnabled()}}}}};function O9(e,k,v){for(var Z=0;Z<k.length;Z++){if(!k[Z]){continue}e=(e&&typeof e==="object")?e[k[Z]]:null;if(e==null){break}}if(e==null&&v){e=v.get(k)}return e}function Nz(e,i){var Z=Z9(e,"getParent");return Z?Z.call(e,i):e.parentModel}AR(dc);UH(dc,XH);UH(dc,OH);UH(dc,Eu);UH(dc,Et);var AI=Dc;var ax=Q;function Xf(Z){return Z instanceof Array?Z:Z==null?[]:[Z]}function V4(e,WH){if(e){var XY=e.emphasis=e.emphasis||{};var Z=e.normal=e.normal||{};for(var k=0,PI=WH.length;k<PI;k++){var v=WH[k];if(!XY.hasOwnProperty(v)&&Z.hasOwnProperty(v)){XY[v]=Z[v]}}}}var AN=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Wh(Z){return Z&&(Z.value==null?Z:Z.value)}function Sw(Z){return ax(Z)&&!(Z instanceof Array)}function bf(e,Z){var i=Z&&Z.type;if(i==="ordinal"){return e}if(i==="time"&&typeof e!=="number"&&e!=null&&e!=="-"){e=+AS(e)}return(e==null||e==="")?NaN:+e}var GR={getDataParams:function(WH,e){var i=this.getData(e);var k=this.getRawValue(WH,e);var v=i.getRawIndex(WH);var XY=i.getName(WH,true);var PI=i.getRawDataItem(WH);var Z=i.getItemVisual(WH,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:this.mainType==="series"?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:XY,dataIndex:v,data:PI,dataType:e,value:k,color:Z,marker:ep(Z),$vars:["seriesName","name","value"]}},getFormattedLabel:function(WH,Z2,i,XY,Z){Z2=Z2||"normal";var k=this.getData(i);var e=k.getItemModel(WH);var PI=this.getDataParams(WH,i);if(XY!=null&&(PI.value instanceof Array)){PI.value=PI.value[XY]}var v=e.get([Z||"label",Z2,"formatter"]);if(typeof v==="function"){PI.status=Z2;return v(PI)}else{if(typeof v==="string"){return Jw(v,PI)}}},getRawValue:function(e,i){var k=this.getData(i);var Z=k.getRawDataItem(e);if(Z!=null){return(ax(Z)&&!(Z instanceof Array))?Z.value:Z}},formatTooltip:ed};function Du(e,i){i=(i||[]).slice();var Z=PK(e||[],function(k,v){return{exist:k}});AI(i,function(PI,v){if(!ax(PI)){return}for(var k=0;k<Z.length;k++){if(!Z[k].option&&PI.id!=null&&Z[k].exist.id===PI.id+""){Z[k].option=PI;i[v]=null;return}}for(var k=0;k<Z.length;k++){var WH=Z[k].exist;if(!Z[k].option&&(WH.id==null||PI.id==null)&&PI.name!=null&&!XG(PI)&&!XG(WH)&&WH.name===PI.name+""){Z[k].option=PI;i[v]=null;return}}});AI(i,function(PI,v){if(!ax(PI)){return}var k=0;for(;k<Z.length;k++){var WH=Z[k].exist;if(!Z[k].option&&!XG(WH)&&PI.id==null){Z[k].option=PI;break}}if(k>=Z.length){Z.push({option:PI})}});return Z}function dm(Z){var e=EY();AI(Z,function(i,k){var v=i.exist;v&&e.set(v.id,i)});AI(Z,function(k,v){var i=k.option;Re(!i||i.id==null||!e.get(i.id)||e.get(i.id)===k,"id duplicates: "+(i&&i.id));i&&i.id!=null&&e.set(i.id,k);!k.keyInfo&&(k.keyInfo={})});AI(Z,function(v,WH){var XY=v.exist;var k=v.option;var PI=v.keyInfo;if(!ax(k)){return}PI.name=k.name!=null?k.name+"":XY?XY.name:"\0-";if(XY){PI.id=XY.id}else{if(k.id!=null){PI.id=k.id+""}else{var i=0;do{PI.id="\0"+PI.name+"\0"+i++}while(e.get(PI.id))}}e.set(PI.id,v)})}function XG(Z){return ax(Z)&&Z.id&&(Z.id+"").indexOf("\0_ec_\0")===0}function FO(i,v){var PI={};var k={};e(i||[],PI);e(v||[],k,PI);return[Z(PI),Z(k)];function e(WH,eG,eL){for(var eF=0,eK=WH.length;eF<eK;eF++){var Z2=WH[eF].seriesId;var eJ=Xf(WH[eF].dataIndex);var cc=eL&&eL[Z2];for(var eH=0,XY=eJ.length;eH<XY;eH++){var eI=eJ[eH];if(cc&&cc[eI]){cc[eI]=null}else{(eG[Z2]||(eG[Z2]={}))[eI]=1}}}}function Z(eF,WH){var Z2=[];for(var XY in eF){if(eF.hasOwnProperty(XY)&&eF[XY]!=null){if(WH){Z2.push(+XY)}else{var cc=Z(eF[XY],true);cc.length&&Z2.push({seriesId:XY,dataIndex:cc})}}}return Z2}}function KQ(e,Z){if(Z.dataIndexInside!=null){return Z.dataIndexInside}else{if(Z.dataIndex!=null){return aO(Z.dataIndex)?PK(Z.dataIndex,function(i){return e.indexOfRawIndex(i)}):e.indexOfRawIndex(Z.dataIndex)}else{if(Z.name!=null){return aO(Z.name)?PK(Z.name,function(i){return e.indexOfName(i)}):e.indexOfName(Z.name)}}}}var Os=(function(){var Z=0;return function(){var e="\0__ec_prop_getter_"+Z++;return function(i){return i[e]||(i[e]={})}}})();function IG(e,PI,Z){if(DY(PI)){var i={};i[PI+"Index"]=0;PI=i}var k=Z&&Z.defaultMainType;if(k&&!O8(PI,k+"Index")&&!O8(PI,k+"Id")&&!O8(PI,k+"Name")){PI[k+"Index"]=0}var v={};AI(PI,function(eH,WH){var eH=PI[WH];if(WH==="dataIndex"||WH==="dataIndexInside"){v[WH]=eH;return}var XY=WH.match(/^(\w+)(Index|Id|Name)$/)||[];var cc=XY[1];var eF=(XY[2]||"").toLowerCase();if(!cc||!eF||eH==null||(eF==="index"&&eH==="none")||(Z&&Z.includeMainTypes&&Fx(Z.includeMainTypes,cc)<0)){return}var eG={mainType:cc};if(eF!=="index"||eH!=="all"){eG[eF]=eH}var Z2=e.queryComponents(eG);v[cc+"Models"]=Z2;v[cc+"Model"]=Z2[0]});return v}function M7(PI,k){var v=PI.dimensions;k=PI.getDimension(k);for(var Z=0;Z<v.length;Z++){var e=PI.getDimensionInfo(v[Z]);if(e.name===k){return e.coordDim}}}function LW(i,e){var Z=[];AI(i.dimensions,function(v){var k=i.getDimensionInfo(v);if(k.coordDim===e){Z[k.coordDimIndex]=k.name}});return Z}function ev(i,e){var Z=[];AI(i.dimensions,function(PI){var v=i.getDimensionInfo(PI);var WH=v.otherDims;var k=WH[e];if(k!=null&&k!==false){Z[k]=v.name}});return Z}function O8(Z,e){return Z&&Z.hasOwnProperty(e)}var J5=0;var LK="_";function Rw(Z){return[(Z||""),J5++,Math.random()].join(LK)}function I0(e){var Z={};e.registerSubTypeDefaulter=function(i,k){i=Gb(i);Z[i.main]=k};e.determineSubType=function(v,k){var i=k.type;if(!i){var PI=Gb(v).main;if(e.hasSubTypes(v)&&Z[PI]){i=Z[PI](k)}}return i};return e}function cT(v,k){v.topologicalTravel=function(eI,PI,Z2,eH){if(!eI.length){return}var XY=Z(PI);var cc=XY.graph;var eM=XY.noEntryList;var eF={};Dc(eI,function(eN){eF[eN]=true});while(eM.length){var eG=eM.pop();var WH=cc[eG];var eK=!!eF[eG];if(eK){Z2.call(eH,eG,WH.originalDeps.slice());delete eF[eG]}Dc(WH.successor,eK?eL:eJ)}Dc(eF,function(){throw new Error("Circle dependency may exists")});function eJ(eN){cc[eN].entryCount--;if(cc[eN].entryCount===0){eM.push(eN)}}function eL(eN){eF[eN]=true;eJ(eN)}};function Z(WH){var PI={};var XY=[];Dc(WH,function(eF){var Z2=e(PI,eF);var cc=Z2.originalDeps=k(eF);var eG=i(cc,WH);Z2.entryCount=eG.length;if(Z2.entryCount===0){XY.push(eF)}Dc(eG,function(eH){if(Fx(Z2.predecessor,eH)<0){Z2.predecessor.push(eH)}var eI=e(PI,eH);if(Fx(eI.successor,eH)<0){eI.successor.push(eF)}})});return{graph:PI,noEntryList:XY}}function e(PI,WH){if(!PI[WH]){PI[WH]={predecessor:[],successor:[]}}return PI[WH]}function i(PI,WH){var XY=[];Dc(PI,function(Z2){Fx(WH,Z2)>=0&&XY.push(Z2)});return XY}}var Ju=Dc;var Al=["left","right","top","bottom","width","height"];var GF=[["width","left","right"],["height","top","bottom"]];function Uo(k,i,e,v,XY){var PI=0;var WH=0;if(v==null){v=Infinity}if(XY==null){XY=Infinity}var Z=0;i.eachChild(function(eK,eG){var eI=eK.position;var Z2=eK.getBoundingRect();var eJ=i.childAt(eG+1);var eM=eJ&&eJ.getBoundingRect();var cc;var eF;if(k==="horizontal"){var eH=Z2.width+(eM?(-eM.x+Z2.x):0);cc=PI+eH;if(cc>v||eK.newline){PI=0;cc=eH;WH+=Z+e;Z=Z2.height}else{Z=Math.max(Z,Z2.height)}}else{var eL=Z2.height+(eM?(-eM.y+Z2.y):0);eF=WH+eL;if(eF>XY||eK.newline){PI+=Z+e;WH=0;eF=eL;Z=Z2.width}else{Z=Math.max(Z,Z2.width)}}if(eK.newline){return}eI[0]=PI;eI[1]=WH;k==="horizontal"?(PI=cc+e):(WH=eF+e)})}var cP=Uo;var Bx=aT(Uo,"vertical");var DI=aT(Uo,"horizontal");function VS(PI,i,Z){var e=i.width;var Z2=i.height;var WH=OC(PI.x,e);var XY=OC(PI.y,Z2);var k=OC(PI.x2,e);var v=OC(PI.y2,Z2);(isNaN(WH)||isNaN(parseFloat(PI.x)))&&(WH=0);(isNaN(k)||isNaN(parseFloat(PI.x2)))&&(k=e);(isNaN(XY)||isNaN(parseFloat(PI.y)))&&(XY=0);(isNaN(v)||isNaN(parseFloat(PI.y2)))&&(v=Z2);Z=Q3(Z||0);return{width:Math.max(k-WH-Z[1]-Z[3],0),height:Math.max(v-XY-Z[0]-Z[2],0)}}function CC(cc,k,Z){Z=Q3(Z||0);var e=k.width;var eJ=k.height;var XY=OC(cc.left,e);var WH=OC(cc.top,eJ);var i=OC(cc.right,e);var eG=OC(cc.bottom,eJ);var eF=OC(cc.width,e);var eH=OC(cc.height,eJ);var Z2=Z[2]+Z[0];var eI=Z[1]+Z[3];var PI=cc.aspect;if(isNaN(eF)){eF=e-i-eI-XY}if(isNaN(eH)){eH=eJ-eG-Z2-WH}if(PI!=null){if(isNaN(eF)&&isNaN(eH)){if(PI>e/eJ){eF=e*0.8}else{eH=eJ*0.8}}if(isNaN(eF)){eF=PI*eH}if(isNaN(eH)){eH=eF/PI}}if(isNaN(XY)){XY=e-i-eF-eI}if(isNaN(WH)){WH=eJ-eG-eH-Z2}switch(cc.left||cc.right){case"center":XY=e/2-eF/2-Z[3];break;case"right":XY=e-eF-eI;break}switch(cc.top||cc.bottom){case"middle":case"center":WH=eJ/2-eH/2-Z[0];break;case"bottom":WH=eJ-eH-Z2;break}XY=XY||0;WH=WH||0;if(isNaN(eF)){eF=e-eI-XY-(i||0)}if(isNaN(eH)){eH=eJ-Z2-WH-(eG||0)}var v=new FC(XY+Z[3],WH+Z[0],eF,eH);v.margin=Z;return v}function VJ(eH,Z2,k,Z,eF){var WH=!eF||!eF.hv||eF.hv[0];var PI=!eF||!eF.hv||eF.hv[1];var eI=eF&&eF.boundingMode||"all";if(!WH&&!PI){return}var eG;if(eI==="raw"){eG=eH.type==="group"?new FC(0,0,+Z2.width||0,+Z2.height||0):eH.getBoundingRect()}else{eG=eH.getBoundingRect();if(eH.needLocalTransform()){var XY=eH.getLocalTransform();eG=eG.clone();eG.applyTransform(XY)}}Z2=CC(Id({width:eG.width,height:eG.height},Z2),k,Z);var i=eH.position;var e=WH?Z2.x-eG.x:0;var cc=PI?Z2.y-eG.y:0;eH.attr("position",eI==="raw"?[e,cc]:[i[0]+e,i[1]+cc])}function Tq(Z,e){return Z[GF[e][0]]!=null||(Z[GF[e][1]]!=null&&Z[GF[e][2]]!=null)}function aW(PI,e,k){!Q(k)&&(k={});var XY=k.ignoreSize;!aO(XY)&&(XY=[XY,XY]);var cc=i(GF[0],0);var WH=i(GF[1],1);v(GF[0],PI,cc);v(GF[1],PI,WH);function i(eH,eF){var eI={};var eK=0;var eN={};var eJ=0;var eL=2;Ju(eH,function(eO){eN[eO]=PI[eO]});Ju(eH,function(eO){Z2(e,eO)&&(eI[eO]=eN[eO]=e[eO]);Z(eI,eO)&&eK++;Z(eN,eO)&&eJ++});if(XY[eF]){if(Z(e,eH[1])){eN[eH[2]]=null}else{if(Z(e,eH[2])){eN[eH[1]]=null}}return eN}if(eJ===eL||!eK){return eN}else{if(eK>=eL){return eI}else{for(var eM=0;eM<eH.length;eM++){var eG=eH[eM];if(!Z2(eI,eG)&&Z2(PI,eG)){eI[eG]=PI[eG];break}}return eI}}}function Z2(eF,eG){return eF.hasOwnProperty(eG)}function Z(eF,eG){return eF[eG]!=null&&eF[eG]!=="auto"}function v(eH,eG,eF){Ju(eH,function(eI){eG[eI]=eF[eI]})}}function X2(Z){return R6({},Z)}function R6(e,Z){Z&&e&&Ju(Al,function(i){Z.hasOwnProperty(i)&&(e[i]=Z[i])});return e}var YF={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}};var Nm=Array.prototype.push;var C8=dc.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(Z,k,e,i){dc.call(this,Z,k,e,i);this.uid=Rw("componentModel")},init:function(Z,k,e,i){this.mergeDefaultAndTheme(Z,e)},mergeDefaultAndTheme:function(e,i){var v=this.layoutMode;var Z=v?X2(e):{};var k=i.getTheme();KT(e,k.get(this.mainType));KT(e,this.getDefaultOption());if(v){aW(e,Z,v)}},mergeOption:function(Z,e){KT(this.option,Z,true);var i=this.layoutMode;if(i){aW(this.option,Z,i)}},optionUpdated:function(Z,e){},getDefaultOption:function(){if(!D5(this,"__defaultOption")){var PI=[];var v=this.constructor;while(v){var e=v.prototype.defaultOption;e&&PI.push(e);v=v.superClass}var k={};for(var Z=PI.length-1;Z>=0;Z--){k=KT(k,PI[Z],true)}Kv(this,"__defaultOption",k)}return Z9(this,"__defaultOption")},getReferringComponents:function(Z){return this.ecModel.queryComponents({mainType:Z,index:this.get(Z+"Index",true),id:this.get(Z+"Id",true)})}});W7(C8,{registerWhenExtend:true});I0(C8);cT(C8,JY);function JY(Z){var e=[];Dc(C8.getClassesByMainType(Z),function(i){Nm.apply(e,i.prototype.dependencies||[])});return PK(e,function(i){return Gb(i).main})}cq(C8,YF);var d9="";if(typeof navigator!=="undefined"){d9=navigator.platform||""}var XQ={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],textStyle:{fontFamily:d9.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1000,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2000,progressiveThreshold:3000,progressive:400,hoverLayerThreshold:3000,useUTC:false};var Ee={clearColorPalette:function(){Kv(this,"colorIdx",0);Kv(this,"colorNameMap",{})},getColorFromPalette:function(k,v){v=v||this;var Z=Z9(v,"colorIdx")||0;var e=Z9(v,"colorNameMap")||Kv(v,"colorNameMap",{});if(e.hasOwnProperty(k)){return e[k]}var i=this.get("color",true)||[];if(!i.length){return}var PI=i[Z];if(k){e[k]=PI}Kv(v,"colorIdx",(Z+1)%i.length);return PI}};var B1=Dc;var dr=Zs;var UU=PK;var Ma=aO;var E5=Fx;var Ep=Q;var Ob="\0_ec_inner";var U1=dc.extend({constructor:U1,init:function(e,k,Z,i){Z=Z||{};this.option=null;this._theme=new dc(Z);this._optionManager=i},setOption:function(Z,e){Re(!(Ob in Z),"please use chart.getOption()");this._optionManager.setOption(Z,e);this.resetOption(null)},resetOption:function(Z){var v=false;var k=this._optionManager;if(!Z||Z==="recreate"){var i=k.mountOption(Z==="recreate");if(!this.option||Z==="recreate"){G.call(this,i)}else{this.restoreData();this.mergeOption(i)}v=true}if(Z==="timeline"||Z==="media"){this.restoreData()}if(!Z||Z==="recreate"||Z==="timeline"){var e=k.getTimelineOption(this);e&&(this.mergeOption(e),v=true)}if(!Z||Z==="recreate"||Z==="media"){var PI=k.getMediaOption(this,this._api);if(PI.length){B1(PI,function(WH){this.mergeOption(WH,v=true)},this)}}return v},mergeOption:function(k){var Z=this.option;var v=this._componentsMap;var e=[];B1(k,function(WH,PI){if(WH==null){return}if(!C8.hasClass(PI)){Z[PI]=Z[PI]==null?dp(WH):KT(Z[PI],WH,true)}else{e.push(PI)}});C8.topologicalTravel(e,C8.getAllClassMainTypes(),i,this);this._seriesIndices=this._seriesIndices||[];function i(Z2,XY){var WH=Xf(k[Z2]);var PI=Du(v.get(Z2),WH);dm(PI);B1(PI,function(eG,eH){var eF=eG.option;if(Ep(eF)){eG.keyInfo.mainType=Z2;eG.keyInfo.subType=dt(Z2,eF,eG.exist)}});var cc=Yh(v,XY);Z[Z2]=[];v.set(Z2,[]);B1(PI,function(eJ,eI){var eH=eJ.exist;var eF=eJ.option;Re(Ep(eF)||eH,"Empty component definition");if(!eF){eH.mergeOption({},this);eH.optionUpdated({},false)}else{var eG=C8.getClass(Z2,eJ.keyInfo.subType,true);if(eH&&eH instanceof eG){eH.name=eJ.keyInfo.name;eH.mergeOption(eF,this);eH.optionUpdated(eF,false)}else{var eK=V8({dependentModels:cc,componentIndex:eI},eJ.keyInfo);eH=new eG(eF,this,this,eK);V8(eH,eK);eH.init(eF,this,this,eK);eH.optionUpdated(null,true)}}v.get(Z2)[eI]=eH;Z[Z2][eI]=eH.option},this);if(Z2==="series"){this._seriesIndices=Jr(v.get("series"))}}},getOption:function(){var Z=dp(this.option);B1(Z,function(k,v){if(C8.hasClass(v)){var k=Xf(k);for(var e=k.length-1;e>=0;e--){if(XG(k[e])){k.splice(e,1)}}Z[v]=k}});delete Z[Ob];return Z},getTheme:function(){return this._theme},getComponent:function(Z,i){var e=this._componentsMap.get(Z);if(e){return e[i||0]}},queryComponents:function(i){var XY=i.mainType;if(!XY){return[]}var WH=i.index;var PI=i.id;var e=i.name;var v=this._componentsMap.get(XY);if(!v||!v.length){return[]}var Z;if(WH!=null){if(!Ma(WH)){WH=[WH]}Z=dr(UU(WH,function(cc){return v[cc]}),function(cc){return !!cc})}else{if(PI!=null){var Z2=Ma(PI);Z=dr(v,function(cc){return(Z2&&E5(PI,cc.id)>=0)||(!Z2&&cc.id===PI)})}else{if(e!=null){var k=Ma(e);Z=dr(v,function(cc){return(k&&E5(e,cc.name)>=0)||(!k&&cc.name===e)})}else{Z=v.slice()}}}return NB(Z,i)},findComponents:function(PI){var k=PI.query;var i=PI.mainType;var WH=Z(k);var e=WH?this.queryComponents(WH):this._componentsMap.get(i);return v(NB(e,PI));function Z(Z2){var XY=i+"Index";var cc=i+"Id";var eF=i+"Name";return Z2&&(Z2[XY]!=null||Z2[cc]!=null||Z2[eF]!=null)?{mainType:i,index:Z2[XY],id:Z2[cc],name:Z2[eF]}:null}function v(XY){return PI.filter?dr(XY,PI.filter):XY}},eachComponent:function(i,Z,e){var v=this._componentsMap;if(typeof i==="function"){e=Z;Z=i;v.each(function(WH,PI){B1(WH,function(XY,Z2){Z.call(e,PI,XY,Z2)})})}else{if(DY(i)){B1(v.get(i),Z,e)}else{if(Ep(i)){var k=this.findComponents(i);B1(k,Z,e)}}}},getSeriesByName:function(Z){var e=this._componentsMap.get("series");return dr(e,function(i){return i.name===Z})},getSeriesByIndex:function(Z){return this._componentsMap.get("series")[Z]},getSeriesByType:function(e){var Z=this._componentsMap.get("series");return dr(Z,function(i){return i.subType===e})},getSeries:function(){return this._componentsMap.get("series").slice()},eachSeries:function(Z,e){S(this);B1(this._seriesIndices,function(k){var i=this._componentsMap.get("series")[k];Z.call(e,i,k)},this)},eachRawSeries:function(Z,e){B1(this._componentsMap.get("series"),Z,e)},eachSeriesByType:function(i,Z,e){S(this);B1(this._seriesIndices,function(v){var k=this._componentsMap.get("series")[v];if(k.subType===i){Z.call(e,k,v)}},this)},eachRawSeriesByType:function(i,Z,e){return B1(this.getSeriesByType(i),Z,e)},isSeriesFiltered:function(Z){S(this);return Fx(this._seriesIndices,Z.componentIndex)<0},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(Z,e){S(this);var i=dr(this._componentsMap.get("series"),Z,e);this._seriesIndices=Jr(i)},restoreData:function(){var e=this._componentsMap;this._seriesIndices=Jr(e.get("series"));var Z=[];e.each(function(k,i){Z.push(i)});C8.topologicalTravel(Z,C8.getAllClassMainTypes(),function(k,i){B1(e.get(k),function(v){v.restoreData()})})}});function I9(Z,e){Dc(e,function(k,i){if(!C8.hasClass(i)){if(typeof k==="object"){Z[i]=!Z[i]?dp(k):KT(Z[i],k,false)}else{if(Z[i]==null){Z[i]=k}}}})}function G(Z){Z=Z;this.option={};this.option[Ob]=1;this._componentsMap=EY({series:[]});this._seriesIndices=null;I9(Z,this._theme.option);KT(Z,XQ,false);this.mergeOption(Z)}function Yh(i,Z){if(!aO(Z)){Z=Z?[Z]:[]}var e={};B1(Z,function(k){e[k]=(i.get(k)||[]).slice()});return e}function dt(e,Z,i){var k=Z.type?Z.type:i?i.subType:C8.determineSubType(e,Z);return k}function Jr(Z){return UU(Z,function(e){return e.componentIndex})||[]}function NB(Z,e){return e.hasOwnProperty("subType")?dr(Z,function(i){return i.subType===e.subType}):Z}function S(Z){if(Vo){if(!Z._seriesIndices){throw new Error("Option should contains series.")}}}cq(U1,Ee);var TJ=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];function Mv(Z){Dc(TJ,function(e){this[e]=b3(Z[e],Z)},this)}var AV={};function Ql(){this._coordinateSystems=[]}Ql.prototype={constructor:Ql,create:function(Z,i){var e=[];Dc(AV,function(PI,k){var v=PI.create(Z,i);e=e.concat(v||[])});this._coordinateSystems=e},update:function(Z,e){Dc(this._coordinateSystems,function(i){i.update&&i.update(Z,e)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}};Ql.register=function(Z,e){AV[Z]=e};Ql.get=function(Z){return AV[Z]};var NE=Dc;var XO=dp;var UT=PK;var U4=KT;var Pm=/^(min|max)?(.+)$/;function bC(Z){this._api=Z;this._timelineOptions=[];this._mediaList=[];this._mediaDefault;this._currentMediaIndices=[];this._optionBackup;this._newBaseOption}bC.prototype={constructor:bC,setOption:function(e,Z){e=XO(e,true);var i=this._optionBackup;var k=Q5.call(this,e,Z,!i);this._newBaseOption=k.baseOption;if(i){cI(i.baseOption,k.baseOption);if(k.timelineOptions.length){i.timelineOptions=k.timelineOptions}if(k.mediaList.length){i.mediaList=k.mediaList}if(k.mediaDefault){i.mediaDefault=k.mediaDefault}}else{this._optionBackup=k}},mountOption:function(e){var Z=this._optionBackup;this._timelineOptions=UT(Z.timelineOptions,XO);this._mediaList=UT(Z.mediaList,XO);this._mediaDefault=XO(Z.mediaDefault);this._currentMediaIndices=[];return XO(e?Z.baseOption:this._newBaseOption)},getTimelineOption:function(e){var Z;var i=this._timelineOptions;if(i.length){var k=e.getComponent("timeline");if(k){Z=XO(i[k.getCurrentIndex()],true)}}return Z},getMediaOption:function(XY){var k=this._api.getWidth();var Z2=this._api.getHeight();var cc=this._mediaList;var PI=this._mediaDefault;var v=[];var e=[];if(!cc.length&&!PI){return e}for(var WH=0,Z=cc.length;WH<Z;WH++){if(Q9(cc[WH].query,k,Z2)){v.push(WH)}}if(!v.length&&PI){v=[-1]}if(v.length&&!bH(v,this._currentMediaIndices)){e=UT(v,function(i){return XO(i===-1?PI.option:cc[i].option)})}this._currentMediaIndices=v;return e}};function Q5(PI,v,Z){var WH=[];var Z2=[];var XY;var i;var k=PI.timeline;if(PI.baseOption){i=PI.baseOption}if(k||PI.options){i=i||{};WH=(PI.options||[]).slice()}if(PI.media){i=i||{};var e=PI.media;NE(e,function(cc){if(cc&&cc.option){if(cc.query){Z2.push(cc)}else{if(!XY){XY=cc}}}})}if(!i){i=PI}if(!i.timeline){i.timeline=k}NE([i].concat(WH).concat(PK(Z2,function(cc){return cc.option})),function(cc){NE(v,function(eF){eF(cc,Z)})});return{baseOption:i,timelineOptions:WH,mediaDefault:XY,mediaList:Z2}}function Q9(e,k,i){var v={width:k,height:i,aspectratio:k/i};var Z=true;Dc(e,function(Z2,cc){var WH=cc.match(Pm);if(!WH||!WH[1]||!WH[2]){return}var PI=WH[1];var XY=WH[2].toLowerCase();if(!OI(v[XY],Z2,PI)){Z=false}});return Z}function OI(Z,e,i){if(i==="min"){return Z>=e}else{if(i==="max"){return Z<=e}else{return Z===e}}}function bH(Z,e){return Z.join(",")===e.join(",")}function cI(Z,e){e=e||{};NE(e,function(PI,v){if(PI==null){return}var k=Z[v];if(!C8.hasClass(v)){Z[v]=U4(k,PI,true)}else{PI=Xf(PI);k=Xf(k);var i=Du(k,PI);Z[v]=UT(i,function(WH){return(WH.option&&WH.exist)?U4(WH.exist,WH.option,true):(WH.exist||WH.option)})}})}var co=Dc;var bK=Q;var f=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Gr(e){var v=e&&e.itemStyle;if(!v){return}for(var Z=0,PI=f.length;Z<PI;Z++){var k=f[Z];var XY=v.normal;var WH=v.emphasis;if(XY&&XY[k]){e[k]=e[k]||{};if(!e[k].normal){e[k].normal=XY[k]}else{KT(e[k].normal,XY[k])}XY[k]=null}if(WH&&WH[k]){e[k]=e[k]||{};if(!e[k].emphasis){e[k].emphasis=WH[k]}else{KT(e[k].emphasis,WH[k])}WH[k]=null}}}function Jt(e,WH){var PI=bK(e)&&e[WH];var v=bK(PI)&&PI.textStyle;if(v){for(var Z=0,k=AN.length;Z<k;Z++){var WH=AN[Z];if(v.hasOwnProperty(WH)){PI[WH]=v[WH]}}}}function V3(Z){if(bK(Z)){Jt(Z,"normal");Jt(Z,"emphasis")}}function IK(Z2){if(!bK(Z2)){return}Gr(Z2);V3(Z2.label);V3(Z2.upperLabel);V3(Z2.edgeLabel);var v=Z2.markPoint;Gr(v);V3(v&&v.label);var WH=Z2.markLine;Gr(Z2.markLine);V3(WH&&WH.label);var XY=Z2.markArea;V3(XY&&XY.label);Jt(Z2,"axisLabel");Jt(Z2,"title");Jt(Z2,"detail");var e=Z2.data;if(e){for(var k=0;k<e.length;k++){Gr(e[k]);V3(e[k]&&e[k].label)}}var v=Z2.markPoint;if(v&&v.data){var Z=v.data;for(var k=0;k<Z.length;k++){Gr(Z[k]);V3(Z[k]&&Z[k].label)}}var WH=Z2.markLine;if(WH&&WH.data){var PI=WH.data;for(var k=0;k<PI.length;k++){if(aO(PI[k])){Gr(PI[k][0]);V3(PI[k][0]&&PI[k][0].label);Gr(PI[k][1]);V3(PI[k][1]&&PI[k][1].label)}else{Gr(PI[k]);V3(PI[k]&&PI[k].label)}}}}function Hj(Z){return aO(Z)?Z:Z?[Z]:[]}function Ov(Z){return(aO(Z)?Z[0]:Z)||{}}var Y1=function(e,i){co(Hj(e.series),function(k){bK(k)&&IK(k)});var Z=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];i&&Z.push("valueAxis","categoryAxis","logAxis","timeAxis");co(Z,function(k){co(Hj(e[k]),function(v){if(v){Jt(v,"axisLabel");Jt(v.axisPointer,"label")}})});co(Hj(e.parallel),function(v){var k=v&&v.parallelAxisDefault;Jt(k,"axisLabel");Jt(k&&k.axisPointer,"label")});co(Hj(e.calendar),function(k){Jt(k,"dayLabel");Jt(k,"monthLabel");Jt(k,"yearLabel")});co(Hj(e.radar),function(k){Jt(k,"name")});co(Hj(e.geo),function(k){if(bK(k)){V3(k.label);co(Hj(k.regions),function(v){V3(v.label)})}});V3(Ov(e.timeline).label);Jt(Ov(e.axisPointer),"label");Jt(Ov(e.tooltip).axisPointer,"label")};function QR(e,v){v=v.split(",");var k=e;for(var Z=0;Z<v.length;Z++){k=k&&k[v[Z]];if(k==null){break}}return k}function Ky(e,XY,WH,v){XY=XY.split(",");var PI=e;var Z;for(var k=0;k<XY.length-1;k++){Z=XY[k];if(PI[Z]==null){PI[Z]={}}PI=PI[Z]}if(v||PI[XY[k]]==null){PI[XY[k]]=WH}}function P9(Z){Dc(Zq,function(e){if(e[0] in Z&&!(e[1] in Z)){Z[e[1]]=Z[e[0]]}})}var Zq=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]];var F3=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];var P2=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"];var GJ=function(Z,e){Y1(Z,e);Z.series=Xf(Z.series);Dc(Z.series,function(PI){if(!Q(PI)){return}var v=PI.type;if(v==="pie"||v==="gauge"){if(PI.clockWise!=null){PI.clockwise=PI.clockWise}}if(v==="gauge"){var WH=QR(PI,"pointer.color");WH!=null&&Ky(PI,"itemStyle.normal.color",WH)}for(var k=0;k<P2.length;k++){if(P2[k]===PI.type){P9(PI);break}}});if(Z.dataRange){Z.visualMap=Z.dataRange}Dc(F3,function(k){var i=Z[k];if(i){if(!aO(i)){i=[i]}Dc(i,function(v){P9(v)})}})};var RY=C8.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",layoutMode:null,init:function(Z,k,e,i){this.seriesIndex=this.componentIndex;this.mergeDefaultAndTheme(Z,e);var v=this.getInitialData(Z,e);if(Vo){Re(v,"getInitialData returned invalid data.")}Kv(this,"dataBeforeProcessed",v);this.restoreData()},mergeDefaultAndTheme:function(e,i){var v=this.layoutMode;var Z=v?X2(e):{};var k=this.subType;if(C8.hasClass(k)){k+="Series"}KT(e,i.getTheme().get(this.subType));KT(e,this.getDefaultOption());V4(e.label,["show"]);this.fillDataTextStyle(e.data);if(v){aW(e,Z,v)}},mergeOption:function(i,Z){i=KT(this.option,i,true);this.fillDataTextStyle(i.data);var k=this.layoutMode;if(k){aW(this.option,i,k)}var e=this.getInitialData(i,Z);if(e){Kv(this,"data",e);Kv(this,"dataBeforeProcessed",e.cloneShallow())}},fillDataTextStyle:function(k){if(k){var e=["show"];for(var Z=0;Z<k.length;Z++){if(k[Z]&&k[Z].label){V4(k[Z].label,e)}}}},getInitialData:function(){},getData:function(Z){var e=Z9(this,"data");return Z==null?e:e.getLinkedData(Z)},setData:function(Z){Kv(this,"data",Z)},getRawData:function(){return Z9(this,"dataBeforeProcessed")},coordDimToDataDim:function(Z){return LW(this.getData(),Z)},dataDimToCoordDim:function(Z){return M7(this.getData(),Z)},getBaseAxis:function(){var Z=this.coordinateSystem;return Z&&Z.getBaseAxis&&Z.getBaseAxis()},formatTooltip:function(Z2,cc,i){function k(eI){var eK=EB(eI,function(eO,eN,eM){var eL=v.getDimensionInfo(eM);return eO|=eL&&eL.tooltip!==false&&eL.tooltipName!=null},0);var eG=[];var eJ=ev(v,"tooltip");eJ.length?Dc(eJ,function(eL){eH(v.get(eL,Z2),eL)}):Dc(eI,eH);function eH(eO,eN){var eM=v.getDimensionInfo(eN);if(!eM||eM.otherDims.tooltip===false){return}var eP=eM.type;var eL=(eK?"- "+(eM.tooltipName||eM.name)+": ":"")+(eP==="ordinal"?eO+"":eP==="time"?(cc?"":aV("yyyy/MM/dd hh:mm:ss",eO)):Mi(eO));eL&&eG.push(Pp(eL))}return(eK?"<br/>":"")+eG.join(eK?"<br/>":", ")}var v=Z9(this,"data");var WH=this.getRawValue(Z2);var Z=aO(WH)?k(WH):Pp(Mi(WH));var e=v.getName(Z2);var PI=v.getItemVisual(Z2,"color");if(Q(PI)&&PI.colorStops){PI=(PI.colorStops[0]||{}).color}PI=PI||"transparent";var XY=ep(PI);var eF=this.name;if(eF==="\0-"){eF=""}eF=eF?Pp(eF)+(!cc?"<br/>":": "):"";return !cc?eF+XY+(e?Pp(e)+": "+Z:Z):XY+eF+Z},isAnimationEnabled:function(){if(PF.node){return false}var Z=this.getShallow("animation");if(Z){if(this.getData().count()>this.getShallow("animationThreshold")){Z=false}}return Z},restoreData:function(){Kv(this,"data",Z9(this,"dataBeforeProcessed").cloneShallow())},getColorFromPalette:function(e,i){var Z=this.ecModel;var k=Ee.getColorFromPalette.call(this,e,i);if(!k){k=Z.getColorFromPalette(e,i)}return k},getAxisTooltipData:null,getTooltipPosition:null});cq(RY,GR);cq(RY,Ee);var Ok=function(){this.group=new TD();this.uid=Rw("viewComponent")};Ok.prototype={constructor:Ok,init:function(Z,e){},render:function(i,e,k,Z){},dispose:function(){}};var SA=Ok.prototype;SA.updateView=SA.updateLayout=SA.updateVisual=function(Z,e,k,i){};AR(Ok);W7(Ok,{registerWhenExtend:true});function L2(){this.group=new TD();this.uid=Rw("viewChart")}L2.prototype={type:"chart",init:function(Z,e){},render:function(Z,e,k,i){},highlight:function(Z,e,k,i){ER(Z.getData(),i,"emphasis")},downplay:function(Z,e,k,i){ER(Z.getData(),i,"normal")},remove:function(Z,e){this.group.removeAll()},dispose:function(){}};var Sy=L2.prototype;Sy.updateView=Sy.updateLayout=Sy.updateVisual=function(Z,e,k,i){this.render(Z,e,k,i)};function Ui(Z,k){if(Z){Z.trigger(k);if(Z.type==="group"){for(var e=0;e<Z.childCount();e++){Ui(Z.childAt(e),k)}}}}function ER(k,e,i){var Z=KQ(k,e);if(Z!=null){Dc(Xf(Z),function(v){Ui(k.getItemGraphicEl(v),i)})}else{k.eachItemGraphicEl(function(v){Ui(v,i)})}}AR(L2,["dispose"]);W7(L2,{registerWhenExtend:true});var Nv="\0__throttleOriginMethod";var VX="\0__throttleRate";var ah="\0__throttleType";function ZF(XY,k,Z2){var eH;var i=0;var Z=0;var eF=null;var v;var WH;var e;var PI;k=k||0;function eG(){Z=(new Date()).getTime();eF=null;XY.apply(WH,e||[])}var cc=function(){eH=(new Date()).getTime();WH=this;e=arguments;var eI=PI||k;var eJ=PI||Z2;PI=null;v=eH-(eJ?i:Z)-eI;clearTimeout(eF);if(eJ){eF=setTimeout(eG,eI)}else{if(v>=0){eG()}else{eF=setTimeout(eG,-v)}}i=eH};cc.clear=function(){if(eF){clearTimeout(eF);eF=null}};cc.debounceNextCall=function(eI){PI=eI};return cc}function W3(PI,i,k,Z){var v=PI[i];if(!v){return}var WH=v[Nv]||v;var XY=v[ah];var e=v[VX];if(e!==k||XY!==Z){if(k==null||!Z){return(PI[i]=WH)}v=PI[i]=ZF(WH,k,Z==="debounce");v[Nv]=WH;v[ah]=Z;v[VX]=k}return v}function ee(Z,i){var e=Z[i];if(e&&e[Nv]){Z[i]=e[Nv]}}var SK=function(e){function Z(k){var i=(k.visualColorAccessPath||"itemStyle.normal.color").split(".");var PI=k.getData();var v=k.get(i)||k.getColorFromPalette(k.get("name"));PI.setVisual("color",v);if(!e.isSeriesFiltered(k)){if(typeof v==="function"&&!(v instanceof IN)){PI.each(function(WH){PI.setItemVisual(WH,"color",v(k.getDataParams(WH)))})}PI.each(function(XY){var WH=PI.getItemModel(XY);var Z2=WH.get(i,true);if(Z2!=null){PI.setItemVisual(XY,"color",Z2)}})}}e.eachRawSeries(Z)};var J4=Math.PI;var q=function(v,i){i=i||{};Id(i,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var PI=new BI({style:{fill:i.maskColor},zlevel:i.zlevel,z:10000});var Z=new WO({shape:{startAngle:-J4/2,endAngle:-J4/2+0.1,r:10},style:{stroke:i.color,lineCap:"round",lineWidth:5},zlevel:i.zlevel,z:10001});var k=new BI({style:{fill:"none",text:i.text,textPosition:"right",textDistance:10,textFill:i.textColor},zlevel:i.zlevel,z:10001});Z.animateShape(true).when(1000,{endAngle:J4*3/2}).start("circularInOut");Z.animateShape(true).when(1000,{startAngle:J4*3/2}).delay(300).start("circularInOut");var e=new TD();e.add(Z);e.add(k);e.add(PI);e.resize=function(){var Z2=v.getWidth()/2;var WH=v.getHeight()/2;Z.setShape({cx:Z2,cy:WH});var XY=Z.shape.r;k.setShape({x:Z2-XY,y:WH-XY,width:XY*2,height:XY*2});PI.setShape({x:0,y:0,width:v.getWidth(),height:v.getHeight()})};e.resize();return e};
/*
 * ECharts, a javascript interactive chart library.
 *
 * Copyright (c) 2015, Baidu Inc.
 * All rights reserved.
 *
 * LICENSE
 * https://github.com/ecomfe/echarts/blob/master/LICENSE.txt
 */
var N9=Dc;var bW=C8.parseClassType;var Rn="3.8.4";var Z8={zrender:"3.7.3"};var RE=1000;var At=5000;var VF=1000;var Jh=2000;var bd=3000;var Dm=4000;var Fm=5000;var cu={PROCESSOR:{FILTER:RE,STATISTIC:At},VISUAL:{LAYOUT:VF,GLOBAL:Jh,CHART:bd,COMPONENT:Dm,BRUSH:Fm}};var QN="__flagInMainProcess";var Xp="__hasGradientOrPatternBg";var Rl="__optionUpdated";var D9=/^[a-zA-Z0-9_]+$/;function Rs(Z){return function(k,i,e){k=k&&k.toLowerCase();at.prototype[Z].call(this,k,i,e)}}function AU(){at.call(this)}AU.prototype.on=Rs("on");AU.prototype.off=Rs("off");AU.prototype.one=Rs("one");cq(AU,at);function GW(Z,v,i){i=i||{};if(typeof v==="string"){v=PL[v]}this.id;this.group;this._dom=Z;var PI="canvas";if(Vo){PI=(typeof window==="undefined"?global:window).__ECHARTS__DEFAULT__RENDERER__||PI}var e=this._zr=bo(Z,{renderer:i.renderer||PI,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height});this._throttledZrFlush=ZF(b3(e.flush,e),17);var v=dp(v);v&&GJ(v,true);this._theme=v;this._chartsViews=[];this._chartsMap={};this._componentsViews=[];this._componentsMap={};this._coordSysMgr=new Ql();this._api=c3(this);at.call(this);this._messageCenter=new AU();this._initEvents();this.resize=b3(this.resize,this);this._pendingActions=[];function k(XY,WH){return XY.prio-WH.prio}Tb(ZZ,k);Tb(N0,k);e.animation.on("frame",this._onframe,this);PB(this)}var a1=GW.prototype;a1._onframe=function(){if(this[Rl]){var Z=this[Rl].silent;this[QN]=true;UF.prepareAndUpdate.call(this);this[QN]=false;this[Rl]=false;AX.call(this,Z);cv.call(this,Z)}};a1.getDom=function(){return this._dom};a1.getZr=function(){return this._zr};a1.setOption=function(e,Z,i){if(Vo){Re(!this[QN],"`setOption` should not be called during main process.")}var WH;if(Q(Z)){i=Z.lazyUpdate;WH=Z.silent;Z=Z.notMerge}this[QN]=true;if(!this._model||Z){var v=new bC(this._api);var PI=this._theme;var k=this._model=new U1(null,null,PI,v);k.init(null,null,PI,v)}this._model.setOption(e,A1);if(i){this[Rl]={silent:WH};this[QN]=false}else{UF.prepareAndUpdate.call(this);this._zr.flush();this[Rl]=false;this[QN]=false;AX.call(this,WH);cv.call(this,WH)}};a1.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")};a1.getModel=function(){return this._model};a1.getOption=function(){return this._model&&this._model.getOption()};a1.getWidth=function(){return this._zr.getWidth()};a1.getHeight=function(){return this._zr.getHeight()};a1.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1};a1.getRenderedCanvas=function(e){if(!PF.canvasSupported){return}e=e||{};e.pixelRatio=e.pixelRatio||1;e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor");var Z=this._zr;var i=Z.storage.getDisplayList();Dc(i,function(k){k.stopAnimation(true)});return Z.painter.getRenderedCanvas(e)};a1.getSvgDataUrl=function(){if(!PF.svgSupported){return}var Z=this._zr;var e=Z.storage.getDisplayList();Dc(e,function(i){i.stopAnimation(true)});return Z.painter.pathToSvg()};a1.getDataURL=function(Z){Z=Z||{};var PI=Z.excludeComponents;var e=this._model;var i=[];var k=this;N9(PI,function(WH){e.eachComponent({mainType:WH},function(XY){var Z2=k._componentsMap[XY.__viewId];if(!Z2.group.ignore){i.push(Z2);Z2.group.ignore=true}})});var v=this._zr.painter.getType()==="svg"?this.getSvgDataUrl():this.getRenderedCanvas(Z).toDataURL("image/"+(Z&&Z.type||"png"));N9(i,function(WH){WH.group.ignore=false});return v};a1.getConnectedDataURL=function(Z2){if(!PF.canvasSupported){return}var k=this.group;var e=Math.min;var cc=Math.max;var PI=Infinity;if(Kf[k]){var XY=PI;var WH=PI;var i=-PI;var eG=-PI;var eI=[];var eH=(Z2&&Z2.pixelRatio)||1;Dc(Qh,function(eK,eN){if(eK.group===k){var eL=eK.getRenderedCanvas(dp(Z2));var eM=eK.getDom().getBoundingClientRect();XY=e(eM.left,XY);WH=e(eM.top,WH);i=cc(eM.right,i);eG=cc(eM.bottom,eG);eI.push({dom:eL,left:eM.left,top:eM.top})}});XY*=eH;WH*=eH;i*=eH;eG*=eH;var eF=i-XY;var eJ=eG-WH;var Z=d0();Z.width=eF;Z.height=eJ;var v=bo(Z);N9(eI,function(eK){var eL=new G4({style:{x:eK.left*eH-XY,y:eK.top*eH-WH,image:eK.dom}});v.add(eL)});v.refreshImmediately();return Z.toDataURL("image/"+(Z2&&Z2.type||"png"))}else{return this.getDataURL(Z2)}};a1.convertToPixel=aT(Hc,"convertToPixel");a1.convertFromPixel=aT(Hc,"convertFromPixel");function Hc(Z2,XY,PI){var e=this._model;var Z=this._coordSysMgr.getCoordinateSystems();var v;XY=IG(e,XY);for(var WH=0;WH<Z.length;WH++){var k=Z[WH];if(k[Z2]&&(v=k[Z2](e,XY,PI))!=null){return v}}if(Vo){console.warn("No coordinate system that supports "+Z2+" found by the given finder.")}}a1.containPixel=function(k,i){var e=this._model;var Z;k=IG(e,k);Dc(k,function(PI,v){v.indexOf("Models")>=0&&Dc(PI,function(Z2){var WH=Z2.coordinateSystem;if(WH&&WH.containPoint){Z|=!!WH.containPoint(i)}else{if(v==="seriesModels"){var XY=this._chartsMap[Z2.__viewId];if(XY&&XY.containPoint){Z|=XY.containPoint(i,Z2)}else{if(Vo){console.warn(v+": "+(XY?"The found component do not support containPoint.":"No view mapping to the found component."))}}}else{if(Vo){console.warn(v+": containPoint is not supported")}}}},this)},this);return !!Z};a1.getVisual=function(k,e){var v=this._model;k=IG(v,k,{defaultMainType:"series"});var Z=k.seriesModel;if(Vo){if(!Z){console.warn("There is no specified seires model")}}var PI=Z.getData();var i=k.hasOwnProperty("dataIndexInside")?k.dataIndexInside:k.hasOwnProperty("dataIndex")?PI.indexOfRawIndex(k.dataIndex):null;return i!=null?PI.getItemVisual(i,e):PI.getVisual(e)};a1.getViewOfComponentModel=function(Z){return this._componentsMap[Z.__viewId]};a1.getViewOfSeriesModel=function(Z){return this._chartsMap[Z.__viewId]};var UF={update:function(e){var Z=this._model;var WH=this._api;var k=this._coordSysMgr;var v=this._zr;if(!Z){return}Z.restoreData();k.create(this._model,this._api);Il.call(this,Z,WH);Gp.call(this,Z);k.update(Z,WH);Qo.call(this,Z,e);IZ.call(this,Z,e);var i=Z.get("backgroundColor")||"transparent";var XY=v.painter;if(XY.isSingleCanvas&&XY.isSingleCanvas()){v.configLayer(0,{clearColor:i})}else{if(!PF.canvasSupported){var PI=a8(i);i=Kz(PI,"rgb");if(PI[3]===0){i="transparent"}}if(i.colorStops||i.image){v.configLayer(0,{clearColor:i});this[Xp]=true;this._dom.style.background="transparent"}else{if(this[Xp]){v.configLayer(0,{clearColor:null})}this[Xp]=false;this._dom.style.background=i}}N9(UR,function(Z2){Z2(Z,WH)})},updateView:function(e){var Z=this._model;if(!Z){return}Z.eachSeries(function(i){i.getData().clearAllVisual()});Qo.call(this,Z,e);H2.call(this,"updateView",Z,e)},updateVisual:function(e){var Z=this._model;if(!Z){return}Z.eachSeries(function(i){i.getData().clearAllVisual()});Qo.call(this,Z,e,true);H2.call(this,"updateVisual",Z,e)},updateLayout:function(e){var Z=this._model;if(!Z){return}Fi.call(this,Z,e);H2.call(this,"updateLayout",Z,e)},prepareAndUpdate:function(e){var Z=this._model;Rm.call(this,"component",Z);Rm.call(this,"chart",Z);UF.update.call(this,e)}};function T2(k,WH,e,Z2,Z){var XY=k._model;if(!Z2){N9(k._componentsViews.concat(k._chartsViews),PI);return}var v={};v[Z2+"Id"]=e[Z2+"Id"];v[Z2+"Index"]=e[Z2+"Index"];v[Z2+"Name"]=e[Z2+"Name"];var i={mainType:Z2,query:v};Z&&(i.subType=Z);XY&&XY.eachComponent(i,function(eF,cc){PI(k[Z2==="series"?"_chartsMap":"_componentsMap"][eF.__viewId])},k);function PI(cc){cc&&cc.__alive&&cc[WH]&&cc[WH](cc.__model,XY,k._api,e)}}a1.resize=function(Z){if(Vo){Re(!this[QN],"`resize` should not be called during main process.")}this[QN]=true;this._zr.resize(Z);var i=this._model&&this._model.resetOption("media");var e=i?"prepareAndUpdate":"update";UF[e].call(this);this._loadingFX&&this._loadingFX.resize();this[QN]=false;var k=Z&&Z.silent;AX.call(this,k);cv.call(this,k)};a1.showLoading=function(i,k){if(Q(i)){k=i;i=""}i=i||"default";this.hideLoading();if(!K8[i]){if(Vo){console.warn("Loading effects "+i+" not exists.")}return}var Z=K8[i](this._api,k);var e=this._zr;this._loadingFX=Z;e.add(Z)};a1.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX);this._loadingFX=null};a1.makeActionFromEvent=function(Z){var e=V8({},Z);e.type=SN[Z.type];return e};a1.dispatchAction=function(e,Z){if(!Q(Z)){Z={silent:!!Z}}if(!Qu[e.type]){return}if(!this._model){return}if(this[QN]){this._pendingActions.push(e);return}YJ.call(this,e,Z.silent);if(Z.flush){this._zr.flush(true)}else{if(Z.flush!==false&&PF.browser.weChat){this._throttledZrFlush()}}AX.call(this,Z.silent);cv.call(this,Z.silent)};function YJ(k,eH){var PI=k.type;var XY=k.escapeConnect;var Z=Qu[PI];var cc=Z.actionInfo;var i=(cc.update||"update").split(":");var eF=i.pop();i=i[0]!=null&&bW(i[0]);this[QN]=true;var v=[k];var Z2=false;if(k.batch){Z2=true;v=PK(k.batch,function(eI){eI=Id(V8({},eI),k);eI.batch=null;return eI})}var WH=[];var e;var eG=PI==="highlight"||PI==="downplay";N9(v,function(eI){e=Z.action(eI,this._model,this._api);e=e||V8({},eI);e.type=cc.event||e.type;WH.push(e);if(eG){T2(this,eF,eI,"series")}else{if(i){T2(this,eF,eI,i.main,i.sub)}}},this);if(eF!=="none"&&!eG&&!i){if(this[Rl]){UF.prepareAndUpdate.call(this,k);this[Rl]=false}else{UF[eF].call(this,k)}}if(Z2){e={type:cc.event||PI,escapeConnect:XY,batch:WH}}else{e=WH[0]}this[QN]=false;!eH&&this._messageCenter.trigger(e.type,e)}function AX(i){var Z=this._pendingActions;while(Z.length){var e=Z.shift();YJ.call(this,e,i)}}function cv(Z){!Z&&this.trigger("updated")}a1.on=Rs("on");a1.off=Rs("off");a1.one=Rs("one");function H2(e,Z,i){var k=this._api;N9(this._componentsViews,function(PI){var v=PI.__model;PI[e](v,Z,k,i);aP(v,PI)},this);Z.eachSeries(function(PI,WH){var v=this._chartsMap[PI.__viewId];v[e](PI,Z,k,i);aP(PI,v);PQ(PI,v)},this);WW(this._zr,Z);N9(UR,function(v){v(Z,k)})}function Rm(Z2,e){var v=Z2==="component";var PI=v?this._componentsViews:this._chartsViews;var XY=v?this._componentsMap:this._chartsMap;var k=this._zr;for(var WH=0;WH<PI.length;WH++){PI[WH].__alive=false}e[v?"eachComponent":"eachSeries"](function(i,eI){if(v){if(i==="series"){return}}else{eI=i}var eG="_ec_"+eI.id+"_"+eI.type;var eF=XY[eG];if(!eF){var cc=bW(eI.type);var eH=v?Ok.getClass(cc.main,cc.sub):L2.getClass(cc.sub);if(eH){eF=new eH();eF.init(e,this._api);XY[eG]=eF;PI.push(eF);k.add(eF.group)}else{return}}eI.__viewId=eF.__id=eG;eF.__alive=true;eF.__model=eI;eF.group.__ecComponentInfo={mainType:eI.mainType,index:eI.componentIndex}},this);for(var WH=0;WH<PI.length;){var Z=PI[WH];if(!Z.__alive){k.remove(Z.group);Z.dispose(e,this._api);PI.splice(WH,1);delete XY[Z.__id];Z.__id=Z.group.__ecComponentInfo=null}else{WH++}}}function Il(Z,e){N9(N0,function(i){i.func(Z,e)})}function Gp(Z){var e={};Z.eachSeries(function(k){var i=k.get("stack");var PI=k.getData();if(i&&PI.type==="list"){var v=e[i];if(e.hasOwnProperty(i)&&v){PI.stackedOn=v}e[i]=PI}})}function Fi(Z,e){var i=this._api;N9(ZZ,function(k){if(k.isLayout){k.func(Z,i,e)}})}function Qo(Z,e,i){var k=this._api;Z.clearColorPalette();Z.eachSeries(function(v){v.clearColorPalette()});N9(ZZ,function(v){(!i||!v.isLayout)&&v.func(Z,k,e)})}function IZ(Z,e){var i=this._api;N9(this._componentsViews,function(v){var k=v.__model;v.render(k,Z,i,e);aP(k,v)},this);N9(this._chartsViews,function(k){k.__alive=false},this);Z.eachSeries(function(k,PI){var v=this._chartsMap[k.__viewId];v.__alive=true;v.render(k,Z,i,e);v.group.silent=!!k.get("silent");aP(k,v);PQ(k,v)},this);WW(this._zr,Z);N9(this._chartsViews,function(k){if(!k.__alive){k.remove(Z,i)}},this)}var Cq=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];a1._initEvents=function(){N9(Cq,function(Z){this._zr.on(Z,function(k){var v=this.getModel();var i=k.target;var WH;if(Z==="globalout"){WH={}}else{if(i&&i.dataIndex!=null){var PI=i.dataModel||v.getSeriesByIndex(i.seriesIndex);WH=PI&&PI.getDataParams(i.dataIndex,i.dataType)||{}}else{if(i&&i.eventData){WH=V8({},i.eventData)}}}if(WH){WH.event=k;WH.type=Z;this.trigger(Z,WH)}},this)},this);N9(SN,function(e,Z){this._messageCenter.on(Z,function(i){this.trigger(Z,i)},this)},this)};a1.isDisposed=function(){return this._disposed};a1.clear=function(){this.setOption({series:[]},true)};a1.dispose=function(){if(this._disposed){if(Vo){console.warn("Instance "+this.id+" has been disposed")}return}this._disposed=true;var e=this._api;var Z=this._model;N9(this._componentsViews,function(i){i.dispose(Z,e)});N9(this._chartsViews,function(i){i.dispose(Z,e)});this._zr.dispose();delete Qh[this.id]};cq(GW,at);function WW(e,i){var Z=e.storage;var k=0;Z.traverse(function(v){if(!v.isGroup){k++}});if(k>i.get("hoverLayerThreshold")&&!PF.node){Z.traverse(function(v){if(!v.isGroup){v.useHoverLayer=true}})}}function PQ(Z,i){var e=0;i.group.traverse(function(WH){if(WH.type!=="group"&&!WH.ignore){e++}});var PI=+Z.get("progressive");var v=e>Z.get("progressiveThreshold")&&PI&&!PF.node;if(v){i.group.traverse(function(WH){if(!WH.isGroup){WH.progressive=v?Math.floor(e++/PI):-1;if(v){WH.stopAnimation(true)}}})}var k=Z.get("blendMode")||null;if(Vo){if(!PF.canvasSupported&&k&&k!=="source-over"){console.warn("Only canvas support blendMode")}}i.group.traverse(function(WH){if(!WH.isGroup){WH.setStyle("blend",k)}})}function aP(k,e){var Z=k.get("z");var i=k.get("zlevel");e.group.traverse(function(v){if(v.type!=="group"){Z!=null&&(v.z=Z);i!=null&&(v.zlevel=i)}})}function c3(Z){var e=Z._coordSysMgr;return V8(new Mv(Z),{getCoordinateSystems:b3(e.getCoordinateSystems,e),getComponentByElement:function(i){while(i){var k=i.__ecComponentInfo;if(k!=null){return Z._model.getComponent(k.mainType,k.index)}i=i.parent}}})}var Qu={};var SN={};var N0=[];var A1=[];var UR=[];var ZZ=[];var PL={};var K8={};var Qh={};var Kf={};var VP=new Date()-0;var WB=new Date()-0;var RI="_echarts_instance_";var Fh={};function TY(Z){var v=0;var k=1;var PI=2;var e="__connectUpdateStatus";function i(WH,cc){for(var XY=0;XY<WH.length;XY++){var Z2=WH[XY];Z2[e]=cc}}Dc(SN,function(XY,WH){Z._messageCenter.on(WH,function(eF){if(Kf[Z.group]&&Z[e]!==v){if(eF&&eF.escapeConnect){return}var Z2=Z.makeActionFromEvent(eF);var cc=[];Dc(Qh,function(eG){if(eG!==Z&&eG.group===Z.group){cc.push(eG)}});i(cc,v);N9(cc,function(eG){if(eG[e]!==k){eG.dispatchAction(Z2)}});i(cc,PI)}})})}function GC(Z,k,e){if(Vo){if((Tk.replace(".","")-0)<(Z8.zrender.replace(".","")-0)){throw new Error("zrender/src "+Tk+" is too old for ECharts "+Rn+". Current version need ZRender "+Z8.zrender+"+")}if(!Z){throw new Error("Initialize failed: invalid dom.")}}var v=BG(Z);if(v){if(Vo){console.warn("There is a chart instance already initialized on the dom.")}return v}if(Vo){if(XA(Z)&&Z.nodeName.toUpperCase()!=="CANVAS"&&((!Z.clientWidth&&(!e||e.width==null))||(!Z.clientHeight&&(!e||e.height==null)))){console.warn("Can't get dom width or height")}}var i=new GW(Z,k,e);i.id="ec_"+VP++;Qh[i.id]=i;if(Z.setAttribute){Z.setAttribute(RI,i.id)}else{Z[RI]=i.id}TY(i);return i}function Ff(e){if(aO(e)){var Z=e;e=null;Dc(Z,function(i){if(i.group!=null){e=i.group}});e=e||("g_"+WB++);Dc(Z,function(i){i.group=e})}Kf[e]=true;return e}function KA(Z){Kf[Z]=false}var Am=KA;function UG(Z){if(typeof Z==="string"){Z=Qh[Z]}else{if(!(Z instanceof GW)){Z=BG(Z)}}if((Z instanceof GW)&&!Z.isDisposed()){Z.dispose()}}function BG(Z){var e;if(Z.getAttribute){e=Z.getAttribute(RI)}else{e=Z[RI]}return Qh[e]}function Tj(Z){return Qh[Z]}function SU(Z,e){PL[Z]=e}function IL(Z){A1.push(Z)}function bI(Z,e){if(typeof Z==="function"){e=Z;Z=RE}if(Vo){if(isNaN(Z)){throw new Error("Unkown processor priority")}}N0.push({prio:Z,func:e})}function KC(Z){UR.push(Z)}function R0(k,i,Z){if(typeof i==="function"){Z=i;i=""}var e=Q(k)?k.type:([k,k={event:i}][0]);k.event=(k.event||e).toLowerCase();i=k.event;Re(D9.test(e)&&D9.test(i));if(!Qu[e]){Qu[e]={action:Z,actionInfo:k}}SN[i]=e}function QX(Z,e){Ql.register(Z,e)}function Jp(Z){var e=Ql.get(Z);if(e){return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}}function el(e,Z){if(typeof e==="function"){Z=e;e=VF}if(Vo){if(isNaN(e)){throw new Error("Unkown layout priority")}}ZZ.push({prio:e,func:Z,isLayout:true})}function Ai(Z,e){if(typeof Z==="function"){e=Z;Z=bd}if(Vo){if(isNaN(Z)){throw new Error("Unkown visual priority")}}ZZ.push({prio:Z,func:e})}function bE(e,Z){K8[e]=Z}function GV(Z){return C8.extend(Z)}function bX(Z){return Ok.extend(Z)}function Q6(Z){return RY.extend(Z)}function WQ(Z){return L2.extend(Z)}function T6(Z){Cv("createCanvas",Z)}function LN(i,Z,e){if(Z.geoJson&&!Z.features){e=Z.specialAreas;Z=Z.geoJson}if(typeof Z==="string"){Z=(typeof JSON!=="undefined"&&JSON.parse)?JSON.parse(Z):(new Function("return ("+Z+");"))()}Fh[i]={geoJson:Z,specialAreas:e}}function Ac(Z){return Fh[Z]}Ai(Jh,SK);IL(GJ);bE("default",q);R0({type:"highlight",event:"highlight",update:"highlight"},ed);R0({type:"downplay",event:"downplay",update:"downplay"},ed);var T0={};function JH(Z){return Z}function U6(i,v,k,e,Z){this._old=i;this._new=v;this._oldKeyGetter=k||JH;this._newKeyGetter=e||JH;this.context=Z}U6.prototype={constructor:U6,add:function(Z){this._add=Z;return this},update:function(Z){this._update=Z;return this},remove:function(Z){this._remove=Z;return this},execute:function(){var XY=this._old;var eG=this._new;var WH={};var cc={};var PI=[];var k=[];var Z2;J8(XY,WH,PI,"_oldKeyGetter",this);J8(eG,cc,k,"_newKeyGetter",this);for(Z2=0;Z2<XY.length;Z2++){var eF=PI[Z2];var v=cc[eF];if(v!=null){var e=v.length;if(e){e===1&&(cc[eF]=null);v=v.unshift()}else{cc[eF]=null}this._update&&this._update(v,Z2)}else{this._remove&&this._remove(Z2)}}for(var Z2=0;Z2<k.length;Z2++){var eF=k[Z2];if(cc.hasOwnProperty(eF)){var v=cc[eF];if(v==null){continue}if(!v.length){this._add&&this._add(v)}else{for(var Z=0,e=v.length;Z<e;Z++){this._add&&this._add(v[Z])}}}}}};function J8(PI,XY,v,e,Z2){for(var k=0;k<PI.length;k++){var WH="_ec_"+Z2[e](PI[k],k);var Z=XY[WH];if(Z==null){v.push(WH);XY[WH]=k}else{if(!Z.length){XY[WH]=Z=[Z]}Z.push(k)}}}var In=Q;var dq="undefined";var dW=typeof window===dq?global:window;var SG={"float":typeof dW.Float64Array===dq?Array:dW.Float64Array,"int":typeof dW.Int32Array===dq?Array:dW.Int32Array,"ordinal":Array,"number":Array,"time":Array};var KM=["stackedOn","hasItemOption","_nameList","_idList","_rawData"];function NK(e,Z){Dc(KM.concat(Z.__wrappedMethods||[]),function(i){if(Z.hasOwnProperty(i)){e[i]=Z[i]}});e.__wrappedMethods=Z.__wrappedMethods}function YC(Z){this._array=Z||[]}YC.prototype.pure=false;YC.prototype.count=function(){return this._array.length};YC.prototype.getItem=function(Z){return this._array[Z]};var Lu=function(WH,PI){WH=WH||["x","y"];var XY={};var v=[];for(var e=0;e<WH.length;e++){var k;var Z={};if(typeof WH[e]==="string"){k=WH[e];Z={name:k,coordDim:k,coordDimIndex:0,stackable:false,type:"number"}}else{Z=WH[e];k=Z.name;Z.type=Z.type||"number";if(!Z.coordDim){Z.coordDim=k;Z.coordDimIndex=0}}Z.otherDims=Z.otherDims||{};v.push(k);XY[k]=Z}this.dimensions=v;this._dimensionInfos=XY;this.hostModel=PI;this.dataType;this.indices=[];this._storage={};this._nameList=[];this._idList=[];this._optionModels=[];this.stackedOn=null;this._visual={};this._layout={};this._itemVisuals=[];this._itemLayouts=[];this._graphicEls=[];this._rawData;this._extent};var ef=Lu.prototype;ef.type="list";ef.hasItemOption=true;ef.getDimension=function(Z){if(!isNaN(Z)){Z=this.dimensions[Z]||Z}return Z};ef.getDimensionInfo=function(Z){return dp(this._dimensionInfos[this.getDimension(Z)])};ef.initData=function(e,Z,Z2){e=e||[];var eP=aO(e);if(eP){e=new YC(e)}if(Vo){if(!eP&&(typeof e.getItem!="function"||typeof e.count!="function")){throw new Error("Inavlid data provider.")}}this._rawData=e;var PI=this._storage={};var eO=this.indices=[];var eJ=this.dimensions;var cc=this._dimensionInfos;var v=e.count();var eH=[];var eR={};var eI;Z=Z||[];for(var WH=0;WH<eJ.length;WH++){var eK=cc[eJ[WH]];eK.otherDims.itemName===0&&(eI=WH);var eM=SG[eK.type];PI[eJ[WH]]=new eM(v)}var eS=this;if(!Z2){eS.hasItemOption=false}Z2=Z2||function(eT,eU,i,k){var eV=Wh(eT);if(Sw(eT)){eS.hasItemOption=true}return bf((eV instanceof Array)?eV[k]:eV,cc[eU])};for(var WH=0;WH<v;WH++){var XY=e.getItem(WH);for(var eF=0;eF<eJ.length;eF++){var eG=eJ[eF];var eL=PI[eG];eL[WH]=Z2(XY,eG,WH,eF)}eO.push(WH)}for(var WH=0;WH<v;WH++){var XY=e.getItem(WH);if(!Z[WH]&&XY){if(XY.name!=null){Z[WH]=XY.name}else{if(eI!=null){Z[WH]=PI[eJ[eI]][WH]}}}var eQ=Z[WH]||"";var eN=XY&&XY.id;if(!eN&&eQ){eR[eQ]=eR[eQ]||0;eN=eQ;if(eR[eQ]>0){eN+="__ec__"+eR[eQ]}eR[eQ]++}eN&&(eH[WH]=eN)}this._nameList=Z;this._idList=eH};ef.count=function(){return this.indices.length};ef.get=function(WH,i,Z2){var Z=this._storage;var e=this.indices[i];if(e==null||!Z[WH]){return NaN}var v=Z[WH][e];if(Z2){var k=this._dimensionInfos[WH];if(k&&k.stackable){var PI=this.stackedOn;while(PI){var XY=PI.get(WH,i);if((v>=0&&XY>0)||(v<=0&&XY<0)){v+=XY}PI=PI.stackedOn}}}return v};ef.getValues=function(k,v,Z){var PI=[];if(!aO(k)){Z=v;v=k;k=this.dimensions}for(var e=0,WH=k.length;e<WH;e++){PI.push(this.get(k[e],v,Z))}return PI};ef.hasValue=function(k){var e=this.dimensions;var PI=this._dimensionInfos;for(var Z=0,v=e.length;Z<v;Z++){if(PI[e[Z]].type!=="ordinal"&&isNaN(this.get(e[Z],k))){return false}}return true};ef.getDataExtent=function(XY,eG,eF){XY=this.getDimension(XY);var e=this._storage[XY];var Z=this.getDimensionInfo(XY);eG=(Z&&Z.stackable)&&eG;var k=(this._extent||(this._extent={}))[XY+(!!eG)];var WH;if(k){return k}if(e){var v=Infinity;var PI=-Infinity;for(var Z2=0,cc=this.count();Z2<cc;Z2++){WH=this.get(XY,Z2,eG);if(!eF||eF(WH,XY,Z2)){WH<v&&(v=WH);WH>PI&&(PI=WH)}}return(this._extent[XY+!!eG]=[v,PI])}else{return[Infinity,-Infinity]}};ef.getSum=function(WH,e){var k=this._storage[WH];var XY=0;if(k){for(var v=0,PI=this.count();v<PI;v++){var Z=this.get(WH,v,e);if(!isNaN(Z)){XY+=Z}}}return XY};ef.indexOf=function(v,k){var Z=this._storage;var e=Z[v];var PI=this.indices;if(e){for(var WH=0,Z2=PI.length;WH<Z2;WH++){var XY=PI[WH];if(e[XY]===k){return WH}}}return -1};ef.indexOfName=function(v){var Z=this.indices;var WH=this._nameList;for(var e=0,PI=Z.length;e<PI;e++){var k=Z[e];if(WH[k]===v){return e}}return -1};ef.indexOfRawIndex=function(k){var Z=this.indices;var e=Z[k];if(e!=null&&e===k){return k}var i=0;var PI=Z.length-1;while(i<=PI){var v=(i+PI)/2|0;if(Z[v]<k){i=v+1}else{if(Z[v]>k){PI=v-1}else{return v}}}return -1};ef.indicesOfNearest=function(XY,v,eI,eG){var Z=this._storage;var k=Z[XY];var WH=[];if(!k){return WH}if(eG==null){eG=Infinity}var cc=Number.MAX_VALUE;var eH=-1;for(var Z2=0,PI=this.count();Z2<PI;Z2++){var e=v-this.get(XY,Z2,eI);var eF=Math.abs(e);if(e<=eG&&eF<=cc){if(eF<cc||(e>=0&&eH<0)){cc=eF;eH=e;WH.length=0}WH.push(Z2)}}return WH};ef.getRawIndex=function(e){var Z=this.indices[e];return Z==null?-1:Z};ef.getRawDataItem=function(Z){return this._rawData.getItem(this.getRawIndex(Z))};ef.getName=function(Z){return this._nameList[this.indices[Z]]||""};ef.getId=function(Z){return this._idList[this.indices[Z]]||(this.getRawIndex(Z)+"")};function cf(Z){if(!aO(Z)){Z=[Z]}return Z}ef.each=function(e,Z,eF,v){if(typeof e==="function"){v=eF;eF=Z;Z=e;e=[]}e=PK(cf(e),this.getDimension,this);var PI=[];var cc=e.length;var WH=this.indices;v=v||this;for(var Z2=0;Z2<WH.length;Z2++){switch(cc){case 0:Z.call(v,Z2);break;case 1:Z.call(v,this.get(e[0],Z2,eF),Z2);break;case 2:Z.call(v,this.get(e[0],Z2,eF),this.get(e[1],Z2,eF),Z2);break;default:for(var XY=0;XY<cc;XY++){PI[XY]=this.get(e[XY],Z2,eF)}PI[XY]=Z2;Z.apply(v,PI)}}};ef.filterSelf=function(Z,v,eH,PI){if(typeof Z==="function"){PI=eH;eH=v;v=Z;Z=[]}Z=PK(cf(Z),this.getDimension,this);var eG=[];var WH=[];var eF=Z.length;var XY=this.indices;PI=PI||this;for(var cc=0;cc<XY.length;cc++){var e;if(!eF){e=v.call(PI,cc)}else{if(eF===1){e=v.call(PI,this.get(Z[0],cc,eH),cc)}else{for(var Z2=0;Z2<eF;Z2++){WH[Z2]=this.get(Z[Z2],cc,eH)}WH[Z2]=cc;e=v.apply(PI,WH)}}if(e){eG.push(XY[cc])}}this.indices=eG;this._extent={};return this};ef.mapArray=function(k,Z,e,v){if(typeof k==="function"){v=e;e=Z;Z=k;k=[]}var i=[];this.each(k,function(){i.push(Z&&Z.apply(this,arguments))},e,v);return i};function HS(Z,XY){var cc=Z.dimensions;var k=new Lu(PK(cc,Z.getDimensionInfo,Z),Z.hostModel);NK(k,Z);var e=k._storage={};var v=Z._storage;for(var WH=0;WH<cc.length;WH++){var PI=cc[WH];var Z2=v[PI];if(Fx(XY,PI)>=0){e[PI]=new Z2.constructor(v[PI].length)}else{e[PI]=v[PI]}}return k}ef.map=function(Z,PI,XY,k){Z=PK(cf(Z),this.getDimension,this);var i=HS(this,Z);var v=i.indices=this.indices;var e=i._storage;var WH=[];this.each(Z,function(){var eH=arguments[arguments.length-1];var eF=PI&&PI.apply(this,arguments);if(eF!=null){if(typeof eF==="number"){WH[0]=eF;eF=WH}for(var Z2=0;Z2<eF.length;Z2++){var cc=Z[Z2];var eG=e[cc];var eI=v[eH];if(eG){eG[eI]=eF[Z2]}}}},XY,k);return i};ef.downSample=function(eK,eG,eJ,eI){var Z=HS(this,[eK]);var WH=this._storage;var eH=Z._storage;var XY=this.indices;var eL=Z.indices=[];var Z2=[];var v=[];var eF=Math.floor(1/eG);var cc=eH[eK];var e=this.count();for(var eM=0;eM<WH[eK].length;eM++){eH[eK][eM]=WH[eK][eM]}for(var eM=0;eM<e;eM+=eF){if(eF>e-eM){eF=e-eM;Z2.length=eF}for(var PI=0;PI<eF;PI++){var eO=XY[eM+PI];Z2[PI]=cc[eO];v[PI]=eO}var eN=eJ(Z2);var eO=v[eI(Z2,eN)||0];cc[eO]=eN;eL.push(eO)}return Z};ef.getItemModel=function(e){var Z=this.hostModel;e=this.indices[e];return new dc(this._rawData.getItem(e),Z,Z&&Z.ecModel)};ef.diff=function(Z){var i=this._idList;var v=Z&&Z._idList;var k;var e="e\0\0";return new U6(Z?Z.indices:[],this.indices,function(PI){return(k=v[PI])!=null?k:e+PI},function(PI){return(k=i[PI])!=null?k:e+PI})};ef.getVisual=function(Z){var e=this._visual;return e&&e[Z]};ef.setVisual=function(Z,i){if(In(Z)){for(var e in Z){if(Z.hasOwnProperty(e)){this.setVisual(e,Z[e])}}return}this._visual=this._visual||{};this._visual[Z]=i};ef.setLayout=function(Z,i){if(In(Z)){for(var e in Z){if(Z.hasOwnProperty(e)){this.setLayout(e,Z[e])}}return}this._layout[Z]=i};ef.getLayout=function(Z){return this._layout[Z]};ef.getItemLayout=function(Z){return this._itemLayouts[Z]};ef.setItemLayout=function(e,i,Z){this._itemLayouts[e]=Z?V8(this._itemLayouts[e]||{},i):i};ef.clearItemLayouts=function(){this._itemLayouts.length=0};ef.getItemVisual=function(k,Z,v){var i=this._itemVisuals[k];var e=i&&i[Z];if(e==null&&!v){return this.getVisual(Z)}return e};ef.setItemVisual=function(v,e,Z){var i=this._itemVisuals[v]||{};this._itemVisuals[v]=i;if(In(e)){for(var k in e){if(e.hasOwnProperty(k)){i[k]=e[k]}}return}i[e]=Z};ef.clearAllVisual=function(){this._visual={};this._itemVisuals=[]};var Pa=function(Z){Z.seriesIndex=this.seriesIndex;Z.dataIndex=this.dataIndex;Z.dataType=this.dataType};ef.setItemGraphicEl=function(i,Z){var e=this.hostModel;if(Z){Z.dataIndex=i;Z.dataType=this.dataType;Z.seriesIndex=e&&e.seriesIndex;if(Z.type==="group"){Z.traverse(Pa,Z)}}this._graphicEls[i]=Z};ef.getItemGraphicEl=function(Z){return this._graphicEls[Z]};ef.eachItemGraphicEl=function(Z,e){Dc(this._graphicEls,function(i,k){if(i){Z&&Z.call(e,i,k)}})};ef.cloneShallow=function(){var e=PK(this.dimensions,this.getDimensionInfo,this);var Z=new Lu(e,this.hostModel);Z._storage=this._storage;NK(Z,this);Z.indices=this.indices.slice();if(this._extent){Z._extent=V8({},this._extent)}return Z};ef.wrapMethod=function(e,i){var Z=this[e];if(typeof Z!=="function"){return}this.__wrappedMethods=this.__wrappedMethods||[];this.__wrappedMethods.push(e);this[e]=function(){var k=Z.apply(this,arguments);return i.apply(this,[k].concat(BW(arguments)))}};ef.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"];ef.CHANGABLE_METHODS=["filterSelf"];var Wc=Dc;var PR=DY;var DV=Id;var Qx={tooltip:1,label:1,itemName:1};function B(eF,Z,WH){Z=Z||[];WH=WH||{};eF=(eF||[]).slice();var eO=(WH.dimsDef||[]).slice();var eN=EY(WH.encodeDef);var eI=EY();var eJ=EY();var e=[];var eH=WH.dimCount;if(eH==null){var eK=bv(Z[0]);eH=Math.max(aO(eK)&&eK.length||1,eF.length,eO.length);Wc(eF,function(i){var eQ=i.dimsDef;eQ&&(eH=Math.max(eH,eQ.length))})}for(var k=0;k<eH;k++){var eM=PR(eO[k])?{name:eO[k]}:(eO[k]||{});var cc=eM.name;var eG=e[k]={otherDims:{}};if(cc!=null&&eI.get(cc)==null){eG.name=eG.tooltipName=cc;eI.set(cc,k)}eM.type!=null&&(eG.type=eM.type)}eN.each(function(i,eQ){i=eN.set(eQ,Xf(i).slice());Wc(i,function(eR,eS){PR(eR)&&(eR=eI.get(eR));if(eR!=null&&eR<eH){i[eS]=eR;eP(e[eR],eQ,eS)}})});var PI=0;Wc(eF,function(eR,eT){var eV;var eR;var eW;var eU;if(PR(eR)){eV=eR;eR={}}else{eV=eR.name;eR=dp(eR);eW=eR.dimsDef;eU=eR.otherDims;eR.name=eR.coordDim=eR.coordDimIndex=eR.dimsDef=eR.otherDims=null}var eQ=Xf(eN.get(eV));if(!eQ.length){for(var eS=0;eS<(eW&&eW.length||1);eS++){while(PI<e.length&&e[PI].coordDim!=null){PI++}PI<e.length&&eQ.push(PI++)}}Wc(eQ,function(i,eX){var eY=e[i];eP(DV(eY,eR),eV,eX);if(eY.name==null&&eW){eY.name=eY.tooltipName=eW[eX]}eU&&DV(eY.otherDims,eU)})});var v=WH.extraPrefix||"value";for(var Z2=0;Z2<eH;Z2++){var eG=e[Z2]=e[Z2]||{};var eL=eG.coordDim;eL==null&&(eG.coordDim=XY(v,eJ,WH.extraFromZero),eG.coordDimIndex=0,eG.isExtraCoord=true);eG.name==null&&(eG.name=XY(eG.coordDim,eI));eG.type==null&&Uz(Z,Z2)&&(eG.type="ordinal")}return e;function eP(eR,eQ,i){if(Qx[eQ]){eR.otherDims[eQ]=i}else{eR.coordDim=eQ;eR.coordDimIndex=i;eJ.set(eQ,true)}}function XY(eR,eT,eS){if(eS||eT.get(eR)!=null){var eQ=0;while(eT.get(eR+eQ)!=null){eQ++}eR+=eQ}eT.set(eR,true);return eR}}var Uz=B.guessOrdinal=function(PI,e){for(var Z=0,k=PI.length;Z<k;Z++){var v=bv(PI[Z]);if(!aO(v)){return false}var v=v[e];if(v!=null&&isFinite(v)&&v!==""){return false}else{if(PR(v)&&v!=="-"){return true}}}return false};function bv(Z){return aO(Z)?Z:Q(Z)?Z.value:Z}function Bt(e){var Z=0;while(Z<e.length&&e[Z]==null){Z++}return e[Z]}function Zp(e){var Z=Bt(e);return Z!=null&&!aO(Wh(Z))}function Um(k,eI,e){k=k||[];if(Vo){if(!aO(k)){throw new Error("Invalid data.")}}var eF=eI.get("coordinateSystem");var WH=cU[eF];var cc=Ql.get(eF);var eH={encodeDef:eI.get("encode"),dimsDef:eI.get("dimensions")};var XY=WH&&WH(k,eI,e,eH);var Z=XY&&XY.dimensions;if(!Z){Z=(cc&&(cc.getDimensionsInfo?cc.getDimensionsInfo():cc.dimensions.slice()))||["x","y"];Z=B(Z,k,eH)}var v=XY?XY.categoryIndex:-1;var i=new Lu(Z,eI);var Z2=O7(XY,k);var eG={};var PI=(v>=0&&Zp(k))?function(eL,eM,eJ,eK){if(Sw(eL)){i.hasItemOption=true}return eK===v?eJ:bf(Wh(eL),Z[eK])}:function(eM,eN,eK,eL){var eJ=Wh(eM);var eO=bf(eJ&&eJ[eL],Z[eL]);if(Sw(eM)){i.hasItemOption=true}var eP=XY&&XY.categoryAxesModels;if(eP&&eP[eN]){if(typeof eO==="string"){eG[eN]=eG[eN]||eP[eN].getCategories();eO=Fx(eG[eN],eO);if(eO<0&&!isNaN(eO)){eO=+eO}}}return eO};i.hasItemOption=false;i.initData(k,Z2,PI);return i}function Vs(Z){return Z!=="category"&&Z!=="time"}function ae(Z){return Z==="category"?"ordinal":Z==="time"?"time":"float"}var cU={cartesian2d:function(v,eH,i,cc){var eG=PK(["xAxis","yAxis"],function(eI){return i.queryComponents({mainType:eI,index:eH.get(eI+"Index"),id:eH.get(eI+"Id")})[0]});var PI=eG[0];var XY=eG[1];if(Vo){if(!PI){throw new Error('xAxis "'+Ew(eH.get("xAxisIndex"),eH.get("xAxisId"),0)+'" not found')}if(!XY){throw new Error('yAxis "'+Ew(eH.get("xAxisIndex"),eH.get("yAxisId"),0)+'" not found')}}var WH=PI.get("type");var e=XY.get("type");var Z=[{name:"x",type:ae(WH),stackable:Vs(WH)},{name:"y",type:ae(e),stackable:Vs(e)}];var eF=WH==="category";var k=e==="category";Z=B(Z,v,cc);var Z2={};if(eF){Z2.x=PI}if(k){Z2.y=XY}return{dimensions:Z,categoryIndex:eF?0:(k?1:-1),categoryAxesModels:Z2}},singleAxis:function(i,Z2,e,XY){var WH=e.queryComponents({mainType:"singleAxis",index:Z2.get("singleAxisIndex"),id:Z2.get("singleAxisId")})[0];if(Vo){if(!WH){throw new Error("singleAxis should be specified.")}}var k=WH.get("type");var PI=k==="category";var Z=[{name:"single",type:ae(k),stackable:Vs(k)}];Z=B(Z,i,XY);var v={};if(PI){v.single=WH}return{dimensions:Z,categoryIndex:PI?0:-1,categoryAxesModels:v}},polar:function(v,eH,i,cc){var eG=i.queryComponents({mainType:"polar",index:eH.get("polarIndex"),id:eH.get("polarId")})[0];var eF=eG.findAxisModel("angleAxis");var WH=eG.findAxisModel("radiusAxis");if(Vo){if(!eF){throw new Error("angleAxis option not found")}if(!WH){throw new Error("radiusAxis option not found")}}var e=WH.get("type");var XY=eF.get("type");var Z=[{name:"radius",type:ae(e),stackable:Vs(e)},{name:"angle",type:ae(XY),stackable:Vs(XY)}];var k=XY==="category";var PI=e==="category";Z=B(Z,v,cc);var Z2={};if(PI){Z2.radius=WH}if(k){Z2.angle=eF}return{dimensions:Z,categoryIndex:k?1:(PI?0:-1),categoryAxesModels:Z2}},geo:function(k,Z,e,i){return{dimensions:B([{name:"lng"},{name:"lat"}],k,i)}}};function O7(PI,e){var v=[];var Z2=PI&&PI.dimensions[PI.categoryIndex];var XY;if(Z2){XY=PI.categoryAxesModels[Z2.name]}if(XY){var Z=XY.getCategories();if(Z){var k=e.length;if(aO(e[0])&&e[0].length>1){v=[];for(var WH=0;WH<k;WH++){v[WH]=Z[e[WH][PI.categoryIndex||0]]}}else{v=Z.slice(0)}}}return v}function Hs(Z){this._setting=Z||{};this._extent=[Infinity,-Infinity];this._interval=0;this.init&&this.init.apply(this,arguments)}Hs.prototype.parse=function(Z){return Z};Hs.prototype.getSetting=function(Z){return this._setting[Z]};Hs.prototype.contain=function(e){var Z=this._extent;return e>=Z[0]&&e<=Z[1]};Hs.prototype.normalize=function(e){var Z=this._extent;if(Z[1]===Z[0]){return 0.5}return(e-Z[0])/(Z[1]-Z[0])};Hs.prototype.scale=function(e){var Z=this._extent;return e*(Z[1]-Z[0])+Z[0]};Hs.prototype.unionExtent=function(e){var Z=this._extent;e[0]<Z[0]&&(Z[0]=e[0]);e[1]>Z[1]&&(Z[1]=e[1])};Hs.prototype.unionExtentFromData=function(e,Z){this.unionExtent(e.getDataExtent(Z,true))};Hs.prototype.getExtent=function(){return this._extent.slice()};Hs.prototype.setExtent=function(i,e){var Z=this._extent;if(!isNaN(i)){Z[0]=i}if(!isNaN(e)){Z[1]=e}};Hs.prototype.getTicksLabels=function(){var e=[];var k=this.getTicks();for(var Z=0;Z<k.length;Z++){e.push(this.getLabel(k[Z]))}return e};Hs.prototype.isBlank=function(){return this._isBlank},Hs.prototype.setBlank=function(Z){this._isBlank=Z};AR(Hs);W7(Hs,{registerWhenExtend:true});var Sz=Hs.prototype;var PG=Hs.extend({type:"ordinal",init:function(e,Z){this._data=e;this._extent=Z||[0,e.length-1]},parse:function(Z){return typeof Z==="string"?Fx(this._data,Z):Math.round(Z)},contain:function(Z){Z=this.parse(Z);return Sz.contain.call(this,Z)&&this._data[Z]!=null},normalize:function(Z){return Sz.normalize.call(this,this.parse(Z))},scale:function(Z){return Math.round(Sz.scale.call(this,Z))},getTicks:function(){var i=[];var Z=this._extent;var e=Z[0];while(e<=Z[1]){i.push(e);e++}return i},getLabel:function(Z){return this._data[Z]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(e,Z){this.unionExtent(e.getDataExtent(Z,false))},niceTicks:ed,niceExtent:ed});PG.create=function(){return new PG()};var ZH=eA;function OJ(v,k,Z,i){var e={};var WH=v[1]-v[0];var XY=e.interval=ZU(WH/k,true);if(Z!=null&&XY<Z){XY=e.interval=Z}if(i!=null&&XY>i){XY=e.interval=i}var Z2=e.intervalPrecision=Xk(XY);var PI=e.niceTickExtent=[ZH(Math.ceil(v[0]/XY)*XY,Z2),ZH(Math.floor(v[1]/XY)*XY,Z2)];FP(PI,v);return e}function Xk(Z){return Be(Z)+2}function Io(i,e,Z){i[e]=Math.max(Math.min(i[e],Z[1]),Z[0])}function FP(e,Z){!isFinite(e[0])&&(e[0]=Z[0]);!isFinite(e[1])&&(e[1]=Z[1]);Io(e,0,Z);Io(e,1,Z);if(e[0]>e[1]){e[0]=e[1]}}function BZ(e,k,PI,WH){var Z=[];if(!e){return Z}var i=10000;if(k[0]<PI[0]){Z.push(k[0])}var v=PI[0];while(v<=PI[1]){Z.push(v);v=ZH(v+e,WH);if(v===Z[Z.length-1]){break}if(Z.length>i){return[]}}if(k[1]>(Z.length?Z[Z.length-1]:PI[1])){Z.push(k[1])}return Z}var dH=eA;var JG=Hs.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(i,e){var Z=this._extent;if(!isNaN(i)){Z[0]=parseFloat(i)}if(!isNaN(e)){Z[1]=parseFloat(e)}},unionExtent:function(e){var Z=this._extent;e[0]<Z[0]&&(Z[0]=e[0]);e[1]>Z[1]&&(Z[1]=e[1]);JG.prototype.setExtent.call(this,Z[0],Z[1])},getInterval:function(){return this._interval},setInterval:function(Z){this._interval=Z;this._niceExtent=this._extent.slice();this._intervalPrecision=Xk(Z)},getTicks:function(){return BZ(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getTicksLabels:function(){var e=[];var k=this.getTicks();for(var Z=0;Z<k.length;Z++){e.push(this.getLabel(k[Z]))}return e},getLabel:function(i,Z){if(i==null){return""}var e=Z&&Z.precision;if(e==null){e=Be(i)||0}else{if(e==="auto"){e=this._intervalPrecision}}i=dH(i,e,true);return Mi(i)},niceTicks:function(Z,v,k){Z=Z||5;var PI=this._extent;var e=PI[1]-PI[0];if(!isFinite(e)){return}if(e<0){e=-e;PI.reverse()}var i=OJ(PI,Z,v,k);this._intervalPrecision=i.intervalPrecision;this._interval=i.interval;this._niceExtent=i.niceTickExtent},niceExtent:function(Z){var i=this._extent;if(i[0]===i[1]){if(i[0]!==0){var k=i[0];if(!Z.fixMax){i[1]+=k/2;i[0]-=k/2}else{i[0]-=k/2}}else{i[1]=1}}var v=i[1]-i[0];if(!isFinite(v)){i[0]=0;i[1]=1}this.niceTicks(Z.splitNumber,Z.minInterval,Z.maxInterval);var e=this._interval;if(!Z.fixMin){i[0]=dH(Math.floor(i[0]/e)*e)}if(!Z.fixMax){i[1]=dH(Math.ceil(i[1]/e)*e)}}});JG.create=function(){return new JG()};var CU=JG.prototype;var JD=Math.ceil;var GI=Math.floor;var Vv=1000;var C9=Vv*60;var IP=C9*60;var Mh=IP*24;var Mz=function(v,k,Z,e){while(Z<e){var i=Z+e>>>1;if(v[i][1]<k){Z=i+1}else{e=i}}return Z};var C1=JG.extend({type:"time",getLabel:function(e){var Z=this._stepLvl;var i=new Date(e);return aV(Z[0],i,this.getSetting("useUTC"))},niceExtent:function(e){var k=this._extent;if(k[0]===k[1]){k[0]-=Mh;k[1]+=Mh}if(k[1]===-Infinity&&k[0]===Infinity){var Z=new Date();k[1]=+new Date(Z.getFullYear(),Z.getMonth(),Z.getDate());k[0]=k[1]-Mh}this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var i=this._interval;if(!e.fixMin){k[0]=eA(GI(k[0]/i)*i)}if(!e.fixMax){k[1]=eA(JD(k[1]/i)*i)}},niceTicks:function(eH,Z,k){eH=eH||10;var PI=this._extent;var WH=PI[1]-PI[0];var XY=WH/eH;if(Z!=null&&XY<Z){XY=Z}if(k!=null&&XY>k){XY=k}var i=Cc.length;var e=Mz(Cc,XY,0,i);var cc=Cc[Math.min(e,i-1)];var Z2=cc[1];if(cc[0]==="year"){var eI=WH/Z2;var eG=ZU(eI/eH,true);Z2*=eG}var eF=this.getSetting("useUTC")?0:(new Date(+PI[0]||+PI[1])).getTimezoneOffset()*60*1000;var v=[Math.round(JD((PI[0]-eF)/Z2)*Z2+eF),Math.round(GI((PI[1]-eF)/Z2)*Z2+eF)];FP(v,PI);this._stepLvl=cc;this._interval=Z2;this._niceExtent=v},parse:function(Z){return +AS(Z)}});Dc(["contain","normalize"],function(Z){C1.prototype[Z]=function(e){return CU[Z].call(this,this.parse(e))}});var Cc=[["hh:mm:ss",Vv],["hh:mm:ss",Vv*5],["hh:mm:ss",Vv*10],["hh:mm:ss",Vv*15],["hh:mm:ss",Vv*30],["hh:mm\nMM-dd",C9],["hh:mm\nMM-dd",C9*5],["hh:mm\nMM-dd",C9*10],["hh:mm\nMM-dd",C9*15],["hh:mm\nMM-dd",C9*30],["hh:mm\nMM-dd",IP],["hh:mm\nMM-dd",IP*2],["hh:mm\nMM-dd",IP*6],["hh:mm\nMM-dd",IP*12],["MM-dd\nyyyy",Mh],["MM-dd\nyyyy",Mh*2],["MM-dd\nyyyy",Mh*3],["MM-dd\nyyyy",Mh*4],["MM-dd\nyyyy",Mh*5],["MM-dd\nyyyy",Mh*6],["week",Mh*7],["MM-dd\nyyyy",Mh*10],["week",Mh*14],["week",Mh*21],["month",Mh*31],["week",Mh*42],["month",Mh*62],["week",Mh*42],["quarter",Mh*380/4],["month",Mh*31*4],["month",Mh*31*5],["half-year",Mh*380/2],["month",Mh*31*8],["month",Mh*31*10],["year",Mh*380]];C1.create=function(Z){return new C1({useUTC:Z.ecModel.get("useUTC")})};var Wz=Hs.prototype;var ST=JG.prototype;var Rp=Be;var Vh=eA;var Fc=Math.floor;var V1=Math.ceil;var R1=Math.pow;var Ty=Math.log;var MF=Hs.extend({type:"log",base:10,$constructor:function(){Hs.apply(this,arguments);this._originalScale=new JG()},getTicks:function(){var Z=this._originalScale;var i=this._extent;var e=Z.getExtent();return PK(ST.getTicks.call(this),function(v){var k=eA(R1(this.base,v));k=(v===i[0]&&Z.__fixMin)?ZD(k,e[0]):k;k=(v===i[1]&&Z.__fixMax)?ZD(k,e[1]):k;return k},this)},getLabel:ST.getLabel,scale:function(Z){Z=Wz.scale.call(this,Z);return R1(this.base,Z)},setExtent:function(i,e){var Z=this.base;i=Ty(i)/Ty(Z);e=Ty(e)/Ty(Z);ST.setExtent.call(this,i,e)},getExtent:function(){var k=this.base;var i=Wz.getExtent.call(this);i[0]=R1(k,i[0]);i[1]=R1(k,i[1]);var Z=this._originalScale;var e=Z.getExtent();Z.__fixMin&&(i[0]=ZD(i[0],e[0]));Z.__fixMax&&(i[1]=ZD(i[1],e[1]));return i},unionExtent:function(Z){this._originalScale.unionExtent(Z);var e=this.base;Z[0]=Ty(Z[0])/Ty(e);Z[1]=Ty(Z[1])/Ty(e);Wz.unionExtent.call(this,Z)},unionExtentFromData:function(e,Z){this.unionExtent(e.getDataExtent(Z,true,function(i){return i>0}))},niceTicks:function(Z){Z=Z||10;var k=this._extent;var e=k[1]-k[0];if(e===Infinity||e<=0){return}var i=Qp(e);var PI=Z/e*i;if(PI<=0.5){i*=10}while(!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0){i*=10}var v=[eA(V1(k[0]/i)*i),eA(Fc(k[1]/i)*i)];this._interval=i;this._niceExtent=v},niceExtent:function(e){ST.niceExtent.call(this,e);var Z=this._originalScale;Z.__fixMin=e.fixMin;Z.__fixMax=e.fixMax}});Dc(["contain","normalize"],function(Z){MF.prototype[Z]=function(e){e=Ty(e)/Ty(this.base);return Wz[Z].call(this,e)}});MF.create=function(){return new MF()};function ZD(e,Z){return Vh(e,Rp(Z))}function QJ(e,eF){var PI=e.type;var i=eF.getMin();var k=eF.getMax();var v=i!=null;var Z2=k!=null;var WH=e.getExtent();var cc;var Z;var XY;if(PI==="ordinal"){cc=(eF.get("data")||[]).length}else{Z=eF.get("boundaryGap");if(!aO(Z)){Z=[Z||0,Z||0]}if(typeof Z[0]==="boolean"){if(Vo){console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.')}Z=[0,0]}Z[0]=OC(Z[0],1);Z[1]=OC(Z[1],1);XY=(WH[1]-WH[0])||Math.abs(WH[0])}if(i==null){i=PI==="ordinal"?(cc?0:NaN):WH[0]-Z[0]*XY}if(k==null){k=PI==="ordinal"?(cc?cc-1:NaN):WH[1]+Z[1]*XY}if(i==="dataMin"){i=WH[0]}else{if(typeof i==="function"){i=i({min:WH[0],max:WH[1]})}}if(k==="dataMax"){k=WH[1]}else{if(typeof k==="function"){k=k({min:WH[0],max:WH[1]})}}(i==null||!isFinite(i))&&(i=NaN);(k==null||!isFinite(k))&&(k=NaN);e.setBlank(eh(i)||eh(k));if(eF.getNeedCrossZero()){if(i>0&&k>0&&!v){i=0}if(i<0&&k<0&&!Z2){k=0}}return[i,k]}function U0(e,XY){var i=QJ(e,XY);var k=XY.getMin()!=null;var WH=XY.getMax()!=null;var PI=XY.get("splitNumber");if(e.type==="log"){e.base=XY.get("logBase")}var v=e.type;e.setExtent(i[0],i[1]);e.niceExtent({splitNumber:PI,fixMin:k,fixMax:WH,minInterval:(v==="interval"||v==="time")?XY.get("minInterval"):null,maxInterval:(v==="interval"||v==="time")?XY.get("maxInterval"):null});var Z=XY.get("interval");if(Z!=null){e.setInterval&&e.setInterval(Z)}}function Xz(e,Z){Z=Z||e.get("type");if(Z){switch(Z){case"category":return new PG(e.getCategories(),[Infinity,-Infinity]);case"value":return new JG();default:return(Hs.getClass(Z)||JG).create(e)}}}function HO(k){var i=k.scale.getExtent();var Z=i[0];var e=i[1];return !((Z>0&&e>0)||(Z<0&&e<0))}function RX(eH,eI,eF,XY,WH){var Z;var cc=0;var eG=0;var v=(XY-WH)/180*Math.PI;var PI=1;if(eI.length>40){PI=Math.floor(eI.length/40)}for(var Z2=0;Z2<eH.length;Z2+=PI){var k=eH[Z2];var e=Hv(eI[Z2],eF,"center","top");e.x+=k*Math.cos(v);e.y+=k*Math.sin(v);e.width*=1.3;e.height*=1.3;if(!Z){Z=e.clone()}else{if(Z.intersect(e)){eG++;cc=Math.max(cc,eG)}else{Z.union(e);eG=0}}}if(cc===0&&PI>1){return PI}return(cc+1)*PI-1}function b(v,e){var i=v.scale;var k=i.getTicksLabels();var Z=i.getTicks();if(typeof e==="string"){e=(function(PI){return function(WH){return PI.replace("{value}",WH!=null?WH:"")}})(e);return PK(k,e)}else{if(typeof e==="function"){return PK(Z,function(PI,WH){return e(AP(v,PI),WH)},this)}else{return k}}}function AP(e,Z){return e.type==="category"?e.scale.getLabel(Z):Z}function Wj(Z){if(Q(Z)&&Z.value!=null){return Z.value}else{return Z+""}}var Lz={getFormattedLabels:function(){return b(this.axis,this.get("axisLabel.formatter"))},getCategories:function(){return this.get("type")==="category"&&PK(this.get("data"),Wj)},getMin:function(i){var e=this.option;var Z=(!i&&e.rangeStart!=null)?e.rangeStart:e.min;if(this.axis&&Z!=null&&Z!=="dataMin"&&typeof Z!=="function"&&!eh(Z)){Z=this.axis.scale.parse(Z)}return Z},getMax:function(e){var Z=this.option;var i=(!e&&Z.rangeEnd!=null)?Z.rangeEnd:Z.max;if(this.axis&&i!=null&&i!=="dataMax"&&typeof i!=="function"&&!eh(i)){i=this.axis.scale.parse(i)}return i},getNeedCrossZero:function(){var Z=this.option;return(Z.rangeStart!=null||Z.rangeEnd!=null)?false:!Z.scale},getCoordSysModel:ed,setRange:function(e,Z){this.option.rangeStart=e;this.option.rangeEnd=Z},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};var Oc=B6({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(PI,Z){var v=Z.cx;var k=Z.cy;var e=Z.width/2;var i=Z.height/2;PI.moveTo(v,k-i);PI.lineTo(v+e,k+i);PI.lineTo(v-e,k+i);PI.closePath()}});var D6=B6({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(PI,Z){var v=Z.cx;var k=Z.cy;var e=Z.width/2;var i=Z.height/2;PI.moveTo(v,k-i);PI.lineTo(v+e,k);PI.lineTo(v,k+i);PI.lineTo(v-e,k);PI.closePath()}});var Sg=B6({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(cc,XY){var eG=XY.x;var eH=XY.y;var i=XY.width/5*3;var WH=Math.max(i,XY.height);var Z=i/2;var Z2=Z*Z/(WH-Z);var v=eH-WH+Z+Z2;var eF=Math.asin(Z2/Z);var k=Math.cos(eF)*Z;var eI=Math.sin(eF);var e=Math.cos(eF);var PI=Z*0.6;var eJ=Z*0.7;cc.moveTo(eG-k,v+Z2);cc.arc(eG,v,Z,Math.PI-eF,Math.PI*2+eF);cc.bezierCurveTo(eG+k-eI*PI,v+Z2+e*PI,eG,eH-eJ,eG,eH);cc.bezierCurveTo(eG,eH-eJ,eG-k+eI*PI,v+Z2+e*PI,eG-k,v+Z2);cc.closePath()}});var Jq=B6({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(PI,WH){var Z=WH.height;var i=WH.width;var k=WH.x;var v=WH.y;var e=i/3*2;PI.moveTo(k,v);PI.lineTo(k+e,v+Z);PI.lineTo(k,v+Z/4*3);PI.lineTo(k-e,v+Z);PI.lineTo(k,v);PI.closePath()}});var Jm={line:S7,rect:BI,roundRect:BI,square:BI,circle:aA,diamond:D6,pin:Sg,arrow:Jq,triangle:Oc};var cz={line:function(e,i,k,Z,v){v.x1=e;v.y1=i+Z/2;v.x2=e+k;v.y2=i+Z/2},rect:function(e,i,k,Z,v){v.x=e;v.y=i;v.width=k;v.height=Z},roundRect:function(e,i,k,Z,v){v.x=e;v.y=i;v.width=k;v.height=Z;v.r=Math.min(k,Z)/4},square:function(i,k,v,Z,PI){var e=Math.min(v,Z);PI.x=i;PI.y=k;PI.width=e;PI.height=e},circle:function(e,i,k,Z,v){v.cx=e+k/2;v.cy=i+Z/2;v.r=Math.min(k,Z)/2},diamond:function(e,i,k,Z,v){v.cx=e+k/2;v.cy=i+Z/2;v.width=k;v.height=Z},pin:function(e,i,k,Z,v){v.x=e+k/2;v.y=i+Z/2;v.width=k;v.height=Z},arrow:function(e,i,k,Z,v){v.x=e+k/2;v.y=i+Z/2;v.width=k;v.height=Z},triangle:function(e,i,k,Z,v){v.cx=e+k/2;v.cy=i+Z/2;v.width=k;v.height=Z}};var Gl={};Dc(Jm,function(e,Z){Gl[Z]=new e()});var AK=B6({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var Z=this.style;var e=this.shape;if(e.symbolType==="pin"&&Z.textPosition==="inside"){Z.textPosition=["50%","40%"];Z.textAlign="center";Z.textVerticalAlign="middle"}},buildPath:function(k,v,i){var Z=v.symbolType;var e=Gl[Z];if(v.symbolType!=="none"){if(!e){Z="rect";e=Gl[Z]}cz[Z](v.x,v.y,v.width,v.height,e.shape);e.buildPath(k,e.shape,i)}}});function HI(i,Z){if(this.type!=="image"){var e=this.style;var k=this.shape;if(k&&k.symbolType==="line"){e.stroke=i}else{if(this.__isEmptyBrush){e.stroke=i;e.fill=Z||"#fff"}else{e.fill&&(e.fill=i);e.stroke&&(e.stroke=i)}}this.dirty(false)}}function Fq(PI,XY,Z2,e,k,i,WH){var v=PI.indexOf("empty")===0;if(v){PI=PI.substr(5,1).toLowerCase()+PI.substr(6)}var Z;if(PI.indexOf("image://")===0){Z=AZ(PI.slice(8),new FC(XY,Z2,e,k),WH?"center":"cover")}else{if(PI.indexOf("path://")===0){Z=IW(PI.slice(7),{},new FC(XY,Z2,e,k),WH?"center":"cover")}else{Z=new AK({shape:{symbolType:PI,x:XY,y:Z2,width:e,height:k}})}}Z.__isEmptyBrush=v;Z.setColor=HI;Z.setColor(i);return Z}function Eg(Z){var e=Z.get("data");return Um(e,Z,Z.ecModel)}function It(k,Z){var e=Z;if(!(Z instanceof dc)){e=new dc(Z);cq(e,Lz)}var i=Xz(e);i.setExtent(k[0],k[1]);U0(i,e);return i}function DX(Z){cq(Z,Lz)}var Ut=(Object.freeze||Object)({createList:Eg,createScale:It,mixinAxisModelCommonMethods:DX,completeDimensions:B,createSymbol:Fq});var UM=WL;function D8(i,v){var Z=i[1]-i[0];var k=v;var e=Z/k/2;i[0]+=e;i[1]-=e}var Vn=[0,1];var T1=function(e,i,Z){this.dim=e;this.scale=i;this._extent=Z||[0,0];this.inverse=false;this.onBand=false;this._labelInterval};T1.prototype={constructor:T1,contain:function(i){var e=this._extent;var Z=Math.min(e[0],e[1]);var k=Math.max(e[0],e[1]);return i>=Z&&i<=k},containData:function(Z){return this.contain(this.dataToCoord(Z))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(Z){return a6(Z||this.scale.getExtent(),this._extent)},setExtent:function(i,e){var Z=this._extent;Z[0]=i;Z[1]=e},dataToCoord:function(k,Z){var i=this._extent;var e=this.scale;k=e.normalize(k);if(this.onBand&&e.type==="ordinal"){i=i.slice();D8(i,e.count())}return UM(k,Vn,i,Z)},coordToData:function(e,Z){var v=this._extent;var k=this.scale;if(this.onBand&&k.type==="ordinal"){v=v.slice();D8(v,k.count())}var i=UM(e,v,Vn,Z);return this.scale.scale(i)},pointToData:function(Z,e){},getTicksCoords:function(v){if(this.onBand&&!v){var k=this.getBands();var e=[];for(var Z=0;Z<k.length;Z++){e.push(k[Z][0])}if(k[Z-1]){e.push(k[Z-1][1])}return e}else{return PK(this.scale.getTicks(),this.dataToCoord,this)}},getLabelsCoords:function(){return PK(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){var v=this.getExtent();var k=[];var PI=this.scale.count();var XY=v[0];var WH=v[1];var e=WH-XY;for(var Z=0;Z<PI;Z++){k.push([e*Z/PI+XY,e*(Z+1)/PI+XY])}return k},getBandWidth:function(){var e=this._extent;var k=this.scale.getExtent();var i=k[1]-k[0]+(this.onBand?1:0);i===0&&(i=1);var Z=Math.abs(e[1]-e[0]);return Math.abs(Z)/i},isHorizontal:null,getRotate:null,getLabelInterval:function(){var Z=this._labelInterval;if(!Z){var i=this.model;var e=i.getModel("axisLabel");Z=e.get("interval");if(this.type==="category"&&(Z==null||Z==="auto")){Z=RX(PK(this.scale.getTicks(),this.dataToCoord,this),i.getFormattedLabels(),e.getFont(),this.getRotate?this.getRotate():(this.isHorizontal&&!this.isHorizontal())?90:0,e.get("rotate"))}this._labelInterval=Z}return Z}};var Si=1e-08;function W4(e,Z){return Math.abs(e-Z)<Si}function P5(k,XY,Z2){var v=0;var e=k[0];if(!e){return false}for(var PI=1;PI<k.length;PI++){var WH=k[PI];v+=Wy(e[0],e[1],WH[0],WH[1],XY,Z2);e=WH}var Z=k[0];if(!W4(e[0],Z[0])||!W4(e[1],Z[1])){v+=Wy(e[0],e[1],Z[0],Z[1],XY,Z2)}return v!==0}function Zz(e,i,k){this.name=e;this.geometries=i;if(!k){var Z=this.getBoundingRect();k=[Z.x+Z.width/2,Z.y+Z.height/2]}else{k=[k[0],k[1]]}this.center=k}Zz.prototype={constructor:Zz,properties:null,getBoundingRect:function(){var k=this._rect;if(k){return k}var v=Number.MAX_VALUE;var cc=[v,v];var e=[-v,-v];var Z2=[];var XY=[];var WH=this.geometries;for(var PI=0;PI<WH.length;PI++){if(WH[PI].type!=="polygon"){continue}var Z=WH[PI].exterior;AC(Z,Z2,XY);db(cc,cc,Z2);PV(e,e,XY)}if(PI===0){cc[0]=cc[1]=e[0]=e[1]=0}return(this._rect=new FC(cc[0],cc[1],e[0]-cc[0],e[1]-cc[1]))},contain:function(WH){var Z=this.getBoundingRect();var XY=this.geometries;if(!Z.contain(WH[0],WH[1])){return false}loopGeo:for(var v=0,PI=XY.length;v<PI;v++){if(XY[v].type!=="polygon"){continue}var Z2=XY[v].exterior;var cc=XY[v].interiors;if(P5(Z2,WH[0],WH[1])){for(var e=0;e<(cc?cc.length:0);e++){if(P5(cc[e])){continue loopGeo}}return true}}return false},transformTo:function(eG,eH,cc,e){var k=this.getBoundingRect();var v=k.width/k.height;if(!cc){cc=v*e}else{if(!e){e=cc/v}}var eF=new FC(eG,eH,cc,e);var XY=k.calculateTransform(eF);var Z2=this.geometries;for(var WH=0;WH<Z2.length;WH++){if(Z2[WH].type!=="polygon"){continue}var eI=Z2[WH].exterior;var eJ=Z2[WH].interiors;for(var Z=0;Z<eI.length;Z++){HV(eI[Z],eI[Z],XY)}for(var PI=0;PI<(eJ?eJ.length:0);PI++){for(var Z=0;Z<eJ[PI].length;Z++){HV(eJ[PI][Z],eJ[PI][Z],XY)}}}k=this._rect;k.copy(eF);this.center=[k.x+k.width/2,k.y+k.height/2]}};function aJ(i){if(!i.UTF8Encoding){return i}var cc=i.UTF8Scale;if(cc==null){cc=1024}var e=i.features;for(var eF=0;eF<e.length;eF++){var eG=e[eF];var v=eG.geometry;var Z=v.coordinates;var XY=v.encodeOffsets;for(var Z2=0;Z2<Z.length;Z2++){var PI=Z[Z2];if(v.type==="Polygon"){Z[Z2]=TS(PI,XY[Z2],cc)}else{if(v.type==="MultiPolygon"){for(var k=0;k<PI.length;k++){var WH=PI[k];PI[k]=TS(WH,XY[Z2][k],cc)}}}}}i.UTF8Encoding=false;return i}function TS(e,k,XY){var Z=[];var cc=k[0];var Z2=k[1];for(var v=0;v<e.length;v+=2){var PI=e.charCodeAt(v)-64;var WH=e.charCodeAt(v+1)-64;PI=(PI>>1)^(-(PI&1));WH=(WH>>1)^(-(WH&1));PI+=cc;WH+=Z2;cc=PI;Z2=WH;Z.push([PI/XY,WH/XY])}return Z}var FG=function(Z){aJ(Z);return PK(Zs(Z.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(PI){var i=PI.properties;var WH=PI.geometry;var v=WH.coordinates;var e=[];if(WH.type==="Polygon"){e.push({type:"polygon",exterior:v[0],interiors:v.slice(1)})}if(WH.type==="MultiPolygon"){Dc(v,function(XY){if(XY[0]){e.push({type:"polygon",exterior:XY[0],interiors:XY.slice(1)})}})}var k=new Zz(i.name,e,i.cp);k.properties=i;return k})};var Rh={};Dc(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(Z){Rh[Z]=bA[Z]});RY.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(Z,e){if(Vo){var i=Z.coordinateSystem;if(i!=="polar"&&i!=="cartesian2d"){throw new Error("Line not support coordinateSystem besides cartesian and polar")}}return Um(Z.data,this,e)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,hoverAnimation:true,clipOverflow:true,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:false,smooth:false,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:true,showAllSymbol:false,connectNulls:false,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:Infinity}});function To(v){var Z;var k=ev(v,"label");if(k.length){Z=k[0]}else{var i=v.dimensions.slice();var e;while(i.length&&(Z=i.pop(),e=v.getDimensionInfo(Z).type,e==="ordinal"||e==="time")){}}return Z}function Ze(i,Z){var e=i.getItemVisual(Z,"symbolSize");return e instanceof Array?e.slice():[+e,+e]}function EV(Z){return[Z[0]/2,Z[1]/2]}function RS(i,Z,e){TD.call(this);this.updateData(i,Z,e)}var KU=RS.prototype;function dS(Z,e){this.parent.drift(Z,e)}KU._createSymbol=function(Z,PI,i,k){this.removeAll();var v=PI.getItemVisual(i,"color");var e=Fq(Z,-1,-1,2,2,v);e.attr({z2:100,culling:true,scale:EV(k)});e.drift=dS;this._symbolType=Z;this.add(e)};KU.stopSymbolAnimation=function(Z){this.childAt(0).stopAnimation(Z)};KU.getSymbolPath=function(){return this.childAt(0)};KU.getScale=function(){return this.childAt(0).scale};KU.highlight=function(){this.childAt(0).trigger("emphasis")};KU.downplay=function(){this.childAt(0).trigger("normal")};KU.setZ=function(i,e){var Z=this.childAt(0);Z.zlevel=i;Z.z=e};KU.setDraggable=function(Z){var e=this.childAt(0);e.draggable=Z;e.cursor=Z?"move":"pointer"};KU.updateData=function(i,k,WH){this.silent=false;var Z2=i.getItemVisual(k,"symbol")||"circle";var cc=i.hostModel;var Z=Ze(i,k);var e=Z2!==this._symbolType;if(e){this._createSymbol(Z2,i,k,Z)}else{var v=this.childAt(0);v.silent=false;Pr(v,{scale:EV(Z)},cc,k)}this._updateCommon(i,k,Z,WH);if(e){var v=this.childAt(0);var PI=WH&&WH.fadeIn;var XY={scale:v.scale.slice()};PI&&(XY.style={opacity:v.style.opacity});v.scale=[0,0];PI&&(v.style.opacity=0);b0(v,XY,cc,k)}this._seriesModel=cc};var ca=["itemStyle","normal"];var Gn=["itemStyle","emphasis"];var U9=["label","normal"];var Oh=["label","emphasis"];KU._updateCommon=function(eP,eR,eN,eJ){var cc=this.childAt(0);var XY=eP.hostModel;var k=eP.getItemVisual(eR,"color");if(cc.type!=="image"){cc.useStyle({strokeNoScale:true})}var eL=eJ&&eJ.itemStyle;var eF=eJ&&eJ.hoverItemStyle;var eM=eJ&&eJ.symbolRotate;var Z2=eJ&&eJ.symbolOffset;var e=eJ&&eJ.labelModel;var i=eJ&&eJ.hoverLabelModel;var Z=eJ&&eJ.hoverAnimation;var eO=eJ&&eJ.cursorStyle;if(!eJ||eP.hasItemOption){var eQ=(eJ&&eJ.itemModel)?eJ.itemModel:eP.getItemModel(eR);eL=eQ.getModel(ca).getItemStyle(["color"]);eF=eQ.getModel(Gn).getItemStyle();eM=eQ.getShallow("symbolRotate");Z2=eQ.getShallow("symbolOffset");e=eQ.getModel(U9);i=eQ.getModel(Oh);Z=eQ.getShallow("hoverAnimation");eO=eQ.getShallow("cursor")}else{eF=V8({},eF)}var eH=cc.style;cc.attr("rotation",(eM||0)*Math.PI/180||0);if(Z2){cc.attr("position",[OC(Z2[0],eN[0]),OC(Z2[1],eN[1])])}eO&&cc.attr("cursor",eO);cc.setColor(k,eJ&&eJ.symbolInnerColor);cc.setStyle(eL);var v=eP.getItemVisual(eR,"opacity");if(v!=null){eH.opacity=v}var WH=eJ&&eJ.useNameLabel;var eG=!WH&&To(eP);if(WH||eG!=null){Ha(eH,eF,e,i,{labelFetcher:XY,labelDataIndex:eR,defaultText:WH?eP.getName(eR):eP.get(eG,eR),isRectText:true,autoColor:k})}cc.off("mouseover").off("mouseout").off("emphasis").off("normal");cc.hoverStyle=eF;Ne(cc);var eK=EV(eN);if(Z&&XY.isAnimationEnabled()){var eI=function(){var eS=eK[1]/eK[0];this.animateTo({scale:[Math.max(eK[0]*1.1,eK[0]+3),Math.max(eK[1]*1.1,eK[1]+3*eS)]},400,"elasticOut")};var PI=function(){this.animateTo({scale:eK},400,"elasticOut")};cc.on("mouseover",eI).on("mouseout",PI).on("emphasis",eI).on("normal",PI)}};KU.fadeOut=function(Z,e){var i=this.childAt(0);this.silent=i.silent=true;!(e&&e.keepLabel)&&(i.style.text=null);Pr(i,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,Z)};JO(RS,TD);function eb(Z){this.group=new TD();this._symbolCtor=Z||RS}var TW=eb.prototype;function Se(k,i,e){var Z=k.getItemLayout(i);return Z&&!isNaN(Z[0])&&!isNaN(Z[1])&&!(e&&e(i))&&k.getItemVisual(i,"symbol")!=="none"}TW.updateData=function(WH,i){var Z=this.group;var e=WH.hostModel;var v=this._data;var k=this._symbolCtor;var PI={itemStyle:e.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:e.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),labelModel:e.getModel("label.normal"),hoverLabelModel:e.getModel("label.emphasis"),cursorStyle:e.get("cursor")};WH.diff(v).add(function(Z2){var cc=WH.getItemLayout(Z2);if(Se(WH,Z2,i)){var XY=new k(WH,Z2,PI);XY.attr("position",cc);WH.setItemGraphicEl(Z2,XY);Z.add(XY)}}).update(function(Z2,eF){var cc=v.getItemGraphicEl(eF);var XY=WH.getItemLayout(Z2);if(!Se(WH,Z2,i)){Z.remove(cc);return}if(!cc){cc=new k(WH,Z2);cc.attr("position",XY)}else{cc.updateData(WH,Z2,PI);Pr(cc,{position:XY},e)}Z.add(cc);WH.setItemGraphicEl(Z2,cc)}).remove(function(Z2){var XY=v.getItemGraphicEl(Z2);XY&&XY.fadeOut(function(){Z.remove(XY)})}).execute();this._data=WH};TW.updateLayout=function(){var Z=this._data;if(Z){Z.eachItemGraphicEl(function(e,k){var i=Z.getItemLayout(k);e.attr("position",i)})}};TW.remove=function(e){var Z=this.group;var i=this._data;if(i){if(e){i.eachItemGraphicEl(function(k){k.fadeOut(function(){Z.remove(k)})})}else{Z.removeAll()}}};function O3(Z){return Z>=0?1:-1}function NF(i,v,PI){var eG=i.getBaseAxis();var Z=i.getOtherAxis(eG);var k=eG.onZero?0:Z.scale.getExtent()[0];var XY=Z.dim;var e=XY==="x"||XY==="radius"?1:0;var cc;var WH=v.stackedOn;var Z2=v.get(XY,PI);while(WH&&O3(WH.get(XY,PI))===O3(Z2)){cc=WH;break}var eF=[];eF[e]=v.get(eG.dim,PI);eF[1-e]=cc?cc.get(XY,PI,true):k;return i.dataToPoint(eF)}function RM(e,Z){var i=[];Z.diff(e).add(function(k){i.push({cmd:"+",idx:k})}).update(function(k,v){i.push({cmd:"=",idx:v,idx1:k})}).remove(function(k){i.push({cmd:"-",idx:k})}).execute();return i}var Xl=function(cc,eN,PI,eI,eQ,eP){var XY=RM(cc,eN);var eG=[];var eO=[];var k=[];var WH=[];var eR=[];var eF=[];var eU=[];var eV=eP.dimensions;for(var Z2=0;Z2<XY.length;Z2++){var e=XY[Z2];var v=true;switch(e.cmd){case"=":var Z=cc.getItemLayout(e.idx);var eM=eN.getItemLayout(e.idx1);if(isNaN(Z[0])||isNaN(Z[1])){Z=eM.slice()}eG.push(Z);eO.push(eM);k.push(PI[e.idx]);WH.push(eI[e.idx1]);eU.push(eN.getRawIndex(e.idx1));break;case"+":var eJ=e.idx;eG.push(eQ.dataToPoint([eN.get(eV[0],eJ,true),eN.get(eV[1],eJ,true)]));eO.push(eN.getItemLayout(eJ).slice());k.push(NF(eQ,eN,eJ));WH.push(eI[eJ]);eU.push(eN.getRawIndex(eJ));break;case"-":var eJ=e.idx;var eL=cc.getRawIndex(eJ);if(eL!==eJ){eG.push(cc.getItemLayout(eJ));eO.push(eP.dataToPoint([cc.get(eV[0],eJ,true),cc.get(eV[1],eJ,true)]));k.push(PI[eJ]);WH.push(NF(eP,cc,eJ));eU.push(eL)}else{v=false}}if(v){eR.push(e);eF.push(eF.length)}}eF.sort(function(eX,i){return eU[eX]-eU[i]});var eT=[];var eS=[];var eH=[];var eK=[];var eW=[];for(var Z2=0;Z2<eF.length;Z2++){var eJ=eF[Z2];eT[Z2]=eG[eJ];eS[Z2]=eO[eJ];eH[Z2]=k[eJ];eK[Z2]=WH[eJ];eW[Z2]=eR[eJ]}return{current:eT,next:eS,stackedOnCurrent:eH,stackedOnNext:eK,status:eW}};var MO=db;var BQ=PV;var Ng=G9;var Eq=He;var OK=[];var t=[];var s=[];function EA(Z){return isNaN(Z[0])||isNaN(Z[1])}function L(XY,eG,eQ,eI,WH,PI,eH,eM,eK,eL,eO){var eJ=0;var eP=eQ;for(var v=0;v<eI;v++){var Z=eG[eP];if(eP>=WH||eP<0){break}if(EA(Z)){if(eO){eP+=PI;continue}break}if(eP===eQ){XY[PI>0?"moveTo":"lineTo"](Z[0],Z[1]);Eq(t,Z)}else{if(eK>0){var eR=eP+PI;var Z2=eG[eR];if(eO){while(Z2&&EA(eG[eR])){eR+=PI;Z2=eG[eR]}}var e=0.5;var eN=eG[eJ];var Z2=eG[eR];if(!Z2||EA(Z2)){Eq(s,Z)}else{if(EA(Z2)&&!eO){Z2=Z}M3(OK,Z2,eN);var cc;var i;if(eL==="x"||eL==="y"){var eF=eL==="x"?0:1;cc=Math.abs(Z[eF]-eN[eF]);i=Math.abs(Z[eF]-Z2[eF])}else{cc=Uv(Z,eN);i=Uv(Z,Z2)}e=i/(i+cc);Ng(s,Z,OK,-eK*(1-e))}MO(t,t,eM);BQ(t,t,eH);MO(s,s,eM);BQ(s,s,eH);XY.bezierCurveTo(t[0],t[1],s[0],s[1],Z[0],Z[1]);Ng(t,Z,OK,eK*e)}else{XY.lineTo(Z[0],Z[1])}}eJ=eP;eP+=PI}return v}function BH(v,WH){var e=[Infinity,Infinity];var k=[-Infinity,-Infinity];if(WH){for(var Z=0;Z<v.length;Z++){var PI=v[Z];if(PI[0]<e[0]){e[0]=PI[0]}if(PI[1]<e[1]){e[1]=PI[1]}if(PI[0]>k[0]){k[0]=PI[0]}if(PI[1]>k[1]){k[1]=PI[1]}}}return{min:WH?e:k,max:WH?k:e}}var WD=Lw.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:true,smoothMonotone:null,connectNulls:false},style:{fill:null,stroke:"#000"},brush:S2(Lw.prototype.brush),buildPath:function(PI,WH){var k=WH.points;var Z=0;var v=k.length;var e=BH(k,WH.smoothConstraint);if(WH.connectNulls){for(;v>0;v--){if(!EA(k[v-1])){break}}for(;Z<v;Z++){if(!EA(k[Z])){break}}}while(Z<v){Z+=L(PI,k,Z,v,v,1,e.min,e.max,WH.smooth,WH.smoothMonotone,WH.connectNulls)+1}}});var Vc=Lw.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:true,smoothMonotone:null,connectNulls:false},brush:S2(Lw.prototype.brush),buildPath:function(PI,Z){var cc=Z.points;var Z2=Z.stackedOnPoints;var XY=0;var WH=cc.length;var e=Z.smoothMonotone;var eF=BH(cc,Z.smoothConstraint);var eG=BH(Z2,Z.smoothConstraint);if(Z.connectNulls){for(;WH>0;WH--){if(!EA(cc[WH-1])){break}}for(;XY<WH;XY++){if(!EA(cc[XY])){break}}}while(XY<WH){var v=L(PI,cc,XY,WH,WH,1,eF.min,eF.max,Z.smooth,e,Z.connectNulls);L(PI,Z2,XY+v-1,v,WH,-1,eG.min,eG.max,Z.stackedOnSmooth,e,Z.connectNulls);XY+=v+1;PI.closePath()}}});function cG(k,e){if(k.length!==e.length){return}for(var Z=0;Z<k.length;Z++){var v=k[Z];var PI=e[Z];if(v[0]!==PI[0]||v[1]!==PI[1]){return}}return true}function Md(Z){return typeof(Z)==="number"?Z:(Z?0.3:0)}function Ts(k){var i=k.getGlobalExtent();if(k.onBand){var e=k.getBandWidth()/2-1;var Z=i[1]>i[0]?1:-1;i[0]+=Z*e;i[1]-=Z*e}return i}function Th(Z){return Z>=0?1:-1}function M9(i,v){var XY=i.getBaseAxis();var Z=i.getOtherAxis(XY);var k=0;if(!XY.onZero){var PI=Z.scale.getExtent();if(PI[0]>0){k=PI[0]}else{if(PI[1]<0){k=PI[1]}}}var WH=Z.dim;var e=WH==="x"||WH==="radius"?1:0;return v.mapArray([WH],function(eG,eF){var Z2;var cc=v.stackedOn;while(cc&&Th(cc.get(WH,eF))===Th(eG)){Z2=cc;break}var eH=[];eH[e]=v.get(XY.dim,eF);eH[1-e]=Z2?Z2.get(WH,eF,true):k;return i.dataToPoint(eH)},true)}function Lc(PI,v,eH){var Z=Ts(PI.getAxis("x"));var i=Ts(PI.getAxis("y"));var k=PI.getBaseAxis().isHorizontal();var cc=Math.min(Z[0],Z[1]);var eF=Math.min(i[0],i[1]);var Z2=Math.max(Z[0],Z[1])-cc;var XY=Math.max(i[0],i[1])-eF;var WH=eH.get("lineStyle.normal.width")||2;var e=eH.get("clipOverflow")?WH/2:Math.max(Z2,XY);if(k){eF-=e;XY+=e*2}else{cc-=e;Z2+=e*2}var eG=new BI({shape:{x:cc,y:eF,width:Z2,height:XY}});if(v){eG.shape[k?"width":"height"]=0;b0(eG,{shape:{width:Z2,height:XY}},eH)}return eG}function ex(Z,PI,Z2){var e=Z.getAngleAxis();var k=Z.getRadiusAxis();var v=k.getExtent();var WH=e.getExtent();var i=Math.PI/180;var XY=new KS({shape:{cx:Z.cx,cy:Z.cy,r0:v[0],r:v[1],startAngle:-WH[0]*i,endAngle:-WH[1]*i,clockwise:e.inverse}});if(PI){XY.shape.endAngle=-WH[0]*i;b0(XY,{shape:{endAngle:-WH[1]*i}},Z2)}return XY}function Wl(i,e,Z){return i.type==="polar"?ex(i,e,Z):Lc(i,e,Z)}function W1(v,k,cc){var eF=k.getBaseAxis();var WH=eF.dim==="x"||eF.dim==="radius"?0:1;var Z=[];for(var XY=0;XY<v.length-1;XY++){var Z2=v[XY+1];var e=v[XY];Z.push(e);var eH=[];switch(cc){case"end":eH[WH]=Z2[WH];eH[1-WH]=e[1-WH];Z.push(eH);break;case"middle":var PI=(e[WH]+Z2[WH])/2;var eG=[];eH[WH]=eG[WH]=PI;eH[1-WH]=e[1-WH];eG[1-WH]=Z2[1-WH];Z.push(eH);Z.push(eG);break;default:eH[WH]=e[WH];eH[1-WH]=Z2[1-WH];Z.push(eH)}}v[XY]&&Z.push(v[XY]);return Z}function IB(WH,v){var k=WH.getVisual("visualMeta");if(!k||!k.length||!WH.count()){return}var eK;for(var eF=k.length-1;eF>=0;eF--){if(k[eF].dimension<2){eK=k[eF];break}}if(!eK||v.type!=="cartesian2d"){if(Vo){console.warn("Visual map on line style only support x or y dimension.")}return}var Z2=eK.dimension;var XY=WH.dimensions[Z2];var PI=v.getAxis(XY);var eJ=PK(eK.stops,function(i){return{coord:PI.toGlobalCoord(PI.dataToCoord(i.value)),color:i.color}});var eI=eJ.length;var Z=eK.outerColors.slice();if(eI&&eJ[0].coord>eJ[eI-1].coord){eJ.reverse();Z.reverse()}var e=10;var cc=eJ[0].coord-e;var eH=eJ[eI-1].coord+e;var eL=eH-cc;if(eL<0.001){return"transparent"}Dc(eJ,function(i){i.offset=(i.coord-cc)/eL});eJ.push({offset:eI?eJ[eI-1].offset:0.5,color:Z[1]||"transparent"});eJ.unshift({offset:eI?eJ[0].offset:0.5,color:Z[0]||"transparent"});var eG=new bb(0,0,0,0,eJ,true);eG[XY]=cc;eG[XY+"2"]=eH;return eG}L2.extend({type:"line",init:function(){var Z=new TD();var e=new eb();this.group.add(e.group);this._symbolDraw=e;this._lineGroup=Z},render:function(Z2,i,eI){var eL=Z2.coordinateSystem;var eN=this.group;var eR=Z2.getData();var eQ=Z2.getModel("lineStyle.normal");var eP=Z2.getModel("areaStyle.normal");var eJ=eR.mapArray(eR.getItemLayout,true);var v=eL.type==="polar";var PI=this._coordSys;var k=this._symbolDraw;var eK=this._polyline;var WH=this._polygon;var eG=this._lineGroup;var cc=Z2.get("animation");var eU=!eP.isEmpty();var XY=M9(eL,eR);var eV=Z2.get("showSymbol");var eF=eV&&!v&&!Z2.get("showAllSymbol")&&this._getSymbolIgnoreFunc(eR,eL);var e=this._data;e&&e.eachItemGraphicEl(function(eW,eX){if(eW.__temp){eN.remove(eW);e.setItemGraphicEl(eX,null)}});if(!eV){k.remove()}eN.add(eG);var Z=!v&&Z2.get("step");if(!(eK&&PI.type===eL.type&&Z===this._step)){eV&&k.updateData(eR,eF);if(Z){eJ=W1(eJ,eL,Z);XY=W1(XY,eL,Z)}eK=this._newPolyline(eJ,eL,cc);if(eU){WH=this._newPolygon(eJ,XY,eL,cc)}eG.setClipPath(Wl(eL,true,Z2))}else{if(eU&&!WH){WH=this._newPolygon(eJ,XY,eL,cc)}else{if(WH&&!eU){eG.remove(WH);WH=this._polygon=null}}eG.setClipPath(Wl(eL,false,Z2));eV&&k.updateData(eR,eF);eR.eachItemGraphicEl(function(eW){eW.stopAnimation(true)});if(!cG(this._stackedOnPoints,XY)||!cG(this._points,eJ)){if(cc){this._updateAnimation(eR,XY,eL,eI,Z)}else{if(Z){eJ=W1(eJ,eL,Z);XY=W1(XY,eL,Z)}eK.setShape({points:eJ});WH&&WH.setShape({points:eJ,stackedOnPoints:XY})}}}var eO=IB(eR,eL)||eR.getVisual("color");eK.useStyle(Id(eQ.getLineStyle(),{fill:"none",stroke:eO,lineJoin:"bevel"}));var eT=Z2.get("smooth");eT=Md(Z2.get("smooth"));eK.setShape({smooth:eT,smoothMonotone:Z2.get("smoothMonotone"),connectNulls:Z2.get("connectNulls")});if(WH){var eM=eR.stackedOn;var eS=0;WH.useStyle(Id(eP.getAreaStyle(),{fill:eO,opacity:0.7,lineJoin:"bevel"}));if(eM){var eH=eM.hostModel;eS=Md(eH.get("smooth"))}WH.setShape({smooth:eT,stackedOnSmooth:eS,smoothMonotone:Z2.get("smoothMonotone"),connectNulls:Z2.get("connectNulls")})}this._data=eR;this._coordSys=eL;this._stackedOnPoints=XY;this._points=eJ;this._step=Z},dispose:function(){},highlight:function(XY,e,WH,i){var k=XY.getData();var PI=KQ(k,i);if(!(PI instanceof Array)&&PI!=null&&PI>=0){var v=k.getItemGraphicEl(PI);if(!v){var Z=k.getItemLayout(PI);if(!Z){return}v=new RS(k,PI);v.position=Z;v.setZ(XY.get("zlevel"),XY.get("z"));v.ignore=isNaN(Z[0])||isNaN(Z[1]);v.__temp=true;k.setItemGraphicEl(PI,v);v.stopSymbolAnimation(true);this.group.add(v)}v.highlight()}else{L2.prototype.highlight.call(this,XY,e,WH,i)}},downplay:function(Z,i,PI,v){var WH=Z.getData();var k=KQ(WH,v);if(k!=null&&k>=0){var e=WH.getItemGraphicEl(k);if(e){if(e.__temp){WH.setItemGraphicEl(k,null);this.group.remove(e)}else{e.downplay()}}}else{L2.prototype.downplay.call(this,Z,i,PI,v)}},_newPolyline:function(Z){var e=this._polyline;if(e){this._lineGroup.remove(e)}e=new WD({shape:{points:Z},silent:true,z2:10});this._lineGroup.add(e);this._polyline=e;return e},_newPolygon:function(Z,i){var e=this._polygon;if(e){this._lineGroup.remove(e)}e=new Vc({shape:{points:Z,stackedOnPoints:i},silent:true});this._lineGroup.add(e);this._polygon=e;return e},_getSymbolIgnoreFunc:function(i,e){var Z=e.getAxesByScale("ordinal")[0];if(Z&&Z.isLabelIgnored){return b3(Z.isLabelIgnored,Z)}},_updateAnimation:function(eL,PI,eK,eF,Z){var eH=this._polyline;var WH=this._polygon;var XY=eL.hostModel;var k=Xl(this._data,eL,this._stackedOnPoints,PI,this._coordSys,eK);var Z2=k.current;var eM=k.stackedOnCurrent;var eJ=k.next;var cc=k.stackedOnNext;if(Z){Z2=W1(k.current,eK,Z);eM=W1(k.stackedOnCurrent,eK,Z);eJ=W1(k.next,eK,Z);cc=W1(k.stackedOnNext,eK,Z)}eH.shape.__points=k.current;eH.shape.points=Z2;Pr(eH,{shape:{points:eJ}},XY);if(WH){WH.setShape({points:Z2,stackedOnPoints:eM});Pr(WH,{shape:{points:eJ,stackedOnPoints:cc}},XY)}var eI=[];var e=k.status;for(var v=0;v<e.length;v++){var eG=e[v].cmd;if(eG==="="){var eN=eL.getItemGraphicEl(e[v].idx1);if(eN){eI.push({el:eN,ptIdx:v})}}}if(eH.animators&&eH.animators.length){eH.animators[0].during(function(){for(var eP=0;eP<eI.length;eP++){var eO=eI[eP].el;eO.attr("position",eH.shape.__points[eI[eP].ptIdx])}})}},remove:function(e){var Z=this.group;var i=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(true);i&&i.eachItemGraphicEl(function(k,v){if(k.__temp){Z.remove(k);i.setItemGraphicEl(v,null)}});this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var Qz=function(k,Z,i,e,v){e.eachRawSeriesByType(k,function(PI){var Z2=PI.getData();var WH=PI.get("symbol")||Z;var XY=PI.get("symbolSize");Z2.setVisual({legendSymbol:i||WH,symbol:WH,symbolSize:XY});if(!e.isSeriesFiltered(PI)){if(typeof XY==="function"){Z2.each(function(eF){var cc=PI.getRawValue(eF);var eG=PI.getDataParams(eF);Z2.setItemVisual(eF,"symbolSize",XY(cc,eG))})}Z2.each(function(eH){var cc=Z2.getItemModel(eH);var eF=cc.getShallow("symbol",true);var eG=cc.getShallow("symbolSize",true);if(eF!=null){Z2.setItemVisual(eH,"symbol",eF)}if(eG!=null){Z2.setItemVisual(eH,"symbolSize",eG)}})}})};var F=function(e,Z){Z.eachSeriesByType(e,function(k){var Z2=k.getData();var PI=k.coordinateSystem;if(!PI){return}var WH=[];var XY=PI.dimensions;for(var v=0;v<XY.length;v++){WH.push(k.coordDimToDataDim(PI.dimensions[v])[0])}if(WH.length===1){Z2.each(WH[0],function(i,cc){Z2.setItemLayout(cc,isNaN(i)?[NaN,NaN]:PI.dataToPoint(i))})}else{if(WH.length===2){Z2.each(WH,function(cc,eF,i){Z2.setItemLayout(i,(isNaN(cc)||isNaN(eF))?[NaN,NaN]:PI.dataToPoint([cc,eF]))},true)}}})};var aE={average:function(k){var v=0;var e=0;for(var Z=0;Z<k.length;Z++){if(!isNaN(k[Z])){v+=k[Z];e++}}return e===0?NaN:v/e},sum:function(e){var k=0;for(var Z=0;Z<e.length;Z++){k+=e[Z]||0}return k},max:function(e){var k=-Infinity;for(var Z=0;Z<e.length;Z++){e[Z]>k&&(k=e[Z])}return k},min:function(k){var Z=Infinity;for(var e=0;e<k.length;e++){k[e]<Z&&(Z=k[e])}return Z},nearest:function(Z){return Z[0]}};var Ws=function(e,Z){return Math.round(e.length/2)};var Xe=function(e,Z,i){Z.eachSeriesByType(e,function(eH){var WH=eH.getData();var v=eH.get("sampling");var PI=eH.coordinateSystem;if(PI.type==="cartesian2d"&&v){var eF=PI.getBaseAxis();var k=PI.getOtherAxis(eF);var XY=eF.getExtent();var Z2=XY[1]-XY[0];var cc=Math.round(WH.count()/Z2);if(cc>1){var eG;if(typeof v==="string"){eG=aE[v]}else{if(typeof v==="function"){eG=v}}if(eG){WH=WH.downSample(k.dim,1/cc,eG,Ws);eH.setData(WH)}}}},this)};function Ve(Z){return this._axes[Z]}var Wm=function(Z){this._axes={};this._dimList=[];this.name=Z||""};Wm.prototype={constructor:Wm,type:"cartesian",getAxis:function(Z){return this._axes[Z]},getAxes:function(){return PK(this._dimList,Ve,this)},getAxesByScale:function(Z){Z=Z.toLowerCase();return Zs(this.getAxes(),function(e){return e.scale.type===Z})},addAxis:function(e){var Z=e.dim;this._axes[Z]=e;this._dimList.push(Z)},dataToCoord:function(Z){return this._dataCoordConvert(Z,"dataToCoord")},coordToData:function(Z){return this._dataCoordConvert(Z,"coordToData")},_dataCoordConvert:function(k,WH){var e=this._dimList;var XY=k instanceof Array?[]:{};for(var Z=0;Z<e.length;Z++){var v=e[Z];var PI=this._axes[v];XY[v]=PI[WH](k[v])}return XY}};function VN(Z){Wm.call(this,Z)}VN.prototype={constructor:VN,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(e){var i=this.getAxis("x");var Z=this.getAxis("y");return i.contain(i.toLocalCoord(e[0]))&&Z.contain(Z.toLocalCoord(e[1]))},containData:function(Z){return this.getAxis("x").containData(Z[0])&&this.getAxis("y").containData(Z[1])},dataToPoint:function(k,i){var Z=this.getAxis("x");var e=this.getAxis("y");return[Z.toGlobalCoord(Z.dataToCoord(k[0],i)),e.toGlobalCoord(e.dataToCoord(k[1],i))]},pointToData:function(e,i){var Z=this.getAxis("x");var k=this.getAxis("y");return[Z.coordToData(Z.toLocalCoord(e[0]),i),k.coordToData(k.toLocalCoord(e[1]),i)]},getOtherAxis:function(Z){return this.getAxis(Z.dim==="x"?"y":"x")}};JO(VN,Wm);var ME=function(i,k,e,v,Z){T1.call(this,i,k,e);this.type=v||"value";this.position=Z||"bottom"};ME.prototype={constructor:ME,index:0,onZero:false,model:null,isHorizontal:function(){var Z=this.position;return Z==="top"||Z==="bottom"},getGlobalExtent:function(Z){var e=this.getExtent();e[0]=this.toGlobalCoord(e[0]);e[1]=this.toGlobalCoord(e[1]);Z&&e[0]>e[1]&&e.reverse();return e},getOtherAxis:function(){this.grid.getOtherAxis()},isLabelIgnored:function(e){if(this.type==="category"){var Z=this.getLabelInterval();return((typeof Z==="function")&&!Z(e,this.scale.getLabel(e)))||e%(Z+1)}},pointToData:function(Z,e){return this.coordToData(this.toLocalCoord(Z[this.dim==="x"?0:1]),e)},toLocalCoord:null,toGlobalCoord:null};JO(ME,T1);var Yo={show:true,zlevel:0,z:0,inverse:false,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:false,triggerEvent:false,tooltip:{show:false},axisPointer:{},axisLine:{show:true,onZero:true,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:true,inside:false,length:5,lineStyle:{width:1}},axisLabel:{show:true,inside:false,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:true,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};var bg={};bg.categoryAxis=KT({boundaryGap:true,splitLine:{show:false},axisTick:{alignWithLabel:false,interval:"auto"},axisLabel:{interval:"auto"}},Yo);bg.valueAxis=KT({boundaryGap:[0,0],splitNumber:5},Yo);bg.timeAxis=Id({scale:true,min:"dataMin",max:"dataMax"},bg.valueAxis);bg.logAxis=Id({scale:true,logBase:10},bg.valueAxis);var Pt=["value","category","time","log"];var Pc=function(k,Z,e,i){Dc(Pt,function(v){Z.extend({type:k+"Axis."+v,mergeDefaultAndTheme:function(WH,XY){var cc=this.layoutMode;var PI=cc?X2(WH):{};var Z2=XY.getTheme();KT(WH,Z2.get(v+"Axis"));KT(WH,this.getDefaultOption());WH.type=e(k,WH);if(cc){aW(WH,PI,cc)}},defaultOption:FJ([{},bg[v+"Axis"],i],true)})});C8.registerSubTypeDefaulter(k+"Axis",aT(e,k))};var Om=C8.extend({type:"cartesian2dAxis",axis:null,init:function(){Om.superApply(this,"init",arguments);this.resetRange()},mergeOption:function(){Om.superApply(this,"mergeOption",arguments);this.resetRange()},restoreData:function(){Om.superApply(this,"restoreData",arguments);this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function HB(e,Z){return Z.type||(Z.data?"category":"value")}KT(Om.prototype,Lz);var JN={offset:0};Pc("x",Om,HB,JN);Pc("y",Om,HB,JN);C8.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:false,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:false,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var Ym=Dc;var R7=HO;var Ry=U0;function Bp(i,Z,e){return i.getCoordSysModel()===Z}function Y3(i,Z){var WH=Z*Math.PI/180;var k=i.plain();var PI=k.width;var Z2=k.height;var XY=PI*Math.cos(WH)+Z2*Math.sin(WH);var v=PI*Math.sin(WH)+Z2*Math.cos(WH);var e=new FC(k.x,k.y,XY,v);return e}function ci(Z){var v=Z.model;var eF=v.getFormattedLabels();var cc=v.getModel("axisLabel");var e;var PI=1;var Z2=eF.length;if(Z2>40){PI=Math.ceil(Z2/40)}for(var XY=0;XY<Z2;XY+=PI){if(!Z.isLabelIgnored(XY)){var WH=cc.getTextRect(eF[XY]);var k=Y3(WH,cc.get("rotate")||0);e?e.union(k):(e=k)}}return e}function TG(Z,e,i){this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this._initCartesian(Z,e,i);this.model=Z}var DE=TG.prototype;DE.type="grid";DE.axisPointerEnabled=true;DE.getRect=function(){return this._rect};DE.update=function(e,i){var Z=this._axesMap;this._updateScale(e,this.model);Ym(Z.x,function(k){Ry(k.scale,k.model)});Ym(Z.y,function(k){Ry(k.scale,k.model)});Ym(Z.x,function(k){Ji(Z,"y",k)});Ym(Z.y,function(k){Ji(Z,"x",k)});this.resize(this.model,i)};function Ji(e,PI,WH){var Z=e[PI];if(!WH.onZero){return}var i=WH.onZeroAxisIndex;if(i!=null){var k=Z[i];if(k&&OS(k)){WH.onZero=false}return}for(var v in Z){if(Z.hasOwnProperty(v)){var k=Z[v];if(k&&!OS(k)){i=+v;break}}}if(i==null){WH.onZero=false}WH.onZeroAxisIndex=i}function OS(Z){return Z.type==="category"||Z.type==="time"||!R7(Z)}DE.resize=function(Z,PI,v){var i=CC(Z.getBoxLayoutParams(),{width:PI.getWidth(),height:PI.getHeight()});this._rect=i;var e=this._axesList;k();if(!v&&Z.get("containLabel")){Ym(e,function(cc){if(!cc.model.get("axisLabel.inside")){var XY=ci(cc);if(XY){var Z2=cc.isHorizontal()?"height":"width";var WH=cc.model.get("axisLabel.margin");i[Z2]-=XY[Z2]+WH;if(cc.position==="top"){i.y+=XY.height+WH}else{if(cc.position==="left"){i.x+=XY.width+WH}}}}});k()}function k(){Ym(e,function(cc){var WH=cc.isHorizontal();var XY=WH?[0,i.width]:[0,i.height];var Z2=cc.inverse?1:0;cc.setExtent(XY[Z2],XY[1-Z2]);Nj(cc,WH?i.x:i.y)})}};DE.getAxis=function(i,k){var Z=this._axesMap[i];if(Z!=null){if(k==null){for(var e in Z){if(Z.hasOwnProperty(e)){return Z[e]}}}return Z[k]}};DE.getAxes=function(){return this._axesList.slice()};DE.getCartesian=function(PI,Z){if(PI!=null&&Z!=null){var e="x"+PI+"y"+Z;return this._coordsMap[e]}if(Q(PI)){Z=PI.yAxisIndex;PI=PI.xAxisIndex}for(var k=0,v=this._coordsList;k<v.length;k++){if(v[k].getAxis("x").index===PI||v[k].getAxis("y").index===Z){return v[k]}}};DE.getCartesians=function(){return this._coordsList.slice()};DE.convertToPixel=function(Z,k,i){var e=this._findConvertTarget(Z,k);return e.cartesian?e.cartesian.dataToPoint(i):e.axis?e.axis.toGlobalCoord(e.axis.dataToCoord(i)):null};DE.convertFromPixel=function(Z,k,i){var e=this._findConvertTarget(Z,k);return e.cartesian?e.cartesian.pointToData(i):e.axis?e.axis.coordToData(e.axis.toLocalCoord(i)):null};DE._findConvertTarget=function(e,Z){var cc=Z.seriesModel;var k=Z.xAxisModel||(cc&&cc.getReferringComponents("xAxis")[0]);var Z2=Z.yAxisModel||(cc&&cc.getReferringComponents("yAxis")[0]);var i=Z.gridModel;var XY=this._coordsList;var PI;var v;if(cc){PI=cc.coordinateSystem;Fx(XY,PI)<0&&(PI=null)}else{if(k&&Z2){PI=this.getCartesian(k.componentIndex,Z2.componentIndex)}else{if(k){v=this.getAxis("x",k.componentIndex)}else{if(Z2){v=this.getAxis("y",Z2.componentIndex)}else{if(i){var WH=i.coordinateSystem;if(WH===this){PI=this._coordsList[0]}}}}}}return{cartesian:PI,axis:v}};DE.containPoint=function(Z){var e=this._coordsList[0];if(e){return e.containPoint(Z)}};DE._initCartesian=function(Z,i,PI){var v={left:false,right:false,top:false,bottom:false};var e={x:{},y:{}};var k={x:0,y:0};i.eachComponent("xAxis",WH("x"),this);i.eachComponent("yAxis",WH("y"),this);if(!k.x||!k.y){this._axesMap={};this._axesList=[];return}this._axesMap=e;Ym(e.x,function(XY,Z2){Ym(e.y,function(eG,cc){var eF="x"+Z2+"y"+cc;var eH=new VN(eF);eH.grid=this;eH.model=Z;this._coordsMap[eF]=eH;this._coordsList.push(eH);eH.addAxis(XY);eH.addAxis(eG)},this)},this);function WH(XY){return function(cc,eF){if(!Bp(cc,Z,i)){return}var eG=cc.get("position");if(XY==="x"){if(eG!=="top"&&eG!=="bottom"){eG="bottom";if(v[eG]){eG=eG==="top"?"bottom":"top"}}}else{if(eG!=="left"&&eG!=="right"){eG="left";if(v[eG]){eG=eG==="left"?"right":"left"}}}v[eG]=true;var eH=new ME(XY,Xz(cc),[0,0],cc.get("type"),eG);var Z2=eH.type==="category";eH.onBand=Z2&&cc.get("boundaryGap");eH.inverse=cc.get("inverse");eH.onZero=cc.get("axisLine.onZero");eH.onZeroAxisIndex=cc.get("axisLine.onZeroAxisIndex");cc.axis=eH;eH.model=cc;eH.grid=this;eH.index=eF;this._axesList.push(eH);e[XY][eF]=eH;k[XY]++}}};DE._updateScale=function(e,Z){Dc(this._axesList,function(k){k.scale.setExtent(Infinity,-Infinity)});e.eachSeries(function(eF){if(bP(eF)){var cc=JM(eF,e);var PI=cc[0];var Z2=cc[1];if(!Bp(PI,Z,e)||!Bp(Z2,Z,e)){return}var WH=this.getCartesian(PI.componentIndex,Z2.componentIndex);var v=eF.getData();var XY=WH.getAxis("x");var k=WH.getAxis("y");if(v.type==="list"){i(v,XY,eF);i(v,k,eF)}}},this);function i(PI,v,k){Ym(k.coordDimToDataDim(v.dim),function(WH){v.scale.unionExtentFromData(PI,WH)})}};DE.getTooltipAxes=function(e){var i=[];var Z=[];Ym(this.getCartesians(),function(PI){var v=(e!=null&&e!=="auto")?PI.getAxis(e):PI.getBaseAxis();var k=PI.getOtherAxis(v);Fx(i,v)<0&&i.push(v);Fx(Z,k)<0&&Z.push(k)});return{baseAxes:i,otherAxes:Z}};function Nj(k,i){var Z=k.getExtent();var e=Z[0]+Z[1];k.toGlobalCoord=k.dim==="x"?function(v){return v+i}:function(v){return e-v+i};k.toLocalCoord=k.dim==="x"?function(v){return v-i}:function(v){return e-v+i}}var UW=["xAxis","yAxis"];function JM(Z,e){return PK(UW,function(k){var i=Z.getReferringComponents(k)[0];if(Vo){if(!i){throw new Error(k+' "'+Ew(Z.get(k+"Index"),Z.get(k+"Id"),0)+'" not found')}}return i})}function bP(Z){return Z.get("coordinateSystem")==="cartesian2d"}TG.create=function(e,i){var Z=[];e.eachComponent("grid",function(k,v){var PI=new TG(k,e,i);PI.name="grid_"+v;PI.resize(k,i,true);k.coordinateSystem=PI;Z.push(PI)});e.eachSeries(function(v){if(!bP(v)){return}var XY=JM(v,e);var WH=XY[0];var k=XY[1];var PI=WH.getCoordSysModel();if(Vo){if(!PI){throw new Error('Grid "'+Ew(WH.get("gridIndex"),WH.get("gridId"),0)+'" not found')}if(WH.getCoordSysModel()!==k.getCoordSysModel()){throw new Error("xAxis and yAxis must use the same grid")}}var Z2=PI.coordinateSystem;v.coordinateSystem=Z2.getCartesian(WH.componentIndex,k.componentIndex)});return Z};TG.dimensions=TG.prototype.dimensions=VN.prototype.dimensions;Ql.register("cartesian2d",TG);var Mu=Math.PI;function L7(Z){var e={componentType:Z.mainType};e[Z.mainType+"Index"]=Z.componentIndex;return e}var W8=function(e,Z){this.opt=Z;this.axisModel=e;Id(Z,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:true});this.group=new TD();var i=new TD({position:Z.position.slice(),rotation:Z.rotation});i.updateTransform();this._transform=i.transform;this._dumbGroup=i};W8.prototype={constructor:W8,hasBuilder:function(Z){return !!c1[Z]},add:function(Z){c1[Z].call(this)},getGroup:function(){return this.group}};var c1={axisLine:function(){var Z2=this.opt;var k=this.axisModel;if(!k.get("axisLine.show")){return}var PI=this.axisModel.axis.getExtent();var WH=this._transform;var v=[PI[0],0];var i=[PI[1],0];if(WH){HV(v,v,WH);HV(i,i,WH)}var cc=V8({lineCap:"round"},k.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new S7(Kg({anid:"line",shape:{x1:v[0],y1:v[1],x2:i[0],y2:i[1]},style:cc,strokeContainThreshold:Z2.strokeContainThreshold||5,silent:true,z2:1})));var XY=k.get("axisLine.symbol");var Z=k.get("axisLine.symbolSize");if(XY!=null){if(typeof XY==="string"){XY=[XY,XY]}if(typeof Z==="string"||typeof Z==="number"){Z=[Z,Z]}var e=Z[0];var eF=Z[1];Dc([[Z2.rotation+Math.PI/2,v],[Z2.rotation-Math.PI/2,i]],function(eH,eI){if(XY[eI]!=="none"&&XY[eI]!=null){var eG=Fq(XY[eI],-e/2,-eF/2,e,eF,cc.stroke,true);eG.attr({rotation:eH[0],position:eH[1],silent:true});this.group.add(eG)}},this)}},axisTickLabel:function(){var e=this.axisModel;var Z=this.opt;var i=XX(this,e,Z);var k=Ni(this,e,Z);Cw(e,k,i)},axisName:function(){var PI=this.opt;var Z=this.axisModel;var eO=Ew(PI.axisName,Z.get("name"));if(!eO){return}var e=Z.get("nameLocation");var eQ=PI.nameDirection;var cc=Z.getModel("nameTextStyle");var i=Z.get("nameGap")||0;var eH=this.axisModel.axis.getExtent();var XY=eH[0]>eH[1]?-1:1;var eN=[e==="start"?eH[0]-XY*i:e==="end"?eH[1]+XY*i:(eH[0]+eH[1])/2,Ap(e)?PI.labelOffset+eQ*i:0];var eK;var k=Z.get("nameRotate");if(k!=null){k=k*Mu/180}var eP;if(Ap(e)){eK=JR(PI.rotation,k!=null?k:PI.rotation,eQ)}else{eK=Xc(PI,e,k||0,eH);eP=PI.axisNameAvailableWidth;if(eP!=null){eP=Math.abs(eP/Math.sin(eK.rotation));!isFinite(eP)&&(eP=null)}}var eL=cc.getFont();var v=Z.get("nameTruncate",true)||{};var eF=v.ellipsis;var WH=Ew(PI.nameTruncateMaxWidth,v.maxWidth,eP);var eG=(eF!=null&&WH!=null)?ZB(eO,WH,eL,eF,{minChar:2,placeholder:v.placeholder}):eO;var eJ=Z.get("tooltip",true);var Z2=Z.mainType;var eI={componentType:Z2,name:eO,$vars:["name"]};eI[Z2+"Index"]=Z.componentIndex;var eM=new FA({anid:"name",__fullText:eO,__truncatedText:eG,position:eN,rotation:eK.rotation,silent:H0(Z),z2:1,tooltip:(eJ&&eJ.show)?V8({content:eO,formatter:function(){return eO},formatterParams:eI},eJ):null});Dw(eM.style,cc,{text:eG,textFont:eL,textFill:cc.getTextColor()||Z.get("axisLine.lineStyle.color"),textAlign:eK.textAlign,textVerticalAlign:eK.textVerticalAlign});if(Z.get("triggerEvent")){eM.eventData=L7(Z);eM.eventData.targetType="axisName";eM.eventData.name=eO}this._dumbGroup.add(eM);eM.updateTransform();this.group.add(eM);eM.decomposeTransform()}};var JR=W8.innerTextLayout=function(v,k,Z){var e=Wa(k-v);var PI;var i;if(U3(e)){i=Z>0?"top":"bottom";PI="center"}else{if(U3(e-Mu)){i=Z>0?"bottom":"top";PI="center"}else{i="middle";if(e>0&&e<Mu){PI=Z>0?"right":"left"}else{PI=Z>0?"left":"right"}}}return{rotation:e,textAlign:PI,textVerticalAlign:i}};function Xc(e,Z2,v,i){var XY=Wa(v-e.rotation);var Z;var k;var WH=i[0]>i[1];var PI=(Z2==="start"&&!WH)||(Z2!=="start"&&WH);if(U3(XY-Mu/2)){k=PI?"bottom":"top";Z="center"}else{if(U3(XY-Mu*1.5)){k=PI?"top":"bottom";Z="center"}else{k="middle";if(XY<Mu*1.5&&XY>Mu/2){Z=PI?"left":"right"}else{Z=PI?"right":"left"}}}return{rotation:XY,textAlign:Z,textVerticalAlign:k}}function H0(e){var Z=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||(Z&&Z.show))}function Cw(v,e,eH){var Z=v.get("axisLabel.showMinLabel");var k=v.get("axisLabel.showMaxLabel");e=e||[];eH=eH||[];var cc=e[0];var eF=e[1];var Z2=e[e.length-1];var i=e[e.length-2];var XY=eH[0];var eG=eH[1];var WH=eH[eH.length-1];var PI=eH[eH.length-2];if(Z===false){KO(cc);KO(XY)}else{if(WA(cc,eF)){if(Z){KO(eF);KO(eG)}else{KO(cc);KO(XY)}}}if(k===false){KO(Z2);KO(WH)}else{if(WA(i,Z2)){if(k){KO(i);KO(PI)}else{KO(Z2);KO(WH)}}}}function KO(Z){Z&&(Z.ignore=true)}function WA(v,k,e){var PI=v&&v.getBoundingRect().clone();var Z=k&&k.getBoundingRect().clone();if(!PI||!Z){return}var i=cd([]);cF(i,i,-v.rotation);PI.applyTransform(OY([],i,v.getLocalTransform()));Z.applyTransform(OY([],i,k.getLocalTransform()));return PI.intersect(Z)}function Ap(Z){return Z==="middle"||Z==="center"}var Kt=W8.ifIgnoreOnTick=function(Z,PI,WH,v,XY,e){if(PI===0&&XY||PI===v-1&&e){return false}var k;var Z2=Z.scale;return Z2.type==="ordinal"&&(typeof WH==="function"?(k=Z2.getTicks()[PI],!WH(k,Z2.getLabel(k))):PI%(WH+1))};var RC=W8.getInterval=function(i,Z){var e=i.get("interval");if(e==null||e=="auto"){e=Z}return e};function XX(eH,eG,eO){var eJ=eG.axis;if(!eG.get("axisTick.show")||eJ.scale.isBlank()){return}var eL=eG.getModel("axisTick");var eN=eL.getModel("lineStyle");var eI=eL.get("length");var v=RC(eL,eO.labelInterval);var e=eJ.getTicksCoords(eL.get("alignWithLabel"));var Z2=eJ.scale.getTicks();var WH=eG.get("axisLabel.showMinLabel");var PI=eG.get("axisLabel.showMaxLabel");var eF=[];var XY=[];var eK=eH._transform;var cc=[];var eP=e.length;for(var k=0;k<eP;k++){if(Kt(eJ,k,v,eP,WH,PI)){continue}var Z=e[k];eF[0]=Z;eF[1]=0;XY[0]=Z;XY[1]=eO.tickDirection*eI;if(eK){HV(eF,eF,eK);HV(XY,XY,eK)}var eM=new S7(Kg({anid:"tick_"+Z2[k],shape:{x1:eF[0],y1:eF[1],x2:XY[0],y2:XY[1]},style:Id(eN.getLineStyle(),{stroke:eG.get("axisLine.lineStyle.color")}),z2:2,silent:true}));eH.group.add(eM);cc.push(eM)}return cc}function Ni(eF,eH,eL){var eG=eH.axis;var eI=Ew(eL.axisLabelShow,eH.get("axisLabel.show"));if(!eI||eG.scale.isBlank()){return}var e=eH.getModel("axisLabel");var i=e.get("margin");var eJ=eG.scale.getTicks();var Z=eH.getFormattedLabels();var XY=(Ew(eL.labelRotate,e.get("rotate"))||0)*Mu/180;var eK=JR(eL.rotation,XY,eL.labelDirection);var Z2=eH.get("data");var v=[];var cc=H0(eH);var k=eH.get("triggerEvent");var WH=eH.get("axisLabel.showMinLabel");var PI=eH.get("axisLabel.showMaxLabel");Dc(eJ,function(eS,eM){if(Kt(eG,eM,eL.labelInterval,eJ.length,WH,PI)){return}var eT=e;if(Z2&&Z2[eS]&&Z2[eS].textStyle){eT=new dc(Z2[eS].textStyle,e,eH.ecModel)}var eO=eT.getTextColor()||eH.get("axisLine.lineStyle.color");var eR=eG.dataToCoord(eS);var eP=[eR,eL.labelOffset+eL.labelDirection*i];var eQ=eG.scale.getLabel(eS);var eN=new FA({anid:"label_"+eS,position:eP,rotation:eK.rotation,silent:cc,z2:10});Dw(eN.style,eT,{text:Z[eM],textAlign:eT.getShallow("align",true)||eK.textAlign,textVerticalAlign:eT.getShallow("verticalAlign",true)||eT.getShallow("baseline",true)||eK.textVerticalAlign,textFill:typeof eO==="function"?eO(eG.type==="category"?eQ:eG.type==="value"?eS+"":eS,eM):eO});if(k){eN.eventData=L7(eH);eN.eventData.targetType="axisLabel";eN.eventData.value=eQ}eF._dumbGroup.add(eN);eN.updateTransform();v.push(eN);eF.group.add(eN);eN.decomposeTransform()});return v}var Xb=Dc;var Te=aT;function Uh(Z,i){var e={axesInfo:{},seriesInvolved:false,coordSysAxesInfo:{},coordSysMap:{}};QG(e,Z,i);e.seriesInvolved&&ac(e,Z);return e}function QG(e,PI,k){var v=PI.getComponent("tooltip");var Z=PI.getComponent("axisPointer");var WH=Z.get("link",true)||[];var i=[];Xb(k.getCoordinateSystems(),function(Z2){if(!Z2.axisPointerEnabled){return}var eI=GK(Z2.model);var eK=e.coordSysAxesInfo[eI]={};e.coordSysMap[eI]=Z2;var eH=Z2.model;var XY=eH.getModel("tooltip",v);Xb(Z2.getAxes(),Te(eF,false,null));if(Z2.getTooltipAxes&&v&&XY.get("show")){var cc=XY.get("trigger")==="axis";var eJ=XY.get("axisPointer.type")==="cross";var eG=Z2.getTooltipAxes(XY.get("axisPointer.axis"));if(cc||eJ){Xb(eG.baseAxes,Te(eF,eJ?"cross":true,cc))}if(eJ){Xb(eG.otherAxes,Te(eF,"cross",false))}}function eF(eO,eP,eM){var eN=eM.model.getModel("axisPointer",Z);var eV=eN.get("show");if(!eV||(eV==="auto"&&!eO&&!Na(eN))){return}if(eP==null){eP=eN.get("triggerTooltip")}eN=eO?J1(eM,XY,Z,PI,eO,eP):eN;var eU=eN.get("snap");var eT=GK(eM.model);var eR=eP||eU||eM.type==="category";var eS=e.axesInfo[eT]={key:eT,axis:eM,coordSys:Z2,axisPointerModel:eN,triggerTooltip:eP,involveSeries:eR,snap:eU,useHandle:Na(eN),seriesModels:[]};eK[eT]=eS;e.seriesInvolved|=eR;var eL=Nf(WH,eM);if(eL!=null){var eQ=i[eL]||(i[eL]={axesInfo:{}});eQ.axesInfo[eT]=eS;eQ.mapper=WH[eL].mapper;eS.linkGroup=eQ}}})}function J1(e,Z,PI,Z2,i,v){var k=Z.getModel("axisPointer");var cc={};Xb(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(eF){cc[eF]=dp(k.get(eF))});cc.snap=e.type!=="category"&&!!v;if(k.get("type")==="cross"){cc.type="line"}var WH=cc.label||(cc.label={});WH.show==null&&(WH.show=false);if(i==="cross"){WH.show=true;if(!v){var XY=cc.lineStyle=k.get("crossStyle");XY&&Id(WH,XY.textStyle)}}return e.model.getModel("axisPointer",new dc(cc,PI,Z2))}function ac(Z,e){e.eachSeries(function(i){var v=i.coordinateSystem;var k=i.get("tooltip.trigger",true);var PI=i.get("tooltip.show",true);if(!v||k==="none"||k===false||k==="item"||PI===false||i.get("axisPointer.show",true)===false){return}Xb(Z.coordSysAxesInfo[GK(v.model)],function(WH){var XY=WH.axis;if(v.getAxis(XY.dim)===XY){WH.seriesModels.push(i);WH.seriesDataCount==null&&(WH.seriesDataCount=0);WH.seriesDataCount+=i.getData().count()}})},this)}function Nf(e,WH){var k=WH.model;var v=WH.dim;for(var Z=0;Z<e.length;Z++){var PI=e[Z]||{};if(TZ(PI[v+"AxisId"],k.id)||TZ(PI[v+"AxisIndex"],k.componentIndex)||TZ(PI[v+"AxisName"],k.name)){return Z}}}function TZ(Z,e){return Z==="all"||(aO(Z)&&Fx(Z,e)>=0)||Z===e}function AO(k){var WH=A5(k);if(!WH){return}var e=WH.axisPointerModel;var i=WH.axis.scale;var Z2=e.option;var XY=e.get("status");var PI=e.get("value");if(PI!=null){PI=i.parse(PI)}var Z=Na(e);if(XY==null){Z2.status=Z?"show":"hide"}var v=i.getExtent().slice();v[0]>v[1]&&v.reverse();if(PI==null||PI>v[1]){PI=v[1]}if(PI<v[0]){PI=v[0]}Z2.value=PI;if(Z){Z2.status=WH.axis.scale.isBlank()?"hide":"show"}}function A5(e){var Z=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return Z&&Z.axesInfo[GK(e)]}function EO(e){var Z=A5(e);return Z&&Z.axisPointerModel}function Na(Z){return !!Z.get("handle.show")}function GK(Z){return Z.type+"||"+Z.id}var Oe=bX({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(e,Z,k,i){this.axisPointerClass&&AO(e);Oe.superApply(this,"render",arguments);M8(this,e,Z,k,i,true)},updateAxisPointer:function(e,Z,v,i,k){M8(this,e,Z,v,i,false)},remove:function(Z,i){var e=this._axisPointer;e&&e.remove(i);Oe.superApply(this,"remove",arguments)},dispose:function(Z,e){dj(this,e);Oe.superApply(this,"dispose",arguments)}});function M8(i,v,Z,WH,e,XY){var PI=Oe.getAxisPointerClass(i.axisPointerClass);if(!PI){return}var k=EO(v);k?(i._axisPointer||(i._axisPointer=new PI())).render(v,k,WH,XY):dj(i,WH)}function dj(e,Z,k){var i=e._axisPointer;i&&i.dispose(Z,k);e._axisPointer=null}var K9=[];Oe.registerAxisPointerClass=function(Z,e){if(Vo){if(K9[Z]){throw new Error("axisPointer "+Z+" exists")}}K9[Z]=e};Oe.getAxisPointerClass=function(Z){return Z&&K9[Z]};function Iw(e,cc,v){v=v||{};var Z=e.coordinateSystem;var eH=cc.axis;var PI={};var k=eH.position;var eJ=eH.onZero?"onZero":k;var eK=eH.dim;var XY=Z.getRect();var i=[XY.x,XY.x+XY.width,XY.y,XY.y+XY.height];var eL={left:0,right:1,top:0,bottom:1,onZero:2};var WH=cc.get("offset")||0;var eI=eK==="x"?[i[2]-WH,i[3]+WH]:[i[0]-WH,i[1]+WH];if(eH.onZero){var eG=Z.getAxis(eK==="x"?"y":"x",eH.onZeroAxisIndex);var Z2=eG.toGlobalCoord(eG.dataToCoord(0));eI[eL["onZero"]]=Math.max(Math.min(Z2,eI[1]),eI[0])}PI.position=[eK==="y"?eI[eL[eJ]]:i[0],eK==="x"?eI[eL[eJ]]:i[3]];PI.rotation=Math.PI/2*(eK==="x"?0:1);var eM={top:-1,bottom:1,left:-1,right:1};PI.labelDirection=PI.tickDirection=PI.nameDirection=eM[k];PI.labelOffset=eH.onZero?eI[eL[k]]-eI[eL["onZero"]]:0;if(cc.get("axisTick.inside")){PI.tickDirection=-PI.tickDirection}if(Ew(v.labelInside,cc.get("axisLabel.inside"))){PI.labelDirection=-PI.labelDirection}var eF=cc.get("axisLabel.rotate");PI.labelRotate=eJ==="top"?-eF:eF;PI.labelInterval=eH.getLabelInterval();PI.z2=1;return PI}var Ga=W8.ifIgnoreOnTick;var BK=W8.getInterval;var AE=["axisLine","axisTickLabel","axisName"];var dQ=["splitArea","splitLine"];var YO=Oe.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(k,WH,XY,e){this.group.removeAll();var v=this._axisGroup;this._axisGroup=new TD();this.group.add(this._axisGroup);if(!k.get("show")){return}var i=k.getCoordSysModel();var Z=Iw(i,k);var PI=new W8(k,Z);Dc(AE,PI.add,PI);this._axisGroup.add(PI.getGroup());Dc(dQ,function(Z2){if(k.get(Z2+".show")){this["_"+Z2](k,i,Z.labelInterval)}},this);VI(v,this._axisGroup,k);YO.superCall(this,"render",k,WH,XY,e)},_splitLine:function(eH,e,eP){var eN=eH.axis;if(eN.scale.isBlank()){return}var eM=eH.getModel("splitLine");var eO=eM.getModel("lineStyle");var eI=eO.get("color");var eJ=BK(eM,eP);eI=aO(eI)?eI:[eI];var eG=e.coordinateSystem.getRect();var eK=eN.isHorizontal();var eL=0;var k=eN.getTicksCoords();var eF=eN.scale.getTicks();var Z2=eH.get("axisLabel.showMinLabel");var XY=eH.get("axisLabel.showMaxLabel");var eQ=[];var v=[];var cc=eO.getLineStyle();for(var WH=0;WH<k.length;WH++){if(Ga(eN,WH,eJ,k.length,Z2,XY)){continue}var Z=eN.toGlobalCoord(k[WH]);if(eK){eQ[0]=Z;eQ[1]=eG.y;v[0]=Z;v[1]=eG.y+eG.height}else{eQ[0]=eG.x;eQ[1]=Z;v[0]=eG.x+eG.width;v[1]=Z}var PI=(eL++)%eI.length;this._axisGroup.add(new S7(Kg({anid:"line_"+eF[WH],shape:{x1:eQ[0],y1:eQ[1],x2:v[0],y2:v[1]},style:Id({stroke:eI[PI]},cc),silent:true})))}},_splitArea:function(eH,e,eP){var eK=eH.axis;if(eK.scale.isBlank()){return}var eN=eH.getModel("splitArea");var XY=eN.getModel("areaStyle");var eT=XY.get("color");var eG=e.coordinateSystem.getRect();var k=eK.getTicksCoords();var eO=eK.scale.getTicks();var eJ=eK.toGlobalCoord(k[0]);var eI=eK.toGlobalCoord(k[0]);var WH=0;var eM=BK(eN,eP);var v=XY.getAreaStyle();eT=aO(eT)?eT:[eT];var eF=eH.get("axisLabel.showMinLabel");var cc=eH.get("axisLabel.showMaxLabel");for(var Z2=1;Z2<k.length;Z2++){if(Ga(eK,Z2,eM,k.length,eF,cc)){continue}var Z=eK.toGlobalCoord(k[Z2]);var eQ;var eR;var eL;var eS;if(eK.isHorizontal()){eQ=eJ;eR=eG.y;eL=Z-eQ;eS=eG.height}else{eQ=eG.x;eR=eI;eL=eG.width;eS=Z-eR}var PI=(WH++)%eT.length;this._axisGroup.add(new BI({anid:"area_"+eO[Z2],shape:{x:eQ,y:eR,width:eL,height:eS},style:Id({fill:eT[PI]},v),silent:true}));eJ=eQ+eL;eI=eR+eS}}});YO.extend({type:"xAxis"});YO.extend({type:"yAxis"});bX({type:"grid",render:function(Z,e){this.group.removeAll();if(Z.get("show")){this.group.add(new BI({shape:Z.coordinateSystem.getRect(),style:Id({fill:Z.get("backgroundColor")},Z.getItemStyle()),silent:true,z2:-1}))}}});IL(function(Z){if(Z.xAxis&&Z.yAxis&&!Z.grid){Z.grid={}}});Ai(aT(Qz,"line","circle","line"));el(aT(F,"line"));bI(cu.PROCESSOR.STATISTIC,aT(Xe,"line"));var KN="__ec_stack_";function UJ(Z){return Z.get("stack")||KN+Z.seriesIndex}function Zb(Z){return Z.dim+Z.index}function Mx(k,Z2){var PI=[];var XY=k.axis;var cc="axis0";if(XY.type!=="category"){return}var Z=XY.getBandWidth();for(var v=0;v<k.count||0;v++){PI.push(Id({bandWidth:Z,axisKey:cc,stackId:KN+v},k))}var WH=Cr(PI,Z2);var e=[];for(var v=0;v<k.count;v++){var eF=WH[cc][KN+v];eF.offsetCenter=eF.offset+eF.width/2;e.push(eF)}return e}function AB(e,i){var Z=PK(e,function(eH){var v=eH.getData();var XY=eH.coordinateSystem;var eF=XY.getBaseAxis();var Z2=eF.getExtent();var k=eF.type==="category"?eF.getBandWidth():(Math.abs(Z2[1]-Z2[0])/v.count());var PI=OC(eH.get("barWidth"),k);var cc=OC(eH.get("barMaxWidth"),k);var WH=eH.get("barGap");var eG=eH.get("barCategoryGap");return{bandWidth:k,barWidth:PI,barMaxWidth:cc,barGap:WH,barCategoryGap:eG,axisKey:Zb(eF),stackId:UJ(eH)}});return Cr(Z,i)}function Cr(e,k){var i={};Dc(e,function(Z2,XY){var eJ=Z2.axisKey;var v=Z2.bandWidth;var eH=i[eJ]||{bandWidth:v,remainedWidth:v,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}};var eF=eH.stacks;i[eJ]=eH;var cc=Z2.stackId;if(!eF[cc]){eH.autoWidthCount++}eF[cc]=eF[cc]||{width:0,maxWidth:0};var WH=Z2.barWidth;if(WH&&!eF[cc].width){eF[cc].width=WH;WH=Math.min(eH.remainedWidth,WH);eH.remainedWidth-=WH}var PI=Z2.barMaxWidth;PI&&(eF[cc].maxWidth=PI);var eG=Z2.barGap;(eG!=null)&&(eH.gap=eG);var eI=Z2.barCategoryGap;(eI!=null)&&(eH.categoryGap=eI)});var Z={};Dc(i,function(eH,WH){Z[WH]={};var eF=eH.stacks;var v=eH.bandWidth;var XY=OC(eH.categoryGap,v);var PI=OC(eH.gap,1);var Z2=eH.remainedWidth;var cc=eH.autoWidthCount;var eJ=(Z2-XY)/(cc+(cc-1)*PI);eJ=Math.max(eJ,0);Dc(eF,function(eN,eL){var eM=eN.maxWidth;if(eM&&eM<eJ){eM=Math.min(eM,Z2);if(eN.width){eM=Math.min(eM,eN.width)}Z2-=eM;eN.width=eM;cc--}});eJ=(Z2-XY)/(cc+(cc-1)*PI);eJ=Math.max(eJ,0);var eI=0;var eK;Dc(eF,function(eM,eL){if(!eM.width){eM.width=eJ}eK=eM;eI+=eM.width*(1+PI)});if(eK){eI-=eK.width*PI}var eG=-eI/2;Dc(eF,function(eM,eL){Z[WH][eL]=Z[WH][eL]||{offset:eG,width:eM.width};eG+=eM.width*(1+PI)})});return Z}function Sx(k,e,v){var PI=AB(Zs(e.getSeriesByType(k),function(WH){return !e.isSeriesFiltered(WH)&&WH.coordinateSystem&&WH.coordinateSystem.type==="cartesian2d"}));var Z={};var i={};e.eachSeriesByType(k,function(eN){if(eN.coordinateSystem.type!=="cartesian2d"){return}var cc=eN.getData();var eH=eN.coordinateSystem;var eL=eH.getBaseAxis();var eJ=UJ(eN);var eI=PI[Zb(eL)][eJ];var eM=eI.offset;var eF=eI.width;var WH=eH.getOtherAxis(eL);var XY=eN.get("barMinHeight")||0;var Z2=eL.onZero?WH.toGlobalCoord(WH.dataToCoord(0)):WH.getGlobalExtent()[0];var eG=[eN.coordDimToDataDim("x")[0],eN.coordDimToDataDim("y")[0]];var eK=cc.mapArray(eG,function(eO,eP){return eH.dataToPoint([eO,eP])},true);Z[eJ]=Z[eJ]||[];i[eJ]=i[eJ]||[];cc.setLayout({offset:eM,size:eF});cc.each(eN.coordDimToDataDim(WH.dim)[0],function(eR,eP){if(isNaN(eR)){return}if(!Z[eJ][eP]){Z[eJ][eP]={p:Z2,n:Z2};i[eJ][eP]={p:Z2,n:Z2}}var eX=eR>=0?"p":"n";var eS=eK[eP];var eU=Z[eJ][eP][eX];var eQ=i[eJ][eP][eX];var eV;var eW;var eT;var eO;if(WH.isHorizontal()){eV=eU;eW=eS[1]+eM;eT=eS[0]-eQ;eO=eF;i[eJ][eP][eX]+=eT;if(Math.abs(eT)<XY){eT=(eT<0?-1:1)*XY}Z[eJ][eP][eX]+=eT}else{eV=eS[0]+eM;eW=eU;eT=eF;eO=eS[1]-eQ;i[eJ][eP][eX]+=eO;if(Math.abs(eO)<XY){eO=(eO<=0?-1:1)*XY}Z[eJ][eP][eX]+=eO}cc.setItemLayout(eP,{x:eV,y:eW,width:eT,height:eO})},true)},this)}Sx.getLayoutOnAxis=Mx;var dL=RY.extend({type:"series.__base_bar__",getInitialData:function(Z,e){return Um(Z.data,this,e)},getMarkerPosition:function(v){var k=this.coordinateSystem;if(k){var i=k.dataToPoint(v,true);var WH=this.getData();var e=WH.getLayout("offset");var Z=WH.getLayout("size");var PI=k.getBaseAxis().isHorizontal()?0:1;i[PI]+=e+Z/2;return i}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,barMinHeight:0,barMinAngle:0,itemStyle:{}}});dL.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect"});function aL(v,e,Z,i,Z2,PI,XY){var k=Z.getModel("label.normal");var WH=Z.getModel("label.emphasis");Ha(v,e,k,WH,{labelFetcher:Z2,labelDataIndex:PI,defaultText:Z2.getRawValue(PI),isRectText:true,autoColor:i});GX(v);GX(e)}function GX(e,Z){if(e.textPosition==="outside"){e.textPosition=Z}}var Ei=CS([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);var aX={getBarItemStyle:function(e){var Z=Ei(this,e);if(this.getBorderLineDash){var i=this.getBorderLineDash();i&&(Z.lineDash=i)}return Z}};var Zy=["itemStyle","normal","barBorderWidth"];V8(dc.prototype,aX);WQ({type:"bar",render:function(Z,i,k){var e=Z.get("coordinateSystem");if(e==="cartesian2d"||e==="polar"){this._render(Z,i,k)}else{if(Vo){console.warn("Only cartesian2d and polar supported for bar.")}}return this.group},dispose:ed,_render:function(cc,Z,Z2){var v=this.group;var e=cc.getData();var i=this._data;var PI=cc.coordinateSystem;var XY=PI.getBaseAxis();var WH;if(PI.type==="cartesian2d"){WH=XY.isHorizontal()}else{if(PI.type==="polar"){WH=XY.dim==="angle"}}var k=cc.isAnimationEnabled()?cc:null;e.diff(i).add(function(eG){if(!e.hasValue(eG)){return}var eH=e.getItemModel(eG);var eI=M4[PI.type](e,eG,eH);var eF=Y6[PI.type](e,eG,eH,eI,WH,k);e.setItemGraphicEl(eG,eF);v.add(eF);Nd(eF,e,eG,eH,eI,cc,WH,PI.type==="polar")}).update(function(eJ,eH){var eF=i.getItemGraphicEl(eH);if(!e.hasValue(eJ)){v.remove(eF);return}var eG=e.getItemModel(eJ);var eI=M4[PI.type](e,eJ,eG);if(eF){Pr(eF,{shape:eI},k,eJ)}else{eF=Y6[PI.type](e,eJ,eG,eI,WH,k,true)}e.setItemGraphicEl(eJ,eF);v.add(eF);Nd(eF,e,eJ,eG,eI,cc,WH,PI.type==="polar")}).remove(function(eG){var eF=i.getItemGraphicEl(eG);if(PI.type==="cartesian2d"){eF&&Yc(eG,k,eF)}else{eF&&LX(eG,k,eF)}}).execute();this._data=e},remove:function(e,i){var Z=this.group;var k=this._data;if(e.get("animation")){if(k){k.eachItemGraphicEl(function(v){if(v.type==="sector"){LX(v.dataIndex,e,v)}else{Yc(v.dataIndex,e,v)}})}}else{Z.removeAll()}}});var Y6={cartesian2d:function(k,Z2,e,WH,i,PI,eF){var v=new BI({shape:V8({},WH)});if(PI){var cc=v.shape;var XY=i?"height":"width";var Z={};cc[XY]=0;Z[XY]=WH[XY];RZ[eF?"updateProps":"initProps"](v,{shape:Z},PI,Z2)}return v},polar:function(i,XY,Z,PI,k,v,eF){var Z2=new KS({shape:V8({},PI)});if(v){var cc=Z2.shape;var WH=k?"r":"endAngle";var e={};cc[WH]=k?0:PI.startAngle;e[WH]=PI[WH];RZ[eF?"updateProps":"initProps"](Z2,{shape:e},v,XY)}return Z2}};function Yc(e,i,Z){Z.style.text=null;Pr(Z,{shape:{width:0}},i,e,function(){Z.parent&&Z.parent.remove(Z)})}function LX(e,i,Z){Z.style.text=null;Pr(Z,{shape:{r:Z.shape.r0}},i,e,function(){Z.parent&&Z.parent.remove(Z)})}var M4={cartesian2d:function(WH,Z,e){var v=WH.getItemLayout(Z);var PI=DL(e,v);var i=v.width>0?1:-1;var k=v.height>0?1:-1;return{x:v.x+i*PI/2,y:v.y+k*PI/2,width:v.width-i*PI,height:v.height-k*PI}},polar:function(k,Z,e){var i=k.getItemLayout(Z);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle}}};function Nd(Z2,v,eG,i,cc,eI,k,e){var PI=v.getItemVisual(eG,"color");var WH=v.getItemVisual(eG,"opacity");var XY=i.getModel("itemStyle.normal");var eF=i.getModel("itemStyle.emphasis").getBarItemStyle();if(!e){Z2.setShape("r",XY.get("barBorderRadius")||0)}Z2.useStyle(Id({fill:PI,opacity:WH},XY.getBarItemStyle()));var Z=i.getShallow("cursor");Z&&Z2.attr("cursor",Z);var eH=k?(cc.height>0?"bottom":"top"):(cc.width>0?"left":"right");if(!e){aL(Z2.style,eF,i,PI,eI,eG,eH)}Ne(Z2,eF)}function DL(Z,i){var e=Z.get(Zy)||0;return Math.min(e,Math.abs(i.width),Math.abs(i.height))}el(aT(Sx,"bar"));Ai(function(Z){Z.eachSeriesByType("bar",function(e){var i=e.getData();i.setVisual("legendSymbol","roundRect")})});var PO={updateSelectedMap:function(Z){this._targetList=Z.slice();this._selectTargetMap=EB(Z||[],function(e,i){e.set(i.name,i);return e},EY())},select:function(e,k){var i=k!=null?this._targetList[k]:this._selectTargetMap.get(e);var Z=this.get("selectedMode");if(Z==="single"){this._selectTargetMap.each(function(v){v.selected=false})}i&&(i.selected=true)},unSelect:function(Z,i){var e=i!=null?this._targetList[i]:this._selectTargetMap.get(Z);e&&(e.selected=false)},toggleSelected:function(Z,i){var e=i!=null?this._targetList[i]:this._selectTargetMap.get(Z);if(e!=null){this[e.selected?"unSelect":"select"](Z,i);return e.selected}},isSelected:function(Z,i){var e=i!=null?this._targetList[i]:this._selectTargetMap.get(Z);return e&&e.selected}};var AH=Q6({type:"series.pie",init:function(Z){AH.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()};this.updateSelectedMap(Z.data);this._defaultLabelLine(Z)},mergeOption:function(Z){AH.superCall(this,"mergeOption",Z);this.updateSelectedMap(this.option.data)},getInitialData:function(e,i){var k=B(["value"],e.data);var Z=new Lu(k,this);Z.initData(e.data);return Z},getDataParams:function(Z){var k=this.getData();var i=AH.superCall(this,"getDataParams",Z);var e=[];k.each("value",function(v){e.push(v)});i.percent=FD(e,Z,k.hostModel.get("percentPrecision"));i.$vars.push("percent");return i},_defaultLabelLine:function(Z){V4(Z.labelLine,["show"]);var e=Z.labelLine.normal;var i=Z.labelLine.emphasis;e.show=e.show&&Z.label.normal.show;i.show=i.show&&Z.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:true,hoverAnimation:true,center:["50%","50%"],radius:[0,"75%"],clockwise:true,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:true,percentPrecision:2,stillShowZeroSum:true,label:{normal:{rotate:false,show:true,position:"outer"},emphasis:{}},labelLine:{normal:{show:true,length:15,length2:15,smooth:false,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationType:"expansion",animationEasing:"cubicOut",data:[]}});cq(AH,PO);function PW(k,XY,i,WH){var e=XY.getData();var v=this.dataIndex;var Z=e.getName(v);var PI=XY.get("selectedOffset");WH.dispatchAction({type:"pieToggleSelect",from:k,name:Z,seriesId:XY.id});e.each(function(Z2){Jv(e.getItemGraphicEl(Z2),e.getItemLayout(Z2),XY.isSelected(e.getName(Z2)),PI,i)})}function Jv(i,k,cc,Z2,e){var XY=(k.startAngle+k.endAngle)/2;var WH=Math.cos(XY);var v=Math.sin(XY);var Z=cc?Z2:0;var PI=[WH*Z,v*Z];e?i.animate().when(200,{position:PI}).start("bounceOut"):i.attr("position",PI)}function Jd(WH,v){TD.call(this);var Z=new KS({z2:2});var k=new I3();var i=new FA();this.add(Z);this.add(k);this.add(i);this.updateData(WH,v,true);function PI(){k.ignore=k.hoverIgnore;i.ignore=i.hoverIgnore}function e(){k.ignore=k.normalIgnore;i.ignore=i.normalIgnore}this.on("emphasis",PI).on("normal",e).on("mouseover",PI).on("mouseout",e)}var VC=Jd.prototype;VC.updateData=function(k,PI,v){var WH=this.childAt(0);var eI=k.hostModel;var e=k.getItemModel(PI);var XY=k.getItemLayout(PI);var cc=V8({},XY);cc.label=null;if(v){WH.setShape(cc);var eH=eI.getShallow("animationType");if(eH==="scale"){WH.shape.r=XY.r0;b0(WH,{shape:{r:XY.r}},eI,PI)}else{WH.shape.endAngle=XY.startAngle;Pr(WH,{shape:{endAngle:XY.endAngle}},eI,PI)}}else{Pr(WH,{shape:cc},eI,PI)}var eF=e.getModel("itemStyle");var eG=k.getItemVisual(PI,"color");WH.useStyle(Id({lineJoin:"bevel",fill:eG},eF.getModel("normal").getItemStyle()));WH.hoverStyle=eF.getModel("emphasis").getItemStyle();var Z=e.getShallow("cursor");Z&&WH.attr("cursor",Z);Jv(this,k.getItemLayout(PI),e.get("selected"),eI.get("selectedOffset"),eI.get("animation"));function i(){WH.stopAnimation(true);WH.animateTo({shape:{r:XY.r+eI.get("hoverOffset")}},300,"elasticOut")}function Z2(){WH.stopAnimation(true);WH.animateTo({shape:{r:XY.r}},300,"elasticOut")}WH.off("mouseover").off("mouseout").off("emphasis").off("normal");if(e.get("hoverAnimation")&&eI.isAnimationEnabled()){WH.on("mouseover",i).on("mouseout",Z2).on("emphasis",i).on("normal",Z2)}this._updateLabel(k,PI);Ne(this)};VC._updateLabel=function(v,WH){var e=this.childAt(1);var k=this.childAt(2);var eI=v.hostModel;var i=v.getItemModel(WH);var cc=v.getItemLayout(WH);var PI=cc.label;var eG=v.getItemVisual(WH,"color");Pr(e,{shape:{points:PI.linePoints||[[PI.x,PI.y],[PI.x,PI.y],[PI.x,PI.y]]}},eI,WH);Pr(k,{style:{x:PI.x,y:PI.y}},eI,WH);k.attr({rotation:PI.rotation,origin:[PI.x,PI.y],z2:10});var Z2=i.getModel("label.normal");var XY=i.getModel("label.emphasis");var eH=i.getModel("labelLine.normal");var Z=i.getModel("labelLine.emphasis");var eG=v.getItemVisual(WH,"color");Ha(k.style,k.hoverStyle={},Z2,XY,{labelFetcher:v.hostModel,labelDataIndex:WH,defaultText:v.getName(WH),autoColor:eG,useInsideStyle:!!PI.inside},{textAlign:PI.textAlign,textVerticalAlign:PI.verticalAlign,opacity:v.getItemVisual(WH,"opacity")});k.ignore=k.normalIgnore=!Z2.get("show");k.hoverIgnore=!XY.get("show");e.ignore=e.normalIgnore=!eH.get("show");e.hoverIgnore=!Z.get("show");e.setStyle({stroke:eG,opacity:v.getItemVisual(WH,"opacity")});e.setStyle(eH.getModel("lineStyle").getLineStyle());e.hoverStyle=Z.getModel("lineStyle").getLineStyle();var eF=eH.get("smooth");if(eF&&eF===true){eF=0.4}e.setShape({smooth:eF})};JO(Jd,TD);var Qk=L2.extend({type:"pie",init:function(){var Z=new TD();this._sectorGroup=Z},render:function(eJ,i,eH,k){if(k&&(k.from===this.uid)){return}var v=eJ.getData();var WH=this._data;var Z2=this.group;var XY=i.get("animation");var eF=!WH;var eI=eJ.get("animationType");var eG=aT(PW,this.uid,eJ,XY,eH);var e=eJ.get("selectedMode");v.diff(WH).add(function(eK){var eL=new Jd(v,eK);if(eF&&eI!=="scale"){eL.eachChild(function(eM){eM.stopAnimation(true)})}e&&eL.on("click",eG);v.setItemGraphicEl(eK,eL);Z2.add(eL)}).update(function(eK,eL){var eM=WH.getItemGraphicEl(eL);eM.updateData(v,eK);eM.off("click");e&&eM.on("click",eG);Z2.add(eM);v.setItemGraphicEl(eK,eM)}).remove(function(eK){var eL=WH.getItemGraphicEl(eK);Z2.remove(eL)}).execute();if(XY&&eF&&v.count()>0&&eI!=="scale"){var Z=v.getItemLayout(0);var PI=Math.max(eH.getWidth(),eH.getHeight())/2;var cc=b3(Z2.removeClipPath,Z2);Z2.setClipPath(this._createClipPath(Z.cx,Z.cy,PI,Z.startAngle,Z.clockwise,cc,eJ))}this._data=v},dispose:function(){},_createClipPath:function(PI,k,Z,XY,i,e,v){var WH=new KS({shape:{cx:PI,cy:k,r0:0,r:Z,startAngle:XY,endAngle:XY,clockwise:i}});b0(WH,{shape:{endAngle:XY+(i?1:-1)*Math.PI*2}},v,e);return WH},containPoint:function(e,Z){var WH=Z.getData();var PI=WH.getItemLayout(0);if(PI){var i=e[0]-PI.cx;var v=e[1]-PI.cy;var k=Math.sqrt(i*i+v*v);return k<=PI.r&&k>=PI.r0}}});var D3=function(e,Z){Dc(Z,function(i){i.update="updateView";R0(i,function(v,k){var PI={};k.eachComponent({mainType:"series",subType:e,query:v},function(WH){if(WH[i.method]){WH[i.method](v.name,v.dataIndex)}var XY=WH.getData();XY.each(function(cc){var Z2=XY.getName(cc);PI[Z2]=WH.isSelected(Z2)||false})});return{name:v.name,selected:PI}})})};var bn=function(e,Z){var i={};Z.eachRawSeriesByType(e,function(k){var v=k.getRawData();var PI={};if(!Z.isSeriesFiltered(k)){var WH=k.getData();WH.each(function(Z2){var XY=WH.getRawIndex(Z2);PI[XY]=Z2});v.each(function(XY){var eF=PI[XY];var cc=eF!=null&&WH.getItemVisual(eF,"color",true);if(!cc){var Z2=v.getItemModel(XY);var eG=Z2.get("itemStyle.normal.color")||k.getColorFromPalette(v.getName(XY),i);v.setItemVisual(XY,"color",eG);if(eF!=null){WH.setItemVisual(eF,"color",eG)}}else{v.setItemVisual(XY,"color",cc)}})}})};function Fv(v,Z2,XY,Z,k,eF,eL){v.sort(function(eM,i){return eM.y-i.y});function eH(eO,eN,eM,i){for(var eP=eO;eP<eN;eP++){v[eP].y+=eM;if(eP>eO&&eP+1<eN&&v[eP+1].y>v[eP].y+v[eP].height){WH(eP,eM/2);return}}WH(eN-1,eM/2)}function WH(eM,i){for(var eN=eM;eN>=0;eN--){v[eN].y-=i;if(eN>0&&v[eN].y>v[eN-1].y+v[eN-1].height){break}}}function eG(eP,eV,eT,eR,eM,eO){var eQ=eO>0?eV?Number.MAX_VALUE:0:eV?Number.MAX_VALUE:0;for(var eU=0,eW=eP.length;eU<eW;eU++){if(eP[eU].position==="center"){continue}var eN=Math.abs(eP[eU].y-eR);var eS=eP[eU].len;var eX=eP[eU].len2;var eY=(eN<eM+eS)?Math.sqrt((eM+eS+eX)*(eM+eS+eX)-eN*eN):Math.abs(eP[eU].x-eT);if(eV&&eY>=eQ){eY=eQ-10}if(!eV&&eY<=eQ){eY=eQ+10}eP[eU].x=eT+eY*eO;eQ=eY}}var eJ=0;var eI;var e=v.length;var cc=[];var PI=[];for(var eK=0;eK<e;eK++){eI=v[eK].y-eJ;if(eI<0){eH(eK,e,-eI,k)}eJ=v[eK].y+v[eK].height}if(eL-eJ<0){WH(e-1,eJ-eL)}for(var eK=0;eK<e;eK++){if(v[eK].y>=XY){PI.push(v[eK])}else{cc.push(v[eK])}}eG(cc,false,Z2,XY,Z,k);eG(PI,true,Z2,XY,Z,k)}function Ig(e,PI,k,Z,XY,eG){var eF=[];var WH=[];for(var cc=0;cc<e.length;cc++){if(e[cc].x<PI){eF.push(e[cc])}else{WH.push(e[cc])}}Fv(WH,PI,k,Z,1,XY,eG);Fv(eF,PI,k,Z,-1,XY,eG);for(var cc=0;cc<e.length;cc++){var v=e[cc].linePoints;if(v){var Z2=v[1][0]-v[2][0];if(e[cc].x<PI){v[2][0]=e[cc].x+3}else{v[2][0]=e[cc].x-3}v[1][1]=v[2][1]=e[cc].y;v[1][0]=v[2][0]+Z2}}}var F2=function(Z2,Z,PI,XY){var i=Z2.getData();var e=[];var v;var k;var WH=false;i.each(function(e0){var eM=i.getItemLayout(e0);var eI=i.getItemModel(e0);var eF=eI.getModel("label.normal");var cc=eF.get("position")||eI.get("label.emphasis.position");var eX=eI.getModel("labelLine.normal");var eV=eX.get("length");var eR=eX.get("length2");var eZ=(eM.startAngle+eM.endAngle)/2;var eK=Math.cos(eZ);var eU=Math.sin(eZ);var eY;var eS;var eJ;var eN;v=eM.cx;k=eM.cy;var eL=cc==="inside"||cc==="inner";if(cc==="center"){eY=eM.cx;eS=eM.cy;eN="center"}else{var eH=(eL?(eM.r+eM.r0)/2*eK:eM.r*eK)+v;var eW=(eL?(eM.r+eM.r0)/2*eU:eM.r*eU)+k;eY=eH+eK*3;eS=eW+eU*3;if(!eL){var e1=eH+eK*(eV+Z-eM.r);var e2=eW+eU*(eV+Z-eM.r);var eT=e1+((eK<0?-1:1)*eR);var eO=e2;eY=eT+(eK<0?-5:5);eS=eO;eJ=[[eH,eW],[e1,e2],[eT,eO]]}eN=eL?"center":(eK>0?"left":"right")}var e3=eF.getFont();var eG=eF.get("rotate")?(eK<0?-eZ+Math.PI:-eZ):0;var eQ=Z2.getFormattedLabel(e0,"normal")||i.getName(e0);var eP=Hv(eQ,e3,eN,"top");WH=!!eG;eM.label={x:eY,y:eS,position:cc,height:eP.height,len:eV,len2:eR,linePoints:eJ,textAlign:eN,verticalAlign:"middle",rotation:eG,inside:eL};if(!eL){e.push(eM.label)}});if(!WH&&Z2.get("avoidLabelOverlap")){Ig(e,v,k,Z,PI,XY)}};var Ch=Math.PI*2;var dY=Math.PI/180;var My=function(i,Z,k,e){Z.eachSeriesByType(i,function(eG){var eW=eG.get("center");var cc=eG.get("radius");if(!aO(cc)){cc=[0,cc]}if(!aO(eW)){eW=[eW,eW]}var eO=k.getWidth();var eV=k.getHeight();var Z2=Math.min(eO,eV);var XY=OC(eW[0],eO);var eP=OC(eW[1],eV);var eK=OC(cc[0],Z2/2);var v=OC(cc[1],Z2/2);var eT=eG.getData();var eI=-eG.get("startAngle")*dY;var eR=eG.get("minAngle")*dY;var PI=0;eT.each("value",function(eY){!isNaN(eY)&&PI++});var eJ=eT.getSum("value");var eH=Math.PI/(eJ||PI)*2;var WH=eG.get("clockwise");var eU=eG.get("roseType");var eN=eG.get("stillShowZeroSum");var eQ=eT.getDataExtent("value");eQ[0]=0;var eS=Ch;var eF=0;var eM=eI;var eL=WH?1:-1;eT.each("value",function(e0,eZ){var e1;if(isNaN(e0)){eT.setItemLayout(eZ,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:WH,cx:XY,cy:eP,r0:eK,r:eU?NaN:v});return}if(eU!=="area"){e1=(eJ===0&&eN)?eH:(e0*eH)}else{e1=Ch/PI}if(e1<eR){e1=eR;eS-=eR}else{eF+=e0}var eY=eM+eL*e1;eT.setItemLayout(eZ,{angle:e1,startAngle:eM,endAngle:eY,clockwise:WH,cx:XY,cy:eP,r0:eK,r:eU?WL(e0,eQ,[eK,v]):v});eM=eY},true);if(eS<Ch&&PI){if(eS<=0.001){var eX=Ch/PI;eT.each("value",function(eZ,eY){if(!isNaN(eZ)){var e0=eT.getItemLayout(eY);e0.angle=eX;e0.startAngle=eI+eL*eY*eX;e0.endAngle=eI+eL*(eY+1)*eX}})}else{eH=eS/eF;eM=eI;eT.each("value",function(e0,eY){if(!isNaN(e0)){var e1=eT.getItemLayout(eY);var eZ=e1.angle===eR?eR:e0*eH;e1.startAngle=eM;e1.endAngle=eM+eL*eZ;eM+=eL*eZ}})}}F2(eG,v,eO,eV)})};var En=function(e,Z){var i=Z.findComponents({mainType:"legend"});if(!i||!i.length){return}Z.eachSeriesByType(e,function(k){var v=k.getData();v.filterSelf(function(XY){var WH=v.getName(XY);for(var PI=0;PI<i.length;PI++){if(!i[PI].isSelected(WH)){return false}}return true},this)},this)};D3("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]);Ai(aT(bn,"pie"));el(aT(My,"pie"));bI(aT(En,"pie"));RY.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(Z,e){return Um(Z.data,this,e)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:true,hoverAnimation:true,symbolSize:10,large:false,largeThreshold:2000,itemStyle:{normal:{opacity:0.8}}}});var bB=B6({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(Z2,e){var cc=e.points;var WH=e.sizes;var k=this.symbolProxy;var PI=k.shape;for(var XY=0;XY<cc.length;XY++){var Z=cc[XY];if(isNaN(Z[0])||isNaN(Z[1])){continue}var v=WH[XY];if(v[0]<4){Z2.rect(Z[0]-v[0]/2,Z[1]-v[1]/2,v[0],v[1])}else{PI.x=Z[0]-v[0]/2;PI.y=Z[1]-v[1]/2;PI.width=v[0];PI.height=v[1];k.buildPath(Z2,PI,true)}}},findDataIndex:function(cc,eF){var k=this.shape;var e=k.points;var Z2=k.sizes;for(var XY=e.length-1;XY>=0;XY--){var Z=e[XY];var WH=Z2[XY];var v=Z[0]-WH[0]/2;var PI=Z[1]-WH[1]/2;if(cc>=v&&eF>=PI&&cc<=v+WH[0]&&eF<=PI+WH[1]){return XY}}return -1}});function RT(){this.group=new TD();this._symbolEl=new bB({})}var Fo=RT.prototype;Fo.updateData=function(k){this.group.removeAll();var i=this._symbolEl;var Z=k.hostModel;i.setShape({points:k.mapArray(k.getItemLayout),sizes:k.mapArray(function(PI){var v=k.getItemVisual(PI,"symbolSize");if(!(v instanceof Array)){v=[v,v]}return v})});i.symbolProxy=Fq(k.getVisual("symbol"),0,0,0,0);i.setColor=i.symbolProxy.setColor;i.useStyle(Z.getModel("itemStyle.normal").getItemStyle(["color"]));var e=k.getVisual("color");if(e){i.setColor(e)}i.seriesIndex=Z.seriesIndex;i.on("mousemove",function(PI){i.dataIndex=null;var v=i.findDataIndex(PI.offsetX,PI.offsetY);if(v>=0){i.dataIndex=v}});this.group.add(i)};Fo.updateLayout=function(Z){var e=Z.getData();this._symbolEl.setShape({points:e.mapArray(e.getItemLayout)})};Fo.remove=function(){this.group.removeAll()};WQ({type:"scatter",init:function(){this._normalSymbolDraw=new eb();this._largeSymbolDraw=new RT()},render:function(XY,Z,WH){var e=XY.getData();var v=this._largeSymbolDraw;var i=this._normalSymbolDraw;var k=this.group;var PI=XY.get("large")&&e.count()>XY.get("largeThreshold")?v:i;this._symbolDraw=PI;PI.updateData(e);k.add(PI.group);k.remove(PI===v?i.group:v.group)},updateLayout:function(Z){this._symbolDraw.updateLayout(Z)},remove:function(Z,e){this._symbolDraw&&this._symbolDraw.remove(e,true)},dispose:function(){}});Ai(aT(Qz,"scatter","circle",null));el(aT(F,"scatter"));function Gh(e,i,Z){T1.call(this,e,i,Z);this.type="value";this.angle=0;this.name="";this.model}JO(Gh,T1);function Ir(e,Z,i){this._model=e;this.dimensions=[];this._indicatorAxes=PK(e.getIndicatorModels(),function(WH,PI){var v="indicator_"+PI;var k=new Gh(v,new JG());k.name=WH.get("name");k.model=WH;WH.axis=k;this.dimensions.push(v);return k},this);this.resize(e,i);this.cx;this.cy;this.r;this.startAngle}Ir.prototype.getIndicatorAxes=function(){return this._indicatorAxes};Ir.prototype.dataToPoint=function(e,i){var Z=this._indicatorAxes[i];return this.coordToPoint(Z.dataToCoord(e),i)};Ir.prototype.coordToPoint=function(e,v){var Z=this._indicatorAxes[v];var PI=Z.angle;var i=this.cx+e*Math.cos(PI);var k=this.cy-e*Math.sin(PI);return[i,k]};Ir.prototype.pointToData=function(Z){var cc=Z[0]-this.cx;var WH=Z[1]-this.cy;var XY=Math.sqrt(cc*cc+WH*WH);cc/=XY;WH/=XY;var v=Math.atan2(-WH,cc);var e=Infinity;var eG;var eF=-1;for(var PI=0;PI<this._indicatorAxes.length;PI++){var Z2=this._indicatorAxes[PI];var k=Math.abs(v-Z2.angle);if(k<e){eG=Z2;eF=PI;e=k}}return[eF,+(eG&&eG.coodToData(XY))]};Ir.prototype.resize=function(v,PI){var e=v.get("center");var k=PI.getWidth();var Z=PI.getHeight();var i=Math.min(k,Z)/2;this.cx=OC(e[0],k);this.cy=OC(e[1],Z);this.startAngle=v.get("startAngle")*Math.PI/180;this.r=OC(v.get("radius"),i);Dc(this._indicatorAxes,function(WH,XY){WH.setExtent(0,this.r);var Z2=(this.startAngle+XY*Math.PI*2/this._indicatorAxes.length);Z2=Math.atan2(Math.sin(Z2),Math.cos(Z2));WH.angle=Z2},this)};Ir.prototype.update=function(e,PI){var Z=this._indicatorAxes;var i=this._model;Dc(Z,function(WH){WH.scale.setExtent(Infinity,-Infinity)});e.eachSeriesByType("radar",function(WH,XY){if(WH.get("coordinateSystem")!=="radar"||e.getComponent("radar",WH.get("radarIndex"))!==i){return}var Z2=WH.getData();Dc(Z,function(cc){cc.scale.unionExtentFromData(Z2,cc.dim)})},this);var k=i.get("splitNumber");function v(WH){var XY=Math.pow(10,Math.floor(Math.log(WH)/Math.LN10));var Z2=WH/XY;if(Z2===2){Z2=5}else{Z2*=2}return Z2*XY}Dc(Z,function(XY,eH){var WH=QJ(XY.scale,XY.model);U0(XY.scale,XY.model);var eF=XY.model;var cc=XY.scale;var eM=eF.getMin();var eJ=eF.getMax();var eK=cc.getInterval();if(eM!=null&&eJ!=null){cc.setExtent(+eM,+eJ);cc.setInterval((eJ-eM)/k)}else{if(eM!=null){var eN;do{eN=eM+eK*k;cc.setExtent(+eM,eN);cc.setInterval(eK);eK=v(eK)}while(eN<WH[1]&&isFinite(eN)&&isFinite(WH[1]))}else{if(eJ!=null){var Z2;do{Z2=eJ-eK*k;cc.setExtent(Z2,+eJ);cc.setInterval(eK);eK=v(eK)}while(Z2>WH[0]&&isFinite(Z2)&&isFinite(WH[0]))}else{var eG=cc.getTicks().length-1;if(eG>k){eK=v(eK)}var eL=Math.round((WH[0]+WH[1])/2/eK)*eK;var eI=Math.round(k/2);cc.setExtent(eA(eL-eI*eK),eA(eL+(k-eI)*eK));cc.setInterval(eK)}}}})};Ir.dimensions=[];Ir.create=function(e,i){var Z=[];e.eachComponent("radar",function(k){var v=new Ir(k,e,i);Z.push(v);k.coordinateSystem=v});e.eachSeriesByType("radar",function(k){if(k.get("coordinateSystem")==="radar"){k.coordinateSystem=Z[k.get("radarIndex")||0]}});return Z};Ql.register("radar",Ir);var Ux=bg.valueAxis;function F7(Z,e){return Id({show:e},Z)}var L5=GV({type:"radar",optionUpdated:function(){var PI=this.get("boundaryGap");var XY=this.get("splitNumber");var e=this.get("scale");var cc=this.get("axisLine");var k=this.get("axisTick");var v=this.get("axisLabel");var Z=this.get("name");var Z2=this.get("name.show");var i=this.get("name.formatter");var eF=this.get("nameGap");var eG=this.get("triggerEvent");var WH=PK(this.get("indicator")||[],function(eH){if(eH.max!=null&&eH.max>0&&!eH.min){eH.min=0}else{if(eH.min!=null&&eH.min<0&&!eH.max){eH.max=0}}var eJ=Z;if(eH.color!=null){eJ=Id({color:eH.color},Z)}eH=KT(dp(eH),{boundaryGap:PI,splitNumber:XY,scale:e,axisLine:cc,axisTick:k,axisLabel:v,name:eH.text,nameLocation:"end",nameGap:eF,nameTextStyle:eJ,triggerEvent:eG},false);if(!Z2){eH.name=""}if(typeof i==="string"){var eI=eH.name;eH.name=i.replace("{value}",eI!=null?eI:"")}else{if(typeof i==="function"){eH.name=i(eH.name,eH)}}var eK=V8(new dc(eH,null,this.ecModel),Lz);eK.mainType="radar";eK.componentIndex=this.componentIndex;return eK},this);this.getIndicatorModels=function(){return WH}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:true},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:false,shape:"polygon",axisLine:KT({lineStyle:{color:"#bbb"}},Ux.axisLine),axisLabel:F7(Ux.axisLabel,false),axisTick:F7(Ux.axisTick,false),splitLine:F7(Ux.splitLine,true),splitArea:F7(Ux.splitArea,true),indicator:[]}});var Di=["axisLine","axisTickLabel","axisName"];bX({type:"radar",render:function(i,e,k){var Z=this.group;Z.removeAll();this._buildAxes(i);this._buildSplitLineAndArea(i)},_buildAxes:function(i){var k=i.coordinateSystem;var e=k.getIndicatorAxes();var Z=PK(e,function(v){var PI=new W8(v.model,{position:[k.cx,k.cy],rotation:v.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return PI});Dc(Z,function(v){Dc(Di,v.add,v);this.group.add(v.getGroup())},this)},_buildSplitLineAndArea:function(eV){var Z=eV.coordinateSystem;var eL=Z.getIndicatorAxes();if(!eL.length){return}var eK=eV.get("shape");var eF=eV.getModel("splitLine");var eS=eV.getModel("splitArea");var e=eF.getModel("lineStyle");var eR=eS.getModel("areaStyle");var eU=eF.get("show");var eT=eS.get("show");var k=e.get("color");var eM=eR.get("color");k=aO(k)?k:[k];eM=aO(eM)?eM:[eM];var WH=[];var eO=[];function eP(i,eX,eY){var eZ=eY%eX.length;i[eZ]=i[eZ]||[];return eZ}if(eK==="circle"){var v=eL[0].getTicksCoords();var XY=Z.cx;var eQ=Z.cy;for(var cc=0;cc<v.length;cc++){if(eU){var eH=eP(WH,k,cc);WH[eH].push(new aA({shape:{cx:XY,cy:eQ,r:v[cc]}}))}if(eT&&cc<v.length-1){var eH=eP(eO,eM,cc);eO[eH].push(new OO({shape:{cx:XY,cy:eQ,r0:v[cc],r:v[cc+1]}}))}}}else{var eI;var Z2=PK(eL,function(i,eY){var eX=i.getTicksCoords();eI=eI==null?eX.length-1:Math.min(eX.length-1,eI);return PK(eX,function(eZ){return Z.coordToPoint(eZ,eY)})});var eW=[];for(var cc=0;cc<=eI;cc++){var eN=[];for(var eJ=0;eJ<eL.length;eJ++){eN.push(Z2[eJ][cc])}if(eN[0]){eN.push(eN[0].slice())}else{if(Vo){console.error("Can't draw value axis "+cc)}}if(eU){var eH=eP(WH,k,cc);WH[eH].push(new I3({shape:{points:eN}}))}if(eT&&eW){var eH=eP(eO,eM,cc-1);eO[eH].push(new GN({shape:{points:eN.concat(eW)}}))}eW=eN.slice().reverse()}}var eG=e.getLineStyle();var PI=eR.getAreaStyle();Dc(eO,function(eX,i){this.group.add(Hu(eX,{style:Id({stroke:"none",fill:eM[i%eM.length]},PI),silent:true}))},this);Dc(WH,function(eX,i){this.group.add(Hu(eX,{style:Id({fill:"none",stroke:k[i%k.length]},eG),silent:true}))},this)}});var Nn=RY.extend({type:"series.radar",dependencies:["radar"],init:function(Z){Nn.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(e,i){var v=e.data||[];var k=B([],v,{extraPrefix:"indicator_",extraFromZero:true});var Z=new Lu(k,this);Z.initData(v);return Z},formatTooltip:function(Z){var v=this.getRawValue(Z);var i=this.coordinateSystem;var e=i.getIndicatorAxes();var k=this.getData().getName(Z);return Pp(k===""?this.name:k)+"<br/>"+PK(e,function(WH,PI){return Pp(WH.name+" : "+v[PI])}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:true,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}});function GA(Z){if(!aO(Z)){Z=[+Z,+Z]}return Z}WQ({type:"radar",render:function(cc,i,Z2){var e=cc.coordinateSystem;var XY=this.group;var k=cc.getData();var v=this._data;function PI(eK,eH){var eF=eK.getItemVisual(eH,"symbol")||"circle";var eJ=eK.getItemVisual(eH,"color");if(eF==="none"){return}var eI=GA(eK.getItemVisual(eH,"symbolSize"));var eG=Fq(eF,-1,-1,2,2,eJ);eG.attr({style:{strokeNoScale:true},z2:100,scale:[eI[0]/2,eI[1]/2]});return eG}function WH(eL,eI,eM,eH,eJ,eG){eM.removeAll();for(var eK=0;eK<eI.length-1;eK++){var eF=PI(eH,eJ);if(eF){eF.__dimIdx=eK;if(eL[eK]){eF.attr("position",eL[eK]);RZ[eG?"initProps":"updateProps"](eF,{position:eI[eK]},cc,eJ)}else{eF.attr("position",eI[eK])}eM.add(eF)}}}function Z(eF){return PK(eF,function(eG){return[e.cx,e.cy]})}k.diff(v).add(function(eJ){var eH=k.getItemLayout(eJ);if(!eH){return}var eK=new GN();var eI=new I3();var eG={shape:{points:eH}};eK.shape.points=Z(eH);eI.shape.points=Z(eH);b0(eK,eG,cc,eJ);b0(eI,eG,cc,eJ);var eF=new TD();var eL=new TD();eF.add(eI);eF.add(eK);eF.add(eL);WH(eI.shape.points,eH,eL,k,eJ,true);k.setItemGraphicEl(eJ,eF)}).update(function(eG,eI){var eL=v.getItemGraphicEl(eI);var eJ=eL.childAt(0);var eF=eL.childAt(1);var eK=eL.childAt(2);var eH={shape:{points:k.getItemLayout(eG)}};if(!eH.shape.points){return}WH(eJ.shape.points,eH.shape.points,eK,k,eG,false);Pr(eJ,eH,cc);Pr(eF,eH,cc);k.setItemGraphicEl(eG,eL)}).remove(function(eF){XY.remove(v.getItemGraphicEl(eF))}).execute();k.eachItemGraphicEl(function(eR,eV){var eH=k.getItemModel(eV);var eP=eR.childAt(0);var eJ=eR.childAt(1);var eN=eR.childAt(2);var eG=k.getItemVisual(eV,"color");XY.add(eR);eP.useStyle(Id(eH.getModel("lineStyle.normal").getLineStyle(),{fill:"none",stroke:eG}));eP.hoverStyle=eH.getModel("lineStyle.emphasis").getLineStyle();var eI=eH.getModel("areaStyle.normal");var eM=eH.getModel("areaStyle.emphasis");var eT=eI.isEmpty()&&eI.parentModel.isEmpty();var eQ=eM.isEmpty()&&eM.parentModel.isEmpty();eQ=eQ&&eT;eJ.ignore=eT;eJ.useStyle(Id(eI.getAreaStyle(),{fill:eG,opacity:0.7}));eJ.hoverStyle=eM.getAreaStyle();var eU=eH.getModel("itemStyle.normal").getItemStyle(["color"]);var eS=eH.getModel("itemStyle.emphasis").getItemStyle();var eF=eH.getModel("label.normal");var eO=eH.getModel("label.emphasis");eN.eachChild(function(eW){eW.setStyle(eU);eW.hoverStyle=dp(eS);Ha(eW.style,eW.hoverStyle,eF,eO,{labelFetcher:k.hostModel,labelDataIndex:eV,labelDimIndex:eW.__dimIdx,defaultText:k.get(k.dimensions[eW.__dimIdx],eV),autoColor:eG,isRectText:true})});function eK(){eJ.attr("ignore",eQ)}function eL(){eJ.attr("ignore",eT)}eR.off("mouseover").off("mouseout").off("normal").off("emphasis");eR.on("emphasis",eK).on("mouseover",eK).on("normal",eL).on("mouseout",eL);Ne(eR)});this._data=k},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}});var Pg=function(Z){Z.eachSeriesByType("radar",function(e){var Z2=e.getData();var PI=[];var v=e.coordinateSystem;if(!v){return}function XY(cc,i){PI[i]=PI[i]||[];PI[i][k]=v.dataToPoint(cc,k)}for(var k=0;k<v.getIndicatorAxes().length;k++){var WH=Z2.dimensions[k];Z2.each(WH,XY)}Z2.each(function(i){PI[i][0]&&PI[i].push(PI[i][0].slice());Z2.setItemLayout(i,PI[i])})})};var HX=function(Z){var i=Z.polar;if(i){if(!aO(i)){i=[i]}var e=[];Dc(i,function(v,k){if(v.indicator){if(v.type&&!v.shape){v.shape=v.type}Z.radar=Z.radar||[];if(!aO(Z.radar)){Z.radar=[Z.radar]}Z.radar.push(v)}else{e.push(v)}});Z.polar=e}Dc(Z.series,function(k){if(k&&k.type==="radar"&&k.polarIndex){k.radarIndex=k.polarIndex}})};Ai(aT(bn,"radar"));Ai(aT(Qz,"radar","circle",null));el(Pg);bI(aT(En,"radar"));IL(HX);var ea=HV;function R9(){SO.call(this)}cq(R9,SO);function A8(Z){this.name=Z;this.zoomLimit;SO.call(this);this._roamTransform=new R9();this._viewTransform=new R9();this._center;this._zoom}A8.prototype={constructor:A8,type:"view",dimensions:["x","y"],setBoundingRect:function(e,i,k,Z){this._rect=new FC(e,i,k,Z);return this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(e,i,k,Z){this.transformTo(e,i,k,Z);this._viewRect=new FC(e,i,k,Z)},transformTo:function(k,v,PI,e){var i=this.getBoundingRect();var Z=this._viewTransform;Z.transform=i.calculateTransform(new FC(k,v,PI,e));Z.decomposeTransform();this._updateTransform()},setCenter:function(Z){if(!Z){return}this._center=Z;this._updateCenterAndZoom()},setZoom:function(e){e=e||1;var Z=this.zoomLimit;if(Z){if(Z.max!=null){e=Math.min(Z.max,e)}if(Z.min!=null){e=Math.max(Z.min,e)}}this._zoom=e;this._updateCenterAndZoom()},getDefaultCenter:function(){var Z=this.getBoundingRect();var i=Z.x+Z.width/2;var e=Z.y+Z.height/2;return[i,e]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransform},_updateCenterAndZoom:function(){var i=this._viewTransform.getLocalTransform();var k=this._roamTransform;var e=this.getDefaultCenter();var Z=this.getCenter();var v=this.getZoom();Z=HV([],Z,i);e=HV([],e,i);k.origin=Z;k.position=[e[0]-Z[0],e[1]-Z[1]];k.scale=[v,v];this._updateTransform()},_updateTransform:function(){var e=this._roamTransform;var Z=this._viewTransform;Z.parent=e;e.updateTransform();Z.updateTransform();Z.transform&&a5(this.transform||(this.transform=[]),Z.transform);if(this.transform){this.invTransform=this.invTransform||[];Dj(this.invTransform,this.transform)}else{this.invTransform=null}this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var Z=this.getBoundingRect().clone();Z.applyTransform(this.transform);return Z},dataToPoint:function(e){var Z=this.transform;return Z?ea([],e,Z):[e[0],e[1]]},pointToData:function(Z){var e=this.invTransform;return e?ea([],Z,e):[Z[0],Z[1]]},convertToPixel:aT(Gg,"dataToPoint"),convertFromPixel:aT(Gg,"pointToData"),containPoint:function(Z){return this.getViewRectAfterRoam().contain(Z[0],Z[1])}};cq(A8,SO);function Gg(i,e,v,k){var Z=v.seriesModel;var PI=Z?Z.coordinateSystem:null;return PI===this?PI[i](k):null}var CV=[126,25];var Kh=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,0.7],[52,0.7],[56,7.7],[59,0.7],[64,0.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var Rj=0;Rj<Kh.length;Rj++){for(var OM=0;OM<Kh[Rj].length;OM++){Kh[Rj][OM][0]/=10.5;Kh[Rj][OM][1]/=-10.5/0.75;Kh[Rj][OM][0]+=CV[0];Kh[Rj][OM][1]+=CV[1]}}var T4=function(Z){if(Z.map==="china"){Z.regions.push(new Zz("",PK(Kh,function(e){return{type:"polygon",exterior:e}}),CV))}};var CX={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]};var dP=function(Z){Dc(Z.regions,function(e){var i=CX[e.name];if(i){var k=e.center;k[0]+=i[0]/10.5;k[1]+=-i[1]/(10.5/0.75)}})};var Hi={"Russia":[100,60],"United States":[-99,38],"United States of America":[-99,38]};var KL=function(Z){Dc(Z.regions,function(i){var e=Hi[i.name];if(e){var k=i.center;k[0]=e[0];k[1]=e[1]}})};var LH=[[[123.451652526855,25.7352716440226],[123.497314453125,25.7352716440226],[123.497314453125,25.7507340646009],[123.451652526855,25.7507340646009],[123.451652526855,25.7352716440226]]];var F5=function(k){if(k.map==="china"){for(var Z=0,e=k.regions.length;Z<e;++Z){if(k.regions[Z].name===""){k.regions[Z].geometries.push({type:"polygon",exterior:LH[0]})}}}};var Ey=[T4,dP,KL,F5];function TN(k,v,Z,i,e){A8.call(this,k);this.map=v;this._nameCoordMap=EY();this.loadGeoJson(Z,i,e)}TN.prototype={constructor:TN,type:"geo",dimensions:["lng","lat"],containCoord:function(k){var Z=this.regions;for(var e=0;e<Z.length;e++){if(Z[e].contain(k)){return true}}return false},loadGeoJson:function(eF,k,WH){try{this.regions=eF?FG(eF):[]}catch(Z){throw"Invalid geoJson format\n"+Z.message}k=k||{};WH=WH||{};var Z2=this.regions;var v=EY();for(var PI=0;PI<Z2.length;PI++){var cc=Z2[PI].name;cc=WH.hasOwnProperty(cc)?WH[cc]:cc;Z2[PI].name=cc;v.set(cc,Z2[PI]);this.addGeoCoord(cc,Z2[PI].center);var XY=k[cc];if(XY){Z2[PI].transformTo(XY.left,XY.top,XY.width,XY.height)}}this._regionsMap=v;this._rect=null;Dc(Ey,function(e){e(this)},this)},transformTo:function(v,PI,WH,e){var k=this.getBoundingRect();k=k.clone();k.y=-k.y-k.height;var Z=this._viewTransform;Z.transform=k.calculateTransform(new FC(v,PI,WH,e));Z.decomposeTransform();var i=Z.scale;i[1]=-i[1];Z.updateTransform();this._updateTransform()},getRegion:function(Z){return this._regionsMap.get(Z)},getRegionByCoord:function(k){var Z=this.regions;for(var e=0;e<Z.length;e++){if(Z[e].contain(k)){return Z[e]}}},addGeoCoord:function(e,Z){this._nameCoordMap.set(e,Z)},getGeoCoord:function(Z){return this._nameCoordMap.get(Z)},getBoundingRect:function(){if(this._rect){return this._rect}var k;var v=this.regions;for(var Z=0;Z<v.length;Z++){var e=v[Z].getBoundingRect();k=k||e.clone();k.union(e)}return(this._rect=k||new FC(0,0,0,0))},dataToPoint:function(Z){if(typeof Z==="string"){Z=this.getGeoCoord(Z)}if(Z){return A8.prototype.dataToPoint.call(this,Z)}},convertToPixel:aT(Of,"dataToPoint"),convertFromPixel:aT(Of,"pointToData")};cq(TN,A8);function Of(k,i,PI,v){var Z=PI.geoModel;var e=PI.seriesModel;var WH=Z?Z.coordinateSystem:e?(e.coordinateSystem||(e.getReferringComponents("geo")[0]||{}).coordinateSystem):null;return WH===this?WH[k](v):null}function Sk(eJ,eH){var cc=eJ.get("boundingCoords");if(cc!=null){var eF=cc[0];var eG=cc[1];if(isNaN(eF[0])||isNaN(eF[1])||isNaN(eG[0])||isNaN(eG[1])){if(Vo){console.error("Invalid boundingCoords")}}else{this.setBoundingRect(eF[0],eF[1],eG[0]-eF[0],eG[1]-eF[1])}}var k=this.getBoundingRect();var PI;var Z=eJ.get("layoutCenter");var Z2=eJ.get("layoutSize");var WH=eH.getWidth();var e=eH.getHeight();var i=eJ.get("aspectScale")||0.75;var XY=k.width/k.height*i;var eI=false;if(Z&&Z2){Z=[OC(Z[0],WH),OC(Z[1],e)];Z2=OC(Z2,Math.min(WH,e));if(!isNaN(Z[0])&&!isNaN(Z[1])&&!isNaN(Z2)){eI=true}else{if(Vo){console.warn("Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead.")}}}var v;if(eI){var v={};if(XY>1){v.width=Z2;v.height=Z2/XY}else{v.height=Z2;v.width=Z2*XY}v.y=Z[1]-v.height/2;v.x=Z[0]-v.width/2}else{PI=eJ.getBoxLayoutParams();PI.aspect=XY;v=CC(PI,{width:WH,height:e})}this.setViewRect(v.x,v.y,v.width,v.height);this.setCenter(eJ.get("center"));this.setZoom(eJ.get("zoom"))}function TK(e,Z){Dc(Z.get("geoCoord"),function(i,k){e.addGeoCoord(k,i)})}if(Vo){var HY=function(Z){console.error("Map "+Z+" not exists. You can download map file on http://echarts.baidu.com/download-map.html")}}var Zf={dimensions:TN.prototype.dimensions,create:function(e,i){var k=[];e.eachComponent("geo",function(v,XY){var PI=v.get("map");var WH=Ac(PI);if(Vo){if(!WH){HY(PI)}}var Z2=new TN(PI+XY,PI,WH&&WH.geoJson,WH&&WH.specialAreas,v.get("nameMap"));Z2.zoomLimit=v.get("scaleLimit");k.push(Z2);TK(Z2,v);v.coordinateSystem=Z2;Z2.model=v;Z2.resize=Sk;Z2.resize(v,i)});e.eachSeries(function(v){var PI=v.get("coordinateSystem");if(PI==="geo"){var WH=v.get("geoIndex")||0;v.coordinateSystem=k[WH]}});var Z={};e.eachSeriesByType("map",function(v){if(!v.getHostGeoModel()){var PI=v.getMapType();Z[PI]=Z[PI]||[];Z[PI].push(v)}});Dc(Z,function(PI,WH){var XY=Ac(WH);if(Vo){if(!XY){HY(PI[0].get("map"))}}var v=PK(PI,function(cc){return cc.get("nameMap")});var Z2=new TN(WH,WH,XY&&XY.geoJson,XY&&XY.specialAreas,FJ(v));Z2.zoomLimit=Ew.apply(null,PK(PI,function(cc){return cc.get("scaleLimit")}));k.push(Z2);Z2.resize=Sk;Z2.resize(PI[0],i);Dc(PI,function(cc){cc.coordinateSystem=Z2;TK(Z2,cc)})});return k},getFilledRegions:function(eF,v,XY){var WH=(eF||[]).slice();XY=XY||{};var k=Ac(v);var Z=k&&k.geoJson;if(!Z){if(Vo){HY(v)}return eF}var Z2=EY();var cc=Z.features;for(var PI=0;PI<WH.length;PI++){Z2.set(WH[PI].name,WH[PI])}for(var PI=0;PI<cc.length;PI++){var e=cc[PI].properties.name;if(!Z2.get(e)){if(XY.hasOwnProperty(e)){e=XY[e]}WH.push({name:e})}}return WH}};QX("geo",Zf);var Sa=RY.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:false,seriesGroup:[],init:function(Z){this._fillOption(Z,this.getMapType());Sa.superApply(this,"init",arguments);this.updateSelectedMap(Z.data)},getInitialData:function(Z){var i=B(["value"],Z.data||[]);var e=new Lu(i,this);e.initData(Z.data);return e},mergeOption:function(Z){this._fillOption(Z,this.getMapType());Sa.superApply(this,"mergeOption",arguments);this.updateSelectedMap(this.option.data)},getHostGeoModel:function(){var Z=this.option.geoIndex;return Z!=null?this.dependentModels.geo[Z]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(Z,e){Z.data=Zf.getFilledRegions(Z.data,e,Z.nameMap)},getRawValue:function(Z){return this.getData().get("value",Z)},getRegionModel:function(Z){var e=this.getData();return e.getItemModel(e.indexOfName(Z))},formatTooltip:function(Z2){var v=this.getData();var Z=Mi(this.getRawValue(Z2));var e=v.getName(Z2);var XY=this.seriesGroup;var PI=[];for(var WH=0;WH<XY.length;WH++){var k=XY[WH].originalData.indexOfName(e);if(!isNaN(XY[WH].originalData.get("value",k))){PI.push(Pp(XY[WH].name))}}return PI.join(", ")+"<br />"+Pp(e+" : "+Z)},getTooltipPosition:function(Z){if(Z!=null){var e=this.getData().getName(Z);var k=this.coordinateSystem;var i=k.getRegion(e);return i&&k.dataToPoint(i.center)}},setZoom:function(Z){this.option.zoom=Z},setCenter:function(Z){this.option.center=Z},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:0.75,showLegendSymbol:true,dataRangeHoverLink:true,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:false,color:"#000"},emphasis:{show:true,color:"rgb(100,0,0)"}},itemStyle:{normal:{borderWidth:0.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215,0,0.8)"}}}});cq(Sa,PO);var DN="\0_ec_interaction_mutex";function IR(Z,k,e){var i=De(Z);i[k]=e}function We(Z,k,e){var i=De(Z);var v=i[k];if(v===e){i[k]=null}}function QZ(Z,e){return !!De(Z)[e]}function De(Z){return Z[DN]||(Z[DN]={})}R0({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});function CQ(Z){this.pointerChecker;this._zr=Z;this._opt={};var PI=b3;var k=PI(Ax,this);var i=PI(Wr,this);var v=PI(U8,this);var WH=PI(E1,this);var e=PI(WZ,this);at.call(this);this.setPointerChecker=function(XY){this.pointerChecker=XY};this.enable=function(Z2,XY){this.disable();this._opt=Id(dp(XY)||{},{zoomOnMouseWheel:true,moveOnMouseMove:true,preventDefaultMouseMove:true});if(Z2==null){Z2=true}if(Z2===true||(Z2==="move"||Z2==="pan")){Z.on("mousedown",k);Z.on("mousemove",i);Z.on("mouseup",v)}if(Z2===true||(Z2==="scale"||Z2==="zoom")){Z.on("mousewheel",WH);Z.on("pinch",e)}};this.disable=function(){Z.off("mousedown",k);Z.off("mousemove",i);Z.off("mouseup",v);Z.off("mousewheel",WH);Z.off("pinch",e)};this.dispose=this.disable;this.isDragging=function(){return this._dragging};this.isPinching=function(){return this._pinching}}cq(CQ,at);function Ax(Z){if(dT(Z)||(Z.target&&Z.target.draggable)){return}var i=Z.offsetX;var k=Z.offsetY;if(this.pointerChecker&&this.pointerChecker(Z,i,k)){this._x=i;this._y=k;this._dragging=true}}function Wr(i){if(dT(i)||!dx(this,"moveOnMouseMove",i)||!this._dragging||i.gestureEvent==="pinch"||QZ(this._zr,"globalPan")){return}var v=i.offsetX;var PI=i.offsetY;var Z=this._x;var WH=this._y;var k=v-Z;var XY=PI-WH;this._x=v;this._y=PI;this._opt.preventDefaultMouseMove&&Gj(i.event);this.trigger("pan",k,XY,Z,WH,v,PI)}function U8(Z){if(!dT(Z)){this._dragging=false}}function E1(Z){if(!dx(this,"zoomOnMouseWheel",Z)||Z.wheelDelta===0){return}var i=Z.wheelDelta>0?1.1:1/1.1;FN.call(this,Z,i,Z.offsetX,Z.offsetY)}function WZ(Z){if(QZ(this._zr,"globalPan")){return}var i=Z.pinchScale>1?1.1:1/1.1;FN.call(this,Z,i,Z.pinchX,Z.pinchY)}function FN(i,k,Z,v){if(this.pointerChecker&&this.pointerChecker(i,Z,v)){Gj(i.event);this.trigger("zoom",k,Z,v)}}function dx(Z,k,i){var v=Z._opt[k];return v&&(!DY(v)||i.event[v+"Key"])}function Hw(e,Z,i){var k=e.target;var v=k.position;v[0]+=Z;v[1]+=i;k.dirty()}function K6(eF,cc,PI,Z2){var XY=eF.target;var i=eF.zoomLimit;var WH=XY.position;var e=XY.scale;var v=eF.zoom=eF.zoom||1;v*=cc;if(i){var eG=i.min||0;var Z=i.max||Infinity;v=Math.max(Math.min(Z,v),eG)}var k=v/eF.zoom;eF.zoom=v;WH[0]-=(PI-WH[0])*(k-1);WH[1]-=(Z2-WH[1])*(k-1);e[0]*=k;e[1]*=k;XY.dirty()}var UA={"axisPointer":1,"tooltip":1,"brush":1};function W2(Z,PI,k){var v=PI.getComponentByElement(Z.topTarget);var i=v&&v.coordinateSystem;return v&&v!==k&&!UA[v.mainType]&&(i&&i.model!==k)}function Kw(k,i){var e=k.getItemStyle();var Z=k.get("areaColor");if(Z!=null){e.fill=Z}return e}function Rt(k,i,Z,v,e){Z.off("click");Z.off("mousedown");if(i.get("selectedMode")){Z.on("mousedown",function(){k._mouseDownFlag=true});Z.on("click",function(WH){if(!k._mouseDownFlag){return}k._mouseDownFlag=false;var PI=WH.target;while(!PI.__regions){PI=PI.parent}if(!PI){return}var XY={type:(i.mainType==="geo"?"geo":"map")+"ToggleSelect",batch:PK(PI.__regions,function(Z2){return{name:Z2.name,from:e.uid}})};XY[i.mainType+"Id"]=i.id;v.dispatchAction(XY);Xg(i,Z)})}}function Xg(e,Z){Z.eachChild(function(i){Dc(i.__regions,function(k){i.trigger(e.isSelected(k.name)?"emphasis":"normal")})})}function Y0(i,e){var Z=new TD();this._controller=new CQ(i.getZr());this._controllerHost={target:e?Z:null};this.group=Z;this._updateGroup=e;this._mouseDownFlag}Y0.prototype={constructor:Y0,draw:function(cc,i,eH,XY,k){var v=cc.mainType==="geo";var PI=cc.getData&&cc.getData();v&&i.eachComponent({mainType:"series",subType:"map"},function(eL){if(!PI&&eL.getHostGeoModel()===cc){PI=eL.getData()}});var eI=cc.coordinateSystem;var eF=this.group;var e=eI.scale;var Z={position:eI.position,scale:e};if(!eF.childAt(0)||k){eF.attr(Z)}else{Pr(eF,Z,cc)}eF.removeAll();var eG=["itemStyle","normal"];var eJ=["itemStyle","emphasis"];var Z2=["label","normal"];var eK=["label","emphasis"];var WH=EY();Dc(eI.regions,function(eT){var eW=WH.get(eT.name)||WH.set(eT.name,new TD());var eV=new J3({shape:{paths:[]}});eW.add(eV);var eX=cc.getRegionModel(eT.name)||cc;var e4=eX.getModel(eG);var e1=eX.getModel(eJ);var e3=Kw(e4,e);var eS=Kw(e1,e);var eL=eX.getModel(Z2);var eM=eX.getModel(eK);var eP;if(PI){eP=PI.indexOfName(eT.name);var e0=PI.getItemVisual(eP,"color",true);if(e0){e3.fill=e0}}Dc(eT.geometries,function(e6){if(e6.type!=="polygon"){return}eV.shape.paths.push(new GN({shape:{points:e6.exterior}}));for(var e5=0;e5<(e6.interiors?e6.interiors.length:0);e5++){eV.shape.paths.push(new GN({shape:{points:e6.interiors[e5]}}))}});eV.setStyle(e3);eV.style.strokeNoScale=true;eV.culling=true;var eO=eL.get("show");var eN=eM.get("show");var eR=PI&&isNaN(PI.get("value",eP));var eZ=PI&&PI.getItemLayout(eP);if((v||eR&&(eO||eN))||(eZ&&eZ.showLabel)){var eU=!v?eP:eT.name;var eQ;if(!PI||eP>=0){eQ=cc}var e2=new FA({position:eT.center.slice(),scale:[1/e[0],1/e[1]],z2:10,silent:true});Ha(e2.style,e2.hoverStyle={},eL,eM,{labelFetcher:eQ,labelDataIndex:eU,defaultText:eT.name,useInsideStyle:false},{textAlign:"center",textVerticalAlign:"middle"});eW.add(e2)}if(PI){PI.setItemGraphicEl(eP,eW)}else{var eX=cc.getRegionModel(eT.name);eV.eventData={componentType:"geo",geoIndex:cc.componentIndex,name:eT.name,region:(eX&&eX.option)||{}}}var eY=eW.__regions||(eW.__regions=[]);eY.push(eT);Ne(eW,eS,{hoverSilentOnTouch:!!cc.get("selectedMode")});eF.add(eW)});this._updateController(cc,i,eH);Rt(this,cc,eF,eH,XY);Xg(cc,eF)},remove:function(){this.group.removeAll();this._controller.dispose();this._controllerHost={}},_updateController:function(i,e,PI){var XY=i.coordinateSystem;var k=this._controller;var Z=this._controllerHost;Z.zoomLimit=i.get("scaleLimit");Z.zoom=XY.getZoom();k.enable(i.get("roam")||false);var WH=i.mainType;function v(){var Z2={type:"geoRoam",componentType:WH};Z2[WH+"Id"]=i.id;return Z2}k.off("pan").on("pan",function(Z2,cc){this._mouseDownFlag=false;Hw(Z,Z2,cc);PI.dispatchAction(V8(v(),{dx:Z2,dy:cc}))},this);k.off("zoom").on("zoom",function(eH,cc,eG){this._mouseDownFlag=false;K6(Z,eH,cc,eG);PI.dispatchAction(V8(v(),{zoom:eH,originX:cc,originY:eG}));if(this._updateGroup){var Z2=this.group;var eF=Z2.scale;Z2.traverse(function(eI){if(eI.type==="text"){eI.attr("scale",[1/eF[0],1/eF[1]])}})}},this);k.setPointerChecker(function(Z2,cc,eF){return XY.getViewRectAfterRoam().contain(cc,eF)&&!W2(Z2,PI,i)})}};WQ({type:"map",render:function(Z,e,PI,i){if(i&&i.type==="mapToggleSelect"&&i.from===this.uid){return}var v=this.group;v.removeAll();if(Z.getHostGeoModel()){return}if(!(i&&i.type==="geoRoam"&&i.componentType==="series"&&i.seriesId===Z.id)){if(Z.needsDrawMap){var k=this._mapDraw||new Y0(PI,true);v.add(k.group);k.draw(Z,e,PI,this,i);this._mapDraw=k}else{this._mapDraw&&this._mapDraw.remove();this._mapDraw=null}}else{var k=this._mapDraw;k&&v.add(k.group)}Z.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(Z,e,PI)},remove:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null},_renderSymbols:function(Z,e,v){var k=Z.originalData;var i=this.group;k.each("value",function(eP,eG){if(isNaN(eP)){return}var eJ=k.getItemLayout(eG);if(!eJ||!eJ.point){return}var Z2=eJ.point;var eK=eJ.offset;var eM=new aA({style:{fill:Z.getData().getVisual("color")},shape:{cx:Z2[0]+eK*9,cy:Z2[1],r:3},silent:true,z2:!eK?10:8});if(!eK){var eO=Z.mainSeries.getData();var eQ=k.getName(eG);var eN=eO.indexOfName(eQ);var eL=k.getItemModel(eG);var eF=eL.getModel("label.normal");var XY=eL.getModel("label.emphasis");var PI=eO.getItemGraphicEl(eN);var cc=TR(Z.getFormattedLabel(eG,"normal"),eQ);var WH=TR(Z.getFormattedLabel(eG,"emphasis"),cc);var eH=function(){var eR=Dw({},XY,{text:XY.get("show")?WH:null},{isRectText:true,useInsideStyle:false},true);eM.style.extendFrom(eR);eM.__mapOriginalZ2=eM.z2;eM.z2+=1};var eI=function(){Dw(eM.style,eF,{text:eF.get("show")?cc:null,textPosition:eF.getShallow("position")||"bottom"},{isRectText:true,useInsideStyle:false});if(eM.__mapOriginalZ2!=null){eM.z2=eM.__mapOriginalZ2;eM.__mapOriginalZ2=null}};PI.on("mouseover",eH).on("mouseout",eI).on("emphasis",eH).on("normal",eI);eI()}i.add(eM)})}});function Us(cc,i,v){var eF=cc.getZoom();var Z=cc.getCenter();var k=i.zoom;var PI=cc.dataToPoint(Z);if(i.dx!=null&&i.dy!=null){PI[0]-=i.dx;PI[1]-=i.dy;var Z=cc.pointToData(PI);cc.setCenter(Z)}if(k!=null){if(v){var Z2=v.min||0;var e=v.max||Infinity;k=Math.max(Math.min(eF*k,e),Z2)/eF}cc.scale[0]*=k;cc.scale[1]*=k;var XY=cc.position;var WH=(i.originX-XY[0])*(k-1);var eG=(i.originY-XY[1])*(k-1);XY[0]-=WH;XY[1]-=eG;cc.updateTransform();var Z=cc.pointToData(PI);cc.setCenter(Z);cc.setZoom(k*eF)}return{center:cc.getCenter(),zoom:cc.getZoom()}}R0({type:"geoRoam",event:"geoRoam",update:"updateLayout"},function(e,Z){var i=e.componentType||"series";Z.eachComponent({mainType:i,query:e},function(k){var PI=k.coordinateSystem;if(PI.type!=="geo"){return}var v=Us(PI,e,k.get("scaleLimit"));k.setCenter&&k.setCenter(v.center);k.setZoom&&k.setZoom(v.zoom);if(i==="series"){Dc(k.seriesGroup,function(WH){WH.setCenter(v.center);WH.setZoom(v.zoom)})}})});var V5=function(e){var Z={};e.eachSeriesByType("map",function(k){var v=k.getMapType();if(k.getHostGeoModel()||Z[v]){return}var i={};Dc(k.seriesGroup,function(XY){var Z2=XY.coordinateSystem;var WH=XY.originalData;if(XY.get("showLegendSymbol")&&e.getComponent("legend")){WH.each("value",function(eH,eF){var eG=WH.getName(eF);var eI=Z2.getRegion(eG);if(!eI||isNaN(eH)){return}var cc=i[eG]||0;var eJ=Z2.dataToPoint(eI.center);i[eG]=cc+1;WH.setItemLayout(eF,{point:eJ,offset:cc})})}});var PI=k.getData();PI.each(function(XY){var WH=PI.getName(XY);var Z2=PI.getItemLayout(XY)||{};Z2.showLabel=!i[WH];PI.setItemLayout(XY,Z2)});Z[v]=true})};var II=function(Z){Z.eachSeriesByType("map",function(e){var k=e.get("color");var v=e.getModel("itemStyle.normal");var i=v.get("areaColor");var PI=v.get("color")||k[e.seriesIndex%k.length];e.getData().setVisual({"areaColor":i,"color":PI})})};function WY(i,Z){var e={};var k=["value"];Dc(i,function(v){v.each(k,function(WH,PI){var XY="ec-"+v.getName(PI);e[XY]=e[XY]||[];if(!isNaN(WH)){e[XY].push(WH)}})});return i[0].map(k,function(Z2,XY){var eF="ec-"+i[0].getName(XY);var cc=0;var PI=Infinity;var WH=-Infinity;var eH=e[eF].length;for(var eG=0;eG<eH;eG++){PI=Math.min(PI,e[eF][eG]);WH=Math.max(WH,e[eF][eG]);cc+=e[eF][eG]}var v;if(Z==="min"){v=PI}else{if(Z==="max"){v=WH}else{if(Z==="average"){v=cc/eH}else{v=cc}}}return eH===0?NaN:v})}var Jf=function(Z){var e={};Z.eachSeriesByType("map",function(k){var v=k.getHostGeoModel();var i=v?"o"+v.id:"i"+k.getMapType();(e[i]=e[i]||[]).push(k)});Dc(e,function(k,v){var WH=WY(PK(k,function(i){return i.getData()}),k[0].get("mapValueCalculation"));for(var PI=0;PI<k.length;PI++){k[PI].originalData=k[PI].getData()}for(var PI=0;PI<k.length;PI++){k[PI].seriesGroup=k;k[PI].needsDrawMap=PI===0&&!k[PI].getHostGeoModel();k[PI].setData(WH.cloneShallow());k[PI].mainSeries=k[0]}})};var d6=function(Z){var e=[];Dc(Z.series,function(i){if(i&&i.type==="map"){e.push(i);i.map=i.map||i.mapType;Id(i,i.mapLocation)}})};el(V5);Ai(II);bI(cu.PROCESSOR.STATISTIC,Jf);IL(d6);D3("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);var Ku=Dc;var du="\0__link_datas";var YH="\0__link_mainData";function Lg(Z){var i=Z.mainData;var e=Z.datas;if(!e){e={main:i};Z.datasAttr={main:"data"}}Z.datas=Z.mainData=null;ZY(i,e,Z);Ku(e,function(k){Ku(i.TRANSFERABLE_METHODS,function(v){k.wrapMethod(v,aT(y,Z))})});i.wrapMethod("cloneShallow",aT(A4,Z));Ku(i.CHANGABLE_METHODS,function(k){i.wrapMethod(k,aT(eE,Z))});Re(e[i.dataType]===i)}function y(e,i){if(Vu(this)){var Z=V8({},this[du]);Z[this.dataType]=i;ZY(i,Z,e)}else{QD(i,this.dataType,this[YH],e)}return i}function eE(Z,e){Z.struct&&Z.struct.update(this);return e}function A4(Z,e){Ku(e[du],function(k,i){k!==e&&QD(k.cloneShallow(),i,e,Z)});return e}function A9(Z){var e=this[YH];return(Z==null||e==null)?e:e[du][Z]}function Vu(Z){return Z[YH]===Z}function ZY(i,e,Z){i[du]={};Ku(e,function(v,k){QD(v,k,i,Z)})}function QD(k,e,i,Z){i[du][e]=k;k[YH]=i;k.dataType=e;if(Z.struct){k[Z.structAttr]=Z.struct;Z.struct[Z.datasAttr[e]]=k}k.getLinkedData=A9}var bw=function(e,Z){this.name=e||"";this.depth=0;this.height=0;this.parentNode=null;this.dataIndex=-1;this.children=[];this.viewChildren=[];this.hostTree=Z};bw.prototype={constructor:bw,isRemoved:function(){return this.dataIndex<0},eachNode:function(PI,Z,e){if(typeof PI==="function"){e=Z;Z=PI;PI=null}PI=PI||{};if(DY(PI)){PI={order:PI}}var WH=PI.order||"preorder";var XY=this[PI.attr||"children"];var v;WH==="preorder"&&(v=Z.call(e,this));for(var k=0;!v&&k<XY.length;k++){XY[k].eachNode(PI,Z,e)}WH==="postorder"&&Z.call(e,this)},updateDepthAndHeight:function(v){var e=0;this.depth=v;for(var k=0;k<this.children.length;k++){var Z=this.children[k];Z.updateDepthAndHeight(v+1);if(Z.height>e){e=Z.height}}this.height=e+1},getNodeById:function(PI){if(this.getId()===PI){return this}for(var e=0,Z=this.children,v=Z.length;e<v;e++){var k=Z[e].getNodeById(PI);if(k){return k}}},contains:function(e){if(e===this){return true}for(var Z=0,PI=this.children,v=PI.length;Z<v;Z++){var k=PI[Z].contains(e);if(k){return k}}},getAncestors:function(e){var i=[];var Z=e?this:this.parentNode;while(Z){i.push(Z);Z=Z.parentNode}i.reverse();return i},getValue:function(Z){var e=this.hostTree.data;return e.get(e.getDimension(Z||"value"),this.dataIndex)},setLayout:function(e,Z){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,Z)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(v){if(this.dataIndex<0){return}var Z=this.hostTree;var e=Z.data.getItemModel(this.dataIndex);var k=this.getLevelModel();var i;if(!k&&(this.children.length===0||(this.children.length!==0&&this.isExpand===false))){i=this.getLeavesModel()}return e.getModel(v,(k||i||Z.hostModel).getModel(v))},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(Z,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,Z,e)},getVisual:function(Z,e){return this.hostTree.data.getItemVisual(this.dataIndex,Z,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}};function Rz(e,Z,i){this.root;this.data;this._nodes=[];this.hostModel=e;this.levelModels=PK(Z||[],function(k){return new dc(k,e,e.ecModel)});this.leavesModel=new dc(i||{},e,e.ecModel)}Rz.prototype={constructor:Rz,type:"tree",eachNode:function(i,Z,e){this.root.eachNode(i,Z,e)},getNodeByDataIndex:function(Z){var e=this.data.getRawIndex(Z);return this._nodes[e]},getNodeByName:function(Z){return this.root.getNodeByName(Z)},update:function(){var v=this.data;var e=this._nodes;for(var Z=0,k=e.length;Z<k;Z++){e[Z].dataIndex=-1}for(var Z=0,k=v.count();Z<k;Z++){e[v.getRawIndex(Z)].dataIndex=Z}},clearLayouts:function(){this.data.clearItemLayouts()}};Rz.createTree=function(e,WH,Z){var PI=new Rz(WH,Z.levels,Z.leaves);var k=[];var v=1;XY(e);function XY(eH,eF){var eI=eH.value;v=Math.max(v,aO(eI)?eI.length:1);k.push(eH);var eG=new bw(eH.name,PI);eF?Yb(eG,eF):(PI.root=eG);PI._nodes.push(eG);var eJ=eH.children;if(eJ){for(var cc=0;cc<eJ.length;cc++){XY(eJ[cc],eG)}}}PI.root.updateDepthAndHeight(0);var Z2=B([{name:"value"}],k,{dimCount:v});var i=new Lu(Z2,WH);i.initData(k);Lg({mainData:i,struct:PI,structAttr:"tree"});PI.update();return PI};function Yb(e,Z){var i=Z.children;if(e.parentNode===Z){return}i.push(e);e.parentNode=Z}RY.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(PI){var e={name:PI.name,children:PI.data};var v=PI.leaves||{};var Z={};Z.leaves=v;var WH=Rz.createTree(e,this,Z);var k=0;WH.eachNode("preorder",function(Z2){if(Z2.depth>k){k=Z2.depth}});var i=PI.expandAndCollapse;var XY=(i&&PI.initialTreeDepth>=0)?PI.initialTreeDepth:k;WH.root.eachNode("preorder",function(Z2){var cc=Z2.hostTree.data.getRawDataItem(Z2.dataIndex);Z2.isExpand=(cc&&cc.collapsed!=null)?!cc.collapsed:Z2.depth<=XY});return WH.data},formatTooltip:function(Z){var e=this.getData().tree;var k=e.root.children[0];var i=e.getNodeByDataIndex(Z);var PI=i.getValue();var v=i.name;while(i&&(i!==k)){v=i.parentNode.name+"."+v;i=i.parentNode}return Pp(v+((isNaN(PI)||PI==null)?"":" : "+PI))},defaultOption:{zlevel:0,z:2,left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",orient:"horizontal",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:true,initialTreeDepth:2,lineStyle:{normal:{color:"#ccc",width:1.5,curveness:0.5}},itemStyle:{normal:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5}},label:{normal:{show:true,color:"#555"}},leaves:{label:{normal:{show:true}}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1000}});function CL(k){k.hierNode={defaultAncestor:null,ancestor:k,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};var WH=[k];var PI;var XY;while(PI=WH.pop()){XY=PI.children;if(PI.isExpand&&XY.length){var v=XY.length;for(var e=v-1;e>=0;e--){var Z=XY[e];Z.hierNode={defaultAncestor:null,ancestor:Z,prelim:0,modifier:0,change:0,shift:0,i:e,thread:null};WH.push(Z)}}}}function Es(i,k){var PI=i.isExpand?i.children:[];var Z=i.parentNode.children;var e=i.hierNode.i?Z[i.hierNode.i-1]:null;if(PI.length){LI(i);var v=(PI[0].hierNode.prelim+PI[PI.length-1].hierNode.prelim)/2;if(e){i.hierNode.prelim=e.hierNode.prelim+k(i,e);i.hierNode.modifier=i.hierNode.prelim-v}else{i.hierNode.prelim=v}}else{if(e){i.hierNode.prelim=e.hierNode.prelim+k(i,e)}}i.parentNode.hierNode.defaultAncestor=bc(i,e,i.parentNode.hierNode.defaultAncestor||Z[0],k)}function E0(e){var Z=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:Z},true);e.hierNode.modifier+=e.parentNode.hierNode.modifier}function dZ(Z){return arguments.length?Z:ZI}function aS(e,i){var Z={};e-=Math.PI/2;Z.x=i*Math.cos(e);Z.y=i*Math.sin(e);return Z}function LR(Z,e){return CC(Z.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function LI(k){var PI=k.children;var i=PI.length;var v=0;var e=0;while(--i>=0){var Z=PI[i];Z.hierNode.prelim+=v;Z.hierNode.modifier+=v;e+=Z.hierNode.change;v+=Z.hierNode.shift+e}}function bc(v,PI,i,k){if(PI){var e=v;var Z2=v;var eF=Z2.parentNode.children[0];var cc=PI;var WH=e.hierNode.modifier;var eH=Z2.hierNode.modifier;var XY=eF.hierNode.modifier;var eG=cc.hierNode.modifier;while(cc=Mf(cc),Z2=aB(Z2),cc&&Z2){e=Mf(e);eF=aB(eF);e.hierNode.ancestor=v;var Z=cc.hierNode.prelim+eG-Z2.hierNode.prelim-eH+k(cc,Z2);if(Z>0){L8(OB(cc,v,i),v,Z);eH+=Z;WH+=Z}eG+=cc.hierNode.modifier;eH+=Z2.hierNode.modifier;WH+=e.hierNode.modifier;XY+=eF.hierNode.modifier}if(cc&&!Mf(e)){e.hierNode.thread=cc;e.hierNode.modifier+=eG-WH}if(Z2&&!aB(eF)){eF.hierNode.thread=Z2;eF.hierNode.modifier+=eH-XY;i=v}}return i}function Mf(Z){var e=Z.children;return e.length&&Z.isExpand?e[e.length-1]:Z.hierNode.thread}function aB(Z){var e=Z.children;return e.length&&Z.isExpand?e[0]:Z.hierNode.thread}function OB(i,Z,e){return i.hierNode.ancestor.parentNode===Z.parentNode?i.hierNode.ancestor:e}function L8(i,e,k){var Z=k/(e.hierNode.i-i.hierNode.i);e.hierNode.change-=Z;e.hierNode.shift+=k;e.hierNode.modifier+=k;e.hierNode.prelim+=k;i.hierNode.change+=Z}function ZI(Z,e){return Z.parentNode===e.parentNode?1:2}WQ({type:"tree",init:function(Z,e){this._oldTree;this._mainGroup=new TD();this.group.add(this._mainGroup)},render:function(cc,Z,Z2,e){var i=cc.getData();var v=cc.layoutInfo;var PI=this._mainGroup;var WH=cc.get("layout");if(WH==="radial"){PI.attr("position",[v.x+v.width/2,v.y+v.height/2])}else{PI.attr("position",[v.x,v.y])}var k=this._data;var XY={expandAndCollapse:cc.get("expandAndCollapse"),layout:WH,orient:cc.get("orient"),curvature:cc.get("lineStyle.normal.curveness"),symbolRotate:cc.get("symbolRotate"),symbolOffset:cc.get("symbolOffset"),hoverAnimation:cc.get("hoverAnimation"),useNameLabel:true,fadeIn:true};i.diff(k).add(function(eF){if(ET(i,eF)){WU(i,eF,null,PI,cc,XY)}}).update(function(eF,eH){var eG=k.getItemGraphicEl(eH);if(!ET(i,eF)){eG&&Je(i,eF,eG,PI,cc,XY);return}WU(i,eF,eG,PI,cc,XY)}).remove(function(eG){var eF=k.getItemGraphicEl(eG);Je(i,eG,eF,PI,cc,XY)}).execute();if(XY.expandAndCollapse===true){i.eachItemGraphicEl(function(eF,eG){eF.off("click").on("click",function(){Z2.dispatchAction({type:"treeExpandAndCollapse",seriesId:cc.id,dataIndex:eG})})})}this._data=i},dispose:function(){},remove:function(){this._mainGroup.removeAll();this._data=null}});function ET(i,Z){var e=i.getItemLayout(Z);return e&&!isNaN(e.x)&&!isNaN(e.y)&&i.getItemVisual(Z,"symbol")!=="none"}function RW(e,Z,i){i.itemModel=Z;i.itemStyle=Z.getModel("itemStyle.normal").getItemStyle();i.hoverItemStyle=Z.getModel("itemStyle.emphasis").getItemStyle();i.lineStyle=Z.getModel("lineStyle.normal").getLineStyle();i.labelModel=Z.getModel("label.normal");i.hoverLabelModel=Z.getModel("label.emphasis");if(e.isExpand===false&&e.children.length!==0){i.symbolInnerColor=i.itemStyle.fill}else{i.symbolInnerColor="#fff"}return i}function WU(eO,eQ,WH,eK,XY,i){var v=!WH;var eL=eO.tree.getNodeByDataIndex(eQ);var k=eL.getModel();var i=RW(eL,k,i);var eR=eO.tree.root;var eH=eL.parentNode===eR?eL:eL.parentNode||eL;var PI=eO.getItemGraphicEl(eH.dataIndex);var eG=eH.getLayout();var eN=PI?{x:PI.position[0],y:PI.position[1],rawX:PI.__radialOldRawX,rawY:PI.__radialOldRawY}:eG;var eJ=eL.getLayout();if(v){WH=new RS(eO,eQ,i);WH.attr("position",[eN.x,eN.y])}else{WH.updateData(eO,eQ,i)}WH.__radialOldRawX=WH.__radialRawX;WH.__radialOldRawY=WH.__radialRawY;WH.__radialRawX=eJ.rawX;WH.__radialRawY=eJ.rawY;eK.add(WH);eO.setItemGraphicEl(eQ,WH);Pr(WH,{position:[eJ.x,eJ.y]},XY);var e=WH.getSymbolPath();if(i.layout==="radial"){var eI=eR.children[0];var eF=eI.getLayout();var Z=eI.children.length;var eM;var Z2;if(eJ.x===eF.x&&eL.isExpand===true){var eS={};eS.x=(eI.children[0].getLayout().x+eI.children[Z-1].getLayout().x)/2;eS.y=(eI.children[0].getLayout().y+eI.children[Z-1].getLayout().y)/2;eM=Math.atan2(eS.y-eF.y,eS.x-eF.x);if(eM<0){eM=Math.PI*2+eM}Z2=eS.x<eF.x;if(Z2){eM=eM-Math.PI}}else{eM=Math.atan2(eJ.y-eF.y,eJ.x-eF.x);if(eM<0){eM=Math.PI*2+eM}if(eL.children.length===0||(eL.children.length!==0&&eL.isExpand===false)){Z2=eJ.x<eF.x;if(Z2){eM=eM-Math.PI}}else{Z2=eJ.x>eF.x;if(!Z2){eM=eM-Math.PI}}}var eP=Z2?"left":"right";e.setStyle({textPosition:eP,textRotation:-eM,textOrigin:"center",verticalAlign:"middle"})}if(eL.parentNode&&eL.parentNode!==eR){var cc=WH.__edge;if(!cc){cc=WH.__edge=new EK({shape:Jb(i,eN,eN),style:Id({opacity:0},i.lineStyle)})}Pr(cc,{shape:Jb(i,eG,eJ),style:{opacity:1}},XY);eK.add(cc)}}function Je(i,cc,PI,XY,eG,WH){var Z2=i.tree.getNodeByDataIndex(cc);var eF=i.tree.root;var Z=Z2.getModel();var WH=RW(Z2,Z,WH);var e=Z2.parentNode===eF?Z2:Z2.parentNode||Z2;var v;while(v=e.getLayout(),v==null){e=e.parentNode===eF?e:e.parentNode||e}Pr(PI,{position:[v.x+1,v.y+1]},eG,function(){XY.remove(PI);i.setItemGraphicEl(cc,null)});PI.fadeOut(null,{keepLabel:true});var k=PI.__edge;if(k){Pr(k,{shape:Jb(WH,v,v),style:{opacity:0}},eG,function(){XY.remove(k)})}}function Jb(XY,cc,eJ){var eG;var eF;var i;var e;var Z2=XY.orient;if(XY.layout==="radial"){var k=cc.rawX;var v=cc.rawY;var PI=eJ.rawX;var WH=eJ.rawY;var Z=aS(k,v);var eI=aS(k,v+(WH-v)*XY.curvature);var eH=aS(PI,WH+(v-WH)*XY.curvature);var eK=aS(PI,WH);return{x1:Z.x,y1:Z.y,x2:eK.x,y2:eK.y,cpx1:eI.x,cpy1:eI.y,cpx2:eH.x,cpy2:eH.y}}else{var k=cc.x;var v=cc.y;var PI=eJ.x;var WH=eJ.y;if(Z2==="horizontal"){eG=k+(PI-k)*XY.curvature;eF=v;i=PI+(k-PI)*XY.curvature;e=WH}if(Z2==="vertical"){eG=k;eF=v+(WH-v)*XY.curvature;i=PI;e=WH+(v-WH)*XY.curvature}return{x1:k,y1:v,x2:PI,y2:WH,cpx1:eG,cpy1:eF,cpx2:i,cpy2:e}}}R0({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,Z){Z.eachComponent({mainType:"series",subType:"tree",query:e},function(i){var PI=e.dataIndex;var v=i.getData().tree;var k=v.getNodeByDataIndex(PI);k.isExpand=!k.isExpand})});function ay(v,Z,k){var Z2=[v];var XY=[];var WH;while(WH=Z2.pop()){XY.push(WH);if(WH.isExpand){var e=WH.children;if(e.length){for(var PI=0;PI<e.length;PI++){Z2.push(e[PI])}}}}while(WH=XY.pop()){Z(WH,k)}}function Pl(k,Z){var PI=[k];var v;while(v=PI.pop()){Z(v);if(v.isExpand){var WH=v.children;if(WH.length){for(var e=WH.length-1;e>=0;e--){PI.push(WH[e])}}}}}var Mj=function(WH,cc){var eG=LR(WH,cc);WH.layoutInfo=eG;var XY=WH.get("layout");var eI=0;var eL=0;var PI=null;if(XY==="radial"){eI=2*Math.PI;eL=Math.min(eG.height,eG.width)/2;PI=dZ(function(eN,eO){return(eN.parentNode===eO.parentNode?1:2)/eN.depth})}else{eI=eG.width;eL=eG.height;PI=dZ()}var eK=WH.getData().tree.root;var eH=eK.children[0];CL(eK);ay(eH,Es,PI);eK.hierNode.modifier=-eH.hierNode.prelim;Pl(eH,E0);var eJ=eH;var v=eH;var eF=eH;Pl(eH,function(eN){var eO=eN.getLayout().x;if(eO<eJ.getLayout().x){eJ=eN}if(eO>v.getLayout().x){v=eN}if(eN.depth>eF.depth){eF=eN}});var Z2=eJ===v?1:PI(eJ,v)/2;var eM=Z2-eJ.getLayout().x;var Z=0;var e=0;var i=0;var k=0;if(XY==="radial"){Z=eI/(v.getLayout().x+Z2+eM);e=eL/((eF.depth-1)||1);Pl(eH,function(eO){i=(eO.getLayout().x+eM)*Z;k=(eO.depth-1)*e;var eN=aS(i,k);eO.setLayout({x:eN.x,y:eN.y,rawX:i,rawY:k},true)})}else{if(WH.get("orient")==="horizontal"){e=eL/(v.getLayout().x+Z2+eM);Z=eI/((eF.depth-1)||1);Pl(eH,function(eN){k=(eN.getLayout().x+eM)*e;i=(eN.depth-1)*Z;eN.setLayout({x:i,y:k},true)})}else{Z=eI/(v.getLayout().x+Z2+eM);e=eL/((eF.depth-1)||1);Pl(eH,function(eN){i=(eN.getLayout().x+eM)*Z;k=(eN.depth-1)*e;eN.setLayout({x:i,y:k},true)})}}};var TX=function(Z,e){Z.eachSeriesByType("tree",function(i){Mj(i,e)})};var Ki=function(Z,e){Z.eachSeriesByType("tree",function(i){Mj(i,e)})};Ai(aT(Qz,"tree","circle",null));el(TX);el(Ki);function W5(k,Z){if(k&&(k.type==="treemapZoomToNode"||k.type==="treemapRootToNode")){var e=Z.getData().tree.root;var i=k.targetNode;if(i&&e.contains(i)){return{node:i}}var v=k.targetNodeId;if(v!=null&&(i=e.getNodeById(v))){return{node:i}}}}function bT(Z){var e=[];while(Z){Z=Z.parentNode;Z&&e.push(Z)}return e.reverse()}function Wv(e,i){var Z=bT(e);return Fx(Z,i)>=0}function Ba(k,Z){var i=[];while(k){var e=k.dataIndex;i.push({name:k.name,dataIndex:e,value:Z.getRawValue(e)});k=k.parentNode}i.reverse();return i}RY.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:Infinity,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:true,clipWindow:"origin",squareRatio:0.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:0.32*0.32,roam:true,nodeClick:"zoomToNode",animation:true,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:true,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:true,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:true}},upperLabel:{normal:{show:false,position:[0,"50%"],height:20,color:"#fff",ellipsis:true,verticalAlign:"middle"},emphasis:{show:true,position:[0,"50%"],color:"#fff",ellipsis:true,verticalAlign:"middle"}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(e,k){var i={name:e.name,children:e.data};LV(i);var Z=e.levels||[];Z=e.levels=OQ(Z,k);var v={};v.levels=Z;return Rz.createTree(i,this,v).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(Z){var v=this.getData();var k=this.getRawValue(Z);var e=aO(k)?Mi(k[0]):Mi(k);var i=v.getName(Z);return Pp(i+": "+e)},getDataParams:function(Z){var i=RY.prototype.getDataParams.apply(this,arguments);var e=this.getData().tree.getNodeByDataIndex(Z);i.treePathInfo=Ba(e,this);return i},setLayoutInfo:function(Z){this.layoutInfo=this.layoutInfo||{};V8(this.layoutInfo,Z)},mapIdToIndex:function(i){var Z=this._idIndexMap;if(!Z){Z=this._idIndexMap=EY();this._idIndexMapCount=0}var e=Z.get(i);if(e==null){Z.set(i,e=this._idIndexMapCount++)}return e},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(Z){Z?(this._viewRoot=Z):(Z=this._viewRoot);var e=this.getData().tree.root;if(!Z||(Z!==e&&!e.contains(Z))){this._viewRoot=e}}});function LV(e){var i=0;Dc(e.children,function(k){LV(k);var v=k.value;aO(v)&&(v=v[0]);i+=v});var Z=e.value;if(aO(Z)){Z=Z[0]}if(Z==null||isNaN(Z)){Z=i}if(Z<0){Z=0}aO(e.value)?(e.value[0]=Z):(e.value=Z)}function OQ(Z,k){var e=k.get("color");if(!e){return}Z=Z||[];var i;Dc(Z,function(XY){var PI=new dc(XY);var WH=PI.get("color");if(PI.get("itemStyle.normal.color")||(WH&&WH!=="none")){i=true}});if(!i){var v=Z[0]||(Z[0]={});v.color=e.slice()}return Z}var Up=8;var Fd=8;var b8=5;function Ps(Z){this.group=new TD();Z.add(this.group)}Ps.prototype={constructor:Ps,render:function(Z2,WH,e,v){var XY=Z2.getModel("breadcrumb");var Z=this.group;Z.removeAll();if(!XY.get("show")||!e){return}var PI=XY.getModel("itemStyle.normal");var i=PI.getModel("textStyle");var k={pos:{left:XY.get("left"),right:XY.get("right"),top:XY.get("top"),bottom:XY.get("bottom")},box:{width:WH.getWidth(),height:WH.getHeight()},emptyItemWidth:XY.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(e,k,i);this._renderContent(Z2,k,PI,i,v);VJ(Z,k.pos,k.box)},_prepare:function(i,k,e){for(var Z=i;Z;Z=Z.parentNode){var v=Z.getModel().get("name");var PI=e.getTextRect(v);var WH=Math.max(PI.width+Up*2,k.emptyItemWidth);k.totalWidth+=WH+Fd;k.renderList.push({node:Z,text:v,width:WH})}},_renderContent:function(eH,WH,e,cc,eJ){var XY=0;var eF=WH.emptyItemWidth;var eI=eH.get("breadcrumb.height");var eL=VS(WH.pos,WH.box);var eM=WH.totalWidth;var Z2=WH.renderList;for(var PI=Z2.length-1;PI>=0;PI--){var k=Z2[PI];var eG=k.node;var v=k.width;var Z=k.text;if(eM>eL.width){eM-=v-eF;v=eF;Z=null}var eK=new GN({shape:{points:Mm(XY,0,v,eI,PI===Z2.length-1,PI===0)},style:Id(e.getItemStyle(),{lineJoin:"bevel",text:Z,textFill:cc.getTextColor(),textFont:cc.getFont()}),z:10,onclick:aT(eJ,eG)});this.group.add(eK);CK(eK,eH,eG);XY+=v+Fd}},remove:function(){this.group.removeAll()}};function Mm(PI,WH,v,Z,i,k){var e=[[i?PI:PI-b8,WH],[PI+v,WH],[PI+v,WH+Z],[i?PI:PI-b8,WH+Z]];!k&&e.splice(2,0,[PI+v+b8,WH+Z/2]);!i&&e.push([PI,WH+Z/2]);return e}function CK(Z,e,i){Z.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:e.componentIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:i&&i.dataIndex,name:i&&i.name},treePathInfo:i&&Ba(i,e)}}function Rv(){var Z=[];var e={};var i;return{add:function(k,WH,PI,XY,v){if(DY(XY)){v=XY;XY=0}if(e[k.id]){return false}e[k.id]=1;Z.push({el:k,target:WH,time:PI,delay:XY,easing:v});return true},done:function(k){i=k;return this},start:function(){var v=Z.length;for(var k=0,XY=Z.length;k<XY;k++){var WH=Z[k];WH.el.animateTo(WH.target,WH.time,WH.delay,WH.easing,PI)}return this;function PI(){v--;if(!v){Z.length=0;e={};i&&i()}}}}}var Ru=b3;var ZL=TD;var DR=BI;var Z0=Dc;var OD=3;var cw=["label","normal"];var P0=["label","emphasis"];var N=["upperLabel","normal"];var C3=["upperLabel","emphasis"];var Tz=10;var bs=1;var DZ=2;var FE=CS([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);var Qt=function(e){var Z=FE(e);Z.stroke=Z.fill=Z.lineWidth=null;return Z};WQ({type:"treemap",init:function(Z,e){this._containerGroup;this._storage=BE();this._oldTree;this._breadcrumb;this._controller;this._state="ready"},render:function(eH,e,eF,i){var PI=e.findComponents({mainType:"series",subType:"treemap",query:i});if(Fx(PI,eH)<0){return}this.seriesModel=eH;this.api=eF;this.ecModel=e;var Z2=W5(i,eH);var v=i&&i.type;var XY=eH.layoutInfo;var k=!this._oldTree;var eG=this._storage;var Z=(v==="treemapRootToNode"&&Z2&&eG)?{rootNodeGroup:eG.nodeGroup[Z2.node.getRawIndex()],direction:i.direction}:null;var cc=this._giveContainerGroup(XY);var WH=this._doRender(cc,eH,Z);(!k&&(!v||v==="treemapZoomToNode"||v==="treemapRootToNode"))?this._doAnimation(cc,WH,eH,Z):WH.renderFinally();this._resetController(eF);this._renderBreadcrumb(eH,eF,Z2)},_giveContainerGroup:function(e){var Z=this._containerGroup;if(!Z){Z=this._containerGroup=new ZL();this._initEvents(Z);this.group.add(Z)}Z.attr("position",[e.x,e.y]);return Z},_doRender:function(PI,eI,e){var cc=eI.getData().tree;var eH=this._oldTree;var Z2=BE();var eG=BE();var i=this._storage;var v=[];var XY=aT(b1,eI,eG,i,e,Z2,v);k(cc.root?[cc.root]:[],(eH&&eH.root)?[eH.root]:[],PI,cc===eH||!eH,0);var WH=eF(i);this._oldTree=cc;this._storage=eG;return{lastsForAnimation:Z2,willDeleteEls:WH,renderFinally:Z};function k(eP,eN,eJ,eM,eL){if(eM){eN=eP;Z0(eP,function(eQ,eR){!eQ.isRemoved()&&eK(eR,eR)})}else{(new U6(eN,eP,eO,eO)).add(eK).update(eK).remove(aT(eK,null)).execute()}function eO(eQ){return eQ.getId()}function eK(eT,eS){var eU=eT!=null?eP[eT]:null;var eQ=eS!=null?eN[eS]:null;var eR=XY(eU,eQ,eJ,eL);eR&&k(eU&&eU.viewChildren||[],eQ&&eQ.viewChildren||[],eR,eM,eL+1)}}function eF(eJ){var eK=BE();eJ&&Z0(eJ,function(eL,eM){var eN=eK[eM];Z0(eL,function(eO){eO&&(eN.push(eO),eO.__tmWillDelete=1)})});return eK}function Z(){Z0(WH,function(eJ){Z0(eJ,function(eK){eK.parent&&eK.parent.remove(eK)})});Z0(v,function(eJ){eJ.invisible=true;eJ.dirty()})}},_doAnimation:function(Z,WH,e,v){if(!e.get("animation")){return}var PI=e.get("animationDurationUpdate");var k=e.get("animationEasing");var i=Rv();Z0(WH.willDeleteEls,function(XY,Z2){Z0(XY,function(cc,eF){if(cc.invisible){return}var eI=cc.parent;var eH;if(v&&v.direction==="drillDown"){eH=eI===v.rootNodeGroup?{shape:{x:0,y:0,width:eI.__tmNodeWidth,height:eI.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}}}else{var eG=0;var eJ=0;if(!eI.__tmWillDelete){eG=eI.__tmNodeWidth/2;eJ=eI.__tmNodeHeight/2}eH=Z2==="nodeGroup"?{position:[eG,eJ],style:{opacity:0}}:{shape:{x:eG,y:eJ,width:0,height:0},style:{opacity:0}}}eH&&i.add(cc,eH,PI,k)})});Z0(this._storage,function(XY,Z2){Z0(XY,function(cc,eF){var eG=WH.lastsForAnimation[Z2][eF];var eH={};if(!eG){return}if(Z2==="nodeGroup"){if(eG.old){eH.position=cc.position.slice();cc.attr("position",eG.old)}}else{if(eG.old){eH.shape=V8({},cc.shape);cc.setShape(eG.old)}if(eG.fadein){cc.setStyle("opacity",0);eH.style={opacity:1}}else{if(cc.style.opacity!==1){eH.style={opacity:1}}}}i.add(cc,eH,PI,k)})},this);this._state="animating";i.done(Ru(function(){this._state="ready";WH.renderFinally()},this)).start()},_resetController:function(e){var i=this._controller;if(!i){i=this._controller=new CQ(e.getZr());i.enable(this.seriesModel.get("roam"));i.on("pan",Ru(this._onPan,this));i.on("zoom",Ru(this._onZoom,this))}var Z=new FC(0,0,e.getWidth(),e.getHeight());i.setPointerChecker(function(k,v,PI){return Z.contain(v,PI)})},_clearController:function(){var Z=this._controller;if(Z){Z.dispose();Z=null}},_onPan:function(i,k){if(this._state!=="animating"&&(Math.abs(i)>OD||Math.abs(k)>OD)){var e=this.seriesModel.getData().tree.root;if(!e){return}var Z=e.getLayout();if(!Z){return}this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:Z.x+i,y:Z.y+k,width:Z.width,height:Z.height}})}},_onZoom:function(i,WH,PI){if(this._state!=="animating"){var k=this.seriesModel.getData().tree.root;if(!k){return}var Z=k.getLayout();if(!Z){return}var e=new FC(Z.x,Z.y,Z.width,Z.height);var v=this.seriesModel.layoutInfo;WH-=v.x;PI-=v.y;var XY=Hx();Xo(XY,XY,[-WH,-PI]);JZ(XY,XY,[i,i]);Xo(XY,XY,[WH,PI]);e.applyTransform(XY);this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:e.x,y:e.y,width:e.width,height:e.height}})}},_initEvents:function(Z){Z.on("click",function(k){if(this._state!=="ready"){return}var Z2=this.seriesModel.get("nodeClick",true);if(!Z2){return}var WH=this.findTarget(k.offsetX,k.offsetY);if(!WH){return}var PI=WH.node;if(PI.getLayout().isLeafRoot){this._rootToNode(WH)}else{if(Z2==="zoomToNode"){this._zoomToNode(WH)}else{if(Z2==="link"){var v=PI.hostTree.data.getItemModel(PI.dataIndex);var XY=v.get("link",true);var i=v.get("target",true)||"blank";XY&&window.open(XY,i)}}}},this)},_renderBreadcrumb:function(Z,k,i){if(!i){i=Z.get("leafDepth",true)!=null?{node:Z.getViewRoot()}:this.findTarget(k.getWidth()/2,k.getHeight()/2);if(!i){i={node:Z.getData().tree.root}}}(this._breadcrumb||(this._breadcrumb=new Ps(this.group))).render(Z,k,i.node,Ru(e,this));function e(v){if(this._state!=="animating"){Wv(Z.getViewRoot(),v)?this._rootToNode({node:v}):this._zoomToNode({node:v})}}},remove:function(){this._clearController();this._containerGroup&&this._containerGroup.removeAll();this._storage=BE();this._state="ready";this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(Z){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:Z.node})},_rootToNode:function(Z){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:Z.node})},findTarget:function(e,i){var k;var Z=this.seriesModel.getViewRoot();Z.eachNode({attr:"viewChildren",order:"preorder"},function(PI){var WH=this._storage.background[PI.getRawIndex()];if(WH){var v=WH.transformCoordToLocal(e,i);var XY=WH.shape;if(XY.x<=v[0]&&v[0]<=XY.x+XY.width&&XY.y<=v[1]&&v[1]<=XY.y+XY.height){k={node:PI,offsetX:v[0],offsetY:v[1]}}else{return false}}},this);return k}});function BE(){return{nodeGroup:[],background:[],content:[]}}function b1(cc,eK,eJ,e0,eX,PI,eV,XY,eM,eH){if(!eV){return}var eU=eV.getLayout();if(!eU||!eU.isInView){return}var eL=eU.width;var eI=eU.height;var eG=eU.borderWidth;var eF=eU.invisible;var eY=eV.getRawIndex();var e=XY&&XY.getRawIndex();var eN=eV.viewChildren;var eP=eU.upperHeight;var eO=eN&&eN.length;var Z=eV.getModel("itemStyle.normal");var eR=eV.getModel("itemStyle.emphasis");var eQ=eZ("nodeGroup",ZL);if(!eQ){return}eM.add(eQ);eQ.attr("position",[eU.x||0,eU.y||0]);eQ.__tmNodeWidth=eL;eQ.__tmNodeHeight=eI;if(eU.isAboveViewRoot){return eQ}var WH=eZ("background",DR,eH,bs);WH&&i(eQ,WH,eO&&eU.upperHeight);if(!eO){var v=eZ("content",DR,eH,DZ);v&&Z2(eQ,v)}return eQ;function i(e2,e1,e4){e1.dataIndex=eV.dataIndex;e1.seriesIndex=cc.seriesIndex;e1.setShape({x:0,y:0,width:eL,height:eI});var e3=eV.getVisual("borderColor",true);var e5=eR.get("borderColor");eT(e1,function(){var e8=Qt(Z);e8.fill=e3;var e7=FE(eR);e7.fill=e5;if(e4){var e6=eL-2*eG;eW(e8,e7,e3,e6,eP,{x:eG,y:0,width:e6,height:eP})}else{e8.text=e7.text=null}e1.setStyle(e8);Ne(e1,e7)});e2.add(e1)}function Z2(e1,e4){e4.dataIndex=eV.dataIndex;e4.seriesIndex=cc.seriesIndex;var e5=Math.max(eL-2*eG,0);var e3=Math.max(eI-2*eG,0);e4.culling=true;e4.setShape({x:eG,y:eG,width:e5,height:e3});var e2=eV.getVisual("color",true);eT(e4,function(){var e7=Qt(Z);e7.fill=e2;var e6=FE(eR);eW(e7,e6,e2,e5,e3);e4.setStyle(e7);Ne(e4,e6)});e1.add(e4)}function eT(e2,e1){if(!eF){e1();if(!e2.__tmWillVisible){e2.invisible=false}}else{!e2.invisible&&PI.push(e2)}}function eW(e7,e5,fc,e9,e1,e8){var e2=eV.getModel();var fa=Ew(cc.getFormattedLabel(eV.dataIndex,"normal",null,null,e8?"upperLabel":"label"),e2.get("name"));if(!e8&&eU.isLeafRoot){var fb=cc.get("drillDownIcon",true);fa=fb?fb+" "+fa:fa}var e3=e2.getModel(e8?N:cw);var e6=e2.getModel(e8?C3:P0);var e4=e3.getShallow("show");Ha(e7,e5,e3,e6,{defaultText:e4?fa:null,autoColor:fc,isRectText:true});e8&&(e7.textRect=dp(e8));e7.truncate=(e4&&e3.get("ellipsis"))?{outerWidth:e9,outerHeight:e1,minChar:2}:null}function eZ(e1,e6,e5,e2){var e4=e!=null&&eJ[e1][e];var e3=eX[e1];if(e4){eJ[e1][e]=null;k(e3,e4,e1)}else{if(!eF){e4=new e6({z:Cf(e5,e2)});e4.__tmDepth=e5;e4.__tmStorageName=e1;eS(e3,e4,e1)}}return(eK[e1][eY]=e4)}function k(e4,e3,e2){var e1=e4[eY]={};e1.old=e2==="nodeGroup"?e3.position.slice():V8({},e3.shape)}function eS(e7,e1,e6){var e2=e7[eY]={};var e5=eV.parentNode;if(e5&&(!e0||e0.direction==="drillDown")){var e4=0;var e3=0;var e8=eX.background[e5.getRawIndex()];if(!e0&&e8&&e8.old){e4=e8.old.width;e3=e8.old.height}e2.old=e6==="nodeGroup"?[0,e3]:{x:e4,y:e3,width:0,height:0}}e2.fadein=e6!=="nodeGroup"}}function Cf(Z,e){var i=Z*Tz+e;return(i-1)/i}var Ed=function(){};var AG=["treemapZoomToNode","treemapRender","treemapMove"];for(var DH=0;DH<AG.length;DH++){R0({type:AG[DH],update:"updateView"},Ed)}R0({type:"treemapRootToNode",update:"updateView"},function(i,e){e.eachComponent({mainType:"series",subType:"treemap",query:i},Z);function Z(PI,v){var k=W5(i,PI);if(k){var WH=PI.getViewRoot();if(WH){i.direction=Wv(WH,k.node)?"rollUp":"drillDown"}PI.resetViewRoot(k.node)}}});var Z1=Dc;var OE=Q;var CZ=-1;var Np=function(Z){var i=Z.mappingMethod;var e=Z.type;var v=this.option=dp(Z);this.type=e;this.mappingMethod=i;this._normalizeData=Dz[i];var k=BM[e];this.applyVisual=k.applyVisual;this.getColorMapper=k.getColorMapper;this._doMap=k._doMap[i];if(i==="piecewise"){LU(v);DU(v)}else{if(i==="category"){v.categories?AT(v):LU(v,true)}else{Re(i!=="linear"||v.dataExtent);LU(v)}}};Np.prototype={constructor:Np,mapValueToVisual:function(Z){var e=this._normalizeData(Z);return this._doMap(e,Z)},getNormalizer:function(){return b3(this._normalizeData,this)}};var BM=Np.visualHandlers={color:{applyVisual:Tx("color"),getColorMapper:function(){var Z=this.option;return b3(Z.mappingMethod==="category"?function(i,e){!e&&(i=this._normalizeData(i));return Jc.call(this,i)}:function(v,i,k){var e=!!k;!i&&(v=this._normalizeData(v));k=Xt(v,Z.parsedVisual,k);return e?k:Kz(k,"rgba")},this)},_doMap:{linear:function(Z){return Kz(Xt(Z,this.option.parsedVisual),"rgba")},category:Jc,piecewise:function(i,e){var Z=S9.call(this,e);if(Z==null){Z=Kz(Xt(i,this.option.parsedVisual),"rgba")}return Z},fixed:bj}},colorHue:KP(function(e,Z){return Cu(e,Z)}),colorSaturation:KP(function(e,Z){return Cu(e,null,Z)}),colorLightness:KP(function(e,Z){return Cu(e,null,null,Z)}),colorAlpha:KP(function(e,Z){return Vi(e,Z)}),opacity:{applyVisual:Tx("opacity"),_doMap:Y9([0,1])},symbol:{applyVisual:function(k,i,v){var Z=this.mapValueToVisual(k);if(DY(Z)){v("symbol",Z)}else{if(OE(Z)){for(var e in Z){if(Z.hasOwnProperty(e)){v(e,Z[e])}}}}},_doMap:{linear:MR,category:Jc,piecewise:function(i,e){var Z=S9.call(this,e);if(Z==null){Z=MR.call(this,i)}return Z},fixed:bj}},symbolSize:{applyVisual:Tx("symbolSize"),_doMap:Y9([0,1])}};function DU(e){var Z=e.pieceList;e.hasSpecialVisual=false;Dc(Z,function(i,k){i.originIndex=k;if(i.visual!=null){e.hasSpecialVisual=true}})}function AT(WH){var PI=WH.categories;var v=WH.visual;var k=WH.categoryMap={};Z1(PI,function(i,XY){k[i]=XY});if(!aO(v)){var Z=[];if(Q(v)){Z1(v,function(XY,i){var Z2=k[i];Z[Z2!=null?Z2:CZ]=XY})}else{Z[CZ]=v}v=MB(WH,Z)}for(var e=PI.length-1;e>=0;e--){if(v[e]==null){delete k[PI[e]];PI.pop()}}}function LU(v,e){var i=v.visual;var Z=[];if(Q(i)){Z1(i,function(PI){Z.push(PI)})}else{if(i!=null){Z.push(i)}}var k={color:1,symbol:1};if(!e&&Z.length===1&&!k.hasOwnProperty(v.type)){Z[1]=Z[0]}MB(v,Z)}function KP(Z){return{applyVisual:function(i,e,k){i=this.mapValueToVisual(i);k("color",Z(e("color"),i))},_doMap:Y9([0,1])}}function MR(e){var Z=this.option.visual;return Z[Math.round(WL(e,[0,1],[0,Z.length-1],true))]||{}}function Tx(Z){return function(i,e,k){k(Z,this.mapValueToVisual(i))}}function Jc(e){var Z=this.option.visual;return Z[(this.option.loop&&e!==CZ)?e%Z.length:e]}function bj(){return this.option.visual[0]}function Y9(Z){return{linear:function(e){return WL(e,Z,this.option.visual,true)},category:Jc,piecewise:function(k,i){var e=S9.call(this,i);if(e==null){e=WL(k,Z,this.option.visual,true)}return e},fixed:bj}}function S9(i){var v=this.option;var e=v.pieceList;if(v.hasSpecialVisual){var k=Np.findPieceIndex(i,e);var Z=e[k];if(Z&&Z.visual){return Z.visual[this.type]}}}function MB(e,Z){e.visual=Z;if(e.type==="color"){e.parsedVisual=PK(Z,function(i){return a8(i)})}return Z}var Dz={linear:function(Z){return WL(Z,this.option.dataExtent,[0,1],true)},piecewise:function(Z){var i=this.option.pieceList;var e=Np.findPieceIndex(Z,i,true);if(e!=null){return WL(e,[0,i.length-1],[0,1],true)}},category:function(e){var Z=this.option.categories?this.option.categoryMap[e]:e;return Z==null?CZ:Z},fixed:ed};Np.listVisualTypes=function(){var Z=[];Dc(BM,function(i,e){Z.push(e)});return Z};Np.addVisualHandler=function(e,Z){BM[e]=Z};Np.isValidType=function(Z){return BM.hasOwnProperty(Z)};Np.eachVisual=function(i,Z,e){if(Q(i)){Dc(i,Z,e)}else{Z.call(e,i)}};Np.mapVisual=function(v,Z,e){var i;var k=aO(v)?[]:Q(v)?{}:(i=true,null);Np.eachVisual(v,function(WH,PI){var XY=Z.call(e,WH,PI);i?(k=XY):(k[PI]=XY)});return k};Np.retrieveVisuals=function(e){var i={};var Z;e&&Z1(BM,function(k,v){if(e.hasOwnProperty(v)){i[v]=e[v];Z=true}});return Z?i:null};Np.prepareVisualTypes=function(e){if(OE(e)){var Z=[];Z1(e,function(k,i){Z.push(i)});e=Z}else{if(aO(e)){e=e.slice()}else{return[]}}e.sort(function(k,i){return(i==="color"&&k!=="color"&&k.indexOf("color")===0)?1:-1});return e};Np.dependsOn=function(Z,e){return e==="color"?!!(Z&&Z.indexOf(e)===0):Z===e};Np.findPieceIndex=function(WH,e,Z){var eG;var Z2=Infinity;for(var XY=0,eF=e.length;XY<eF;XY++){var cc=e[XY].value;if(cc!=null){if(cc===WH||(typeof cc==="string"&&cc===WH+"")){return XY}Z&&v(cc,XY)}}for(var XY=0,eF=e.length;XY<eF;XY++){var eH=e[XY];var k=eH.interval;var PI=eH.close;if(k){if(k[0]===-Infinity){if(ej(PI[1],WH,k[1])){return XY}}else{if(k[1]===Infinity){if(ej(PI[0],k[0],WH)){return XY}}else{if(ej(PI[0],k[0],WH)&&ej(PI[1],WH,k[1])){return XY}}}Z&&v(k[0],XY);Z&&v(k[1],XY)}}if(Z){return WH===Infinity?e.length-1:WH===-Infinity?0:eG}function v(eJ,eI){var i=Math.abs(eJ-WH);if(i<Z2){Z2=i;eG=eI}}};function ej(i,e,Z){return i?e<=Z:e<Z}var Mc=aO;var Fj="itemStyle.normal";var Or=function(Z,k,e){var i={mainType:"series",subType:"treemap",query:e};Z.eachComponent(i,function(v){var WH=v.getData().tree;var PI=WH.root;var XY=v.getModel(Fj);if(PI.isRemoved()){return}var Z2=PK(WH.levelModels,function(cc){return cc?cc.get(Fj):null});IC(PI,{},Z2,XY,v.getViewRoot().getAncestors(),v)})};function IC(Z2,eH,eF,e,eI,eK){var i=Z2.getModel();var WH=Z2.getLayout();if(!WH||WH.invisible||!WH.isInView){return}var k=Z2.getModel(Fj);var eJ=eF[Z2.depth];var v=b6(k,eH,eJ,e);var eG=k.get("borderColor");var XY=k.get("borderColorSaturation");var PI;if(XY!=null){PI=Bs(v,Z2);eG=Iu(XY,PI)}Z2.setVisual("borderColor",eG);var Z=Z2.viewChildren;if(!Z||!Z.length){PI=Bs(v,Z2);Z2.setVisual("color",PI)}else{var cc=Qi(Z2,i,WH,k,v,Z);Dc(Z,function(eL,eM){if(eL.depth>=eI.length||eL===eI[eL.depth]){var eN=K(i,v,eL,eM,cc,eK);IC(eL,eN,eF,e,eI,eK)}})}}function b6(i,v,k,e){var Z=V8({},v);Dc(["color","colorAlpha","colorSaturation"],function(PI){var WH=i.get(PI,true);WH==null&&k&&(WH=k[PI]);WH==null&&(WH=v[PI]);WH==null&&(WH=e.get(PI));WH!=null&&(Z[PI]=WH)});return Z}function Bs(i){var k=I1(i,"color");if(k){var Z=I1(i,"colorAlpha");var e=I1(i,"colorSaturation");if(e){k=Cu(k,null,null,e)}if(Z){k=Vi(k,Z)}return k}}function Iu(Z,e){return e!=null?Cu(e,null,null,Z):null}function I1(i,e){var Z=i[e];if(Z!=null&&Z!=="none"){return Z}}function Qi(WH,Z,PI,e,k,eF){if(!eF||!eF.length){return}var cc=Tr(Z,"color")||(k.color!=null&&k.color!=="none"&&(Tr(Z,"colorAlpha")||Tr(Z,"colorSaturation")));if(!cc){return}var v=Z.get("visualMin");var i=Z.get("visualMax");var eG=PI.dataExtent.slice();v!=null&&v<eG[0]&&(eG[0]=v);i!=null&&i>eG[1]&&(eG[1]=i);var Z2=Z.get("colorMappingBy");var XY={type:cc.name,dataExtent:eG,visual:cc.range};if(XY.type==="color"&&(Z2==="index"||Z2==="id")){XY.mappingMethod="category";XY.loop=true}else{XY.mappingMethod="linear"}var eH=new Np(XY);eH.__drColorMappingBy=Z2;return eH}function Tr(Z,e){var i=Z.get(e);return(Mc(i)&&i.length)?{name:e,range:i}:null}function K(XY,i,WH,e,cc,Z2){var v=V8({},i);if(cc){var k=cc.type;var Z=k==="color"&&cc.__drColorMappingBy;var PI=Z==="index"?e:Z==="id"?Z2.mapIdToIndex(WH.getId()):WH.getValue(XY.get("visualDimension"));v[k]=cc.mapValueToVisual(PI)}return v}var Bk=Math.max;var Lp=Math.min;var Go=Ew;var Z3=Dc;var CP=["itemStyle","normal","borderWidth"];var UI=["itemStyle","normal","gapWidth"];var Qb=["upperLabel","normal","show"];var SX=["upperLabel","normal","height"];var eD=function(Z,k,e){var i={mainType:"series",subType:"treemap",query:e};Z.eachComponent(i,function(Z2){var WH=k.getWidth();var eG=k.getHeight();var eL=Z2.option;var eH=CC(Z2.getBoxLayoutParams(),{width:k.getWidth(),height:k.getHeight()});var XY=eL.size||[];var eP=OC(Go(eH.width,XY[0]),WH);var v=OC(Go(eH.height,XY[1]),eG);var eM=e&&e.type;var eQ=W5(e,Z2);var PI=(eM==="treemapRender"||eM==="treemapMove")?e.rootRect:null;var eK=Z2.getViewRoot();var cc=bT(eK);if(eM!=="treemapMove"){var eF=eM==="treemapZoomToNode"?KB(Z2,eQ,eK,eP,v):PI?[PI.width,PI.height]:[eP,v];var eJ=eL.sort;if(eJ&&eJ!=="asc"&&eJ!=="desc"){eJ="desc"}var eI={squareRatio:eL.squareRatio,sort:eJ,leafDepth:eL.leafDepth};eK.hostTree.clearLayouts();var eN={x:0,y:0,width:eF[0],height:eF[1],area:eF[0]*eF[1]};eK.setLayout(eN);aI(eK,eI,false,0);var eN=eK.getLayout();Z3(cc,function(eR,eS){var eT=(cc[eS+1]||eK).getValue();eR.setLayout(V8({dataExtent:[eT,eT],borderWidth:0,upperHeight:0},eN))})}var eO=Z2.getData().tree.root;eO.setLayout(ag(eH,PI,eQ),true);Z2.setLayoutInfo(eH);es(eO,new FC(-eH.x,-eH.y,WH,eG),cc,eK,0)})};function aI(eN,eO,eH,eG){var eK;var eJ;if(eN.isRemoved()){return}var eP=eN.getLayout();eK=eP.width;eJ=eP.height;var eT=eN.getModel();var eF=eT.get(CP);var eS=eT.get(UI)/2;var eU=EE(eT);var eR=Math.max(eF,eU);var eI=eF-eS;var e=eR-eS;var eT=eN.getModel();eN.setLayout({borderWidth:eF,upperHeight:eR,upperLabelHeight:eU},true);eK=Bk(eK-2*eI,0);eJ=Bk(eJ-eI-e,0);var eM=eK*eJ;var XY=TB(eN,eT,eM,eO,eH,eG);if(!XY.length){return}var cc={x:eI,y:e,width:eK,height:eJ};var v=Lp(eK,eJ);var eL=Infinity;var k=[];k.area=0;for(var WH=0,eQ=XY.length;WH<eQ;){var PI=XY[WH];k.push(PI);k.area+=PI.getLayout().area;var Z=As(k,v,eO.squareRatio);if(Z<=eL){WH++;eL=Z}else{k.area-=k.pop().getLayout().area;Ld(k,v,cc,eS,false);v=Lp(cc.width,cc.height);k.length=k.area=0;eL=Infinity}}if(k.length){Ld(k,v,cc,eS,true)}if(!eH){var Z2=eT.get("childrenVisibleMin");if(Z2!=null&&eM<Z2){eH=true}}for(var WH=0,eQ=XY.length;WH<eQ;WH++){aI(XY[WH],eO,eH,eG+1)}}function TB(cc,k,eF,XY,eI,Z2){var eH=cc.children||[];var e=XY.sort;e!=="asc"&&e!=="desc"&&(e=null);var PI=XY.leafDepth!=null&&XY.leafDepth<=Z2;if(eI&&!PI){return(cc.viewChildren=[])}eH=Zs(eH,function(i){return !i.isRemoved()});C2(eH,e);var Z=bM(k,eH,e);if(Z.sum===0){return(cc.viewChildren=[])}Z.sum=HR(k,eF,Z.sum,e,eH);if(Z.sum===0){return(cc.viewChildren=[])}for(var WH=0,eG=eH.length;WH<eG;WH++){var v=eH[WH].getValue()/Z.sum*eF;eH[WH].setLayout({area:v})}if(PI){eH.length&&cc.setLayout({isLeafRoot:true},true);eH.length=0}cc.viewChildren=eH;cc.setLayout({dataExtent:Z.dataExtent},true);return eH}function HR(k,XY,PI,cc,eF){if(!cc){return PI}var e=k.get("visibleMin");var Z2=eF.length;var Z=Z2;for(var WH=Z2-1;WH>=0;WH--){var v=eF[cc==="asc"?Z2-WH-1:WH].getValue();if(v/PI*XY<e){Z=WH;PI-=v}}cc==="asc"?eF.splice(0,Z2-Z):eF.splice(Z,Z2-Z);return PI}function C2(e,Z){if(Z){e.sort(function(k,i){var v=Z==="asc"?k.getValue()-i.getValue():i.getValue()-k.getValue();return v===0?(Z==="asc"?k.dataIndex-i.dataIndex:i.dataIndex-k.dataIndex):v})}return e}function bM(Z,k,XY){var v=0;for(var PI=0,WH=k.length;PI<WH;PI++){v+=k[PI].getValue()}var Z2=Z.get("visualDimension");var e;if(!k||!k.length){e=[NaN,NaN]}else{if(Z2==="value"&&XY){e=[k[k.length-1].getValue(),k[0].getValue()];XY==="asc"&&e.reverse()}else{var e=[Infinity,-Infinity];Z3(k,function(i){var cc=i.getValue(Z2);cc<e[0]&&(e[0]=cc);cc>e[1]&&(e[1]=cc)})}}return{sum:v,dataExtent:e}}function As(WH,k,Z){var XY=0;var eF=Infinity;for(var PI=0,e,Z2=WH.length;PI<Z2;PI++){e=WH[PI].getLayout().area;if(e){e<eF&&(eF=e);e>XY&&(XY=e)}}var v=WH.area*WH.area;var cc=k*k*Z;return v?Bk((cc*XY)/v,v/(cc*eF)):Infinity}function Ld(eO,eP,eG,eN,eK){var Z=eP===eG.width?0:1;var eF=1-Z;var v=["x","y"];var PI=["width","height"];var eL=eG[v[Z]];var Z2=eP?eO.area/eP:0;if(eK||Z2>eG[PI[eF]]){Z2=eG[PI[eF]]}for(var XY=0,eM=eO.length;XY<eM;XY++){var eJ=eO[XY];var cc={};var k=Z2?eJ.getLayout().area/Z2:0;var eI=cc[PI[eF]]=Bk(Z2-2*eN,0);var WH=eG[v[Z]]+eG[PI[Z]]-eL;var e=(XY===eM-1||WH<k)?WH:k;var eH=cc[PI[Z]]=Bk(e-2*eN,0);cc[v[eF]]=eG[v[eF]]+Lp(eN,eI/2);cc[v[Z]]=eL+Lp(eN,eH/2);eL+=e;eJ.setLayout(cc,true)}eG[v[eF]]+=Z2;eG[PI[eF]]-=Z2}function KB(WH,eO,eK,eN,eF){var eI=(eO||{}).node;var k=[eN,eF];if(!eI||eI===eK){return k}var eJ;var eL=eN*eF;var eM=eL*WH.option.zoomToNodeRatio;while(eJ=eI.parentNode){var cc=0;var Z=eJ.children;for(var PI=0,e=Z.length;PI<e;PI++){cc+=Z[PI].getValue()}var XY=eI.getValue();if(XY===0){return k}eM*=cc/XY;var v=eJ.getModel();var Z2=v.get(CP);var eH=Math.max(Z2,EE(v,Z2));eM+=4*Z2*Z2+(3*Z2+eH)*Math.pow(eM,0.5);eM>Vw&&(eM=Vw);eI=eJ}eM<eL&&(eM=eL);var eG=Math.pow(eM/eL,0.5);return[eN*eG,eF*eG]}function ag(e,XY,WH){if(XY){return{x:XY.x,y:XY.y}}var Z2={x:0,y:0};if(!WH){return Z2}var Z=WH.node;var i=Z.getLayout();if(!i){return Z2}var v=[i.width/2,i.height/2];var k=Z;while(k){var PI=k.getLayout();v[0]+=PI.x;v[1]+=PI.y;k=k.parentNode}return{x:e.width/2-v[0],y:e.height/2-v[1]}}function es(XY,PI,k,v,Z2){var WH=XY.getLayout();var i=k[Z2];var e=i&&i===XY;if((i&&!e)||(Z2===k.length&&XY!==v)){return}XY.setLayout({isInView:true,invisible:!e&&!PI.intersect(WH),isAboveViewRoot:e},true);var Z=new FC(PI.x-WH.x,PI.y-WH.y,PI.width,PI.height);Z3(XY.viewChildren||[],function(cc){es(cc,Z,k,v,Z2+1)})}function EE(Z){return Z.get(Qb)?Z.get(SX):0}Ai(Or);el(eD);function EF(Z){return"_EC_"+Z}var JX=function(Z){this._directed=Z||false;this.nodes=[];this.edges=[];this._nodesMap={};this._edgesMap={};this.data;this.edgeData};var GB=JX.prototype;GB.type="graph";GB.isDirected=function(){return this._directed};GB.addNode=function(k,Z){k=k||(""+Z);var i=this._nodesMap;if(i[EF(k)]){if(Vo){console.error("Graph nodes have duplicate name or id")}return}var e=new Vk(k,Z);e.hostGraph=this;this.nodes.push(e);i[EF(k)]=e;return e};GB.getNodeByIndex=function(Z){var e=this.data.getRawIndex(Z);return this.nodes[e]};GB.getNodeById=function(Z){return this._nodesMap[EF(Z)]};GB.addEdge=function(k,v,e){var PI=this._nodesMap;var Z=this._edgesMap;if(typeof k==="number"){k=this.nodes[k]}if(typeof v==="number"){v=this.nodes[v]}if(!(k instanceof Vk)){k=PI[EF(k)]}if(!(v instanceof Vk)){v=PI[EF(v)]}if(!k||!v){return}var WH=k.id+"-"+v.id;if(Z[WH]){return}var i=new MA(k,v,e);i.hostGraph=this;if(this._directed){k.outEdges.push(i);v.inEdges.push(i)}k.edges.push(i);if(k!==v){v.edges.push(i)}this.edges.push(i);Z[WH]=i;return i};GB.getEdgeByIndex=function(Z){var e=this.edgeData.getRawIndex(Z);return this.edges[e]};GB.getEdge=function(Z,e){if(Z instanceof Vk){Z=Z.id}if(e instanceof Vk){e=e.id}var i=this._edgesMap;if(this._directed){return i[Z+"-"+e]}else{return i[Z+"-"+e]||i[e+"-"+Z]}};GB.eachNode=function(Z,e){var v=this.nodes;var PI=v.length;for(var k=0;k<PI;k++){if(v[k].dataIndex>=0){Z.call(e,v[k],k)}}};GB.eachEdge=function(Z,e){var k=this.edges;var PI=k.length;for(var v=0;v<PI;v++){if(k[v].dataIndex>=0&&k[v].node1.dataIndex>=0&&k[v].node2.dataIndex>=0){Z.call(e,k[v],v)}}};GB.breadthFirstTraverse=function(WH,PI,k,Z2){if(!(PI instanceof Vk)){PI=this._nodesMap[EF(PI)]}if(!PI){return}var cc=k==="out"?"outEdges":(k==="in"?"inEdges":"edges");for(var eF=0;eF<this.nodes.length;eF++){this.nodes[eF].__visited=false}if(WH.call(Z2,PI,null)){return}var XY=[PI];while(XY.length){var eG=XY.shift();var v=eG[cc];for(var eF=0;eF<v.length;eF++){var Z=v[eF];var eH=Z.node1===eG?Z.node2:Z.node1;if(!eH.__visited){if(WH.call(Z2,eH,eG)){return}XY.push(eH);eH.__visited=true}}}};GB.update=function(){var WH=this.data;var k=this.edgeData;var v=this.nodes;var e=this.edges;for(var Z=0,PI=v.length;Z<PI;Z++){v[Z].dataIndex=-1}for(var Z=0,PI=WH.count();Z<PI;Z++){v[WH.getRawIndex(Z)].dataIndex=Z}k.filterSelf(function(XY){var i=e[k.getRawIndex(XY)];return i.node1.dataIndex>=0&&i.node2.dataIndex>=0});for(var Z=0,PI=e.length;Z<PI;Z++){e[Z].dataIndex=-1}for(var Z=0,PI=k.count();Z<PI;Z++){e[k.getRawIndex(Z)].dataIndex=Z}};GB.clone=function(){var v=new JX(this._directed);var PI=this.nodes;var k=this.edges;for(var Z=0;Z<PI.length;Z++){v.addNode(PI[Z].id,PI[Z].dataIndex)}for(var Z=0;Z<k.length;Z++){var WH=k[Z];v.addEdge(WH.node1.id,WH.node2.id,WH.dataIndex)}return v};function Vk(e,Z){this.id=e==null?"":e;this.inEdges=[];this.outEdges=[];this.edges=[];this.hostGraph;this.dataIndex=Z==null?-1:Z}Vk.prototype={constructor:Vk,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(i){if(this.dataIndex<0){return}var e=this.hostGraph;var Z=e.data.getItemModel(this.dataIndex);return Z.getModel(i)}};function MA(e,i,Z){this.node1=e;this.node2=i;this.dataIndex=Z==null?-1:Z}MA.prototype.getModel=function(i){if(this.dataIndex<0){return}var e=this.hostGraph;var Z=e.edgeData.getItemModel(this.dataIndex);return Z.getModel(i)};var dl=function(Z,e){return{getValue:function(i){var k=this[Z][e];return k.get(k.getDimension(i||"value"),this.dataIndex)},setVisual:function(i,k){this.dataIndex>=0&&this[Z][e].setItemVisual(this.dataIndex,i,k)},getVisual:function(i,k){return this[Z][e].getItemVisual(this.dataIndex,i,k)},setLayout:function(k,i){this.dataIndex>=0&&this[Z][e].setItemLayout(this.dataIndex,k,i)},getLayout:function(){return this[Z][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[Z][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[Z][e].getRawIndex(this.dataIndex)}}};cq(Vk,dl("hostGraph","data"));cq(MA,dl("hostGraph","edgeData"));JX.Node=Vk;JX.Edge=MA;var Pe=function(v,eL,Z,k,eH){var eJ=new JX(k);for(var PI=0;PI<v.length;PI++){eJ.addNode(Ew(v[PI].id,v[PI].name,PI),PI)}var e=[];var XY=[];var WH=0;for(var PI=0;PI<eL.length;PI++){var eG=eL[PI];var eF=eG.source;var eK=eG.target;if(eJ.addEdge(eF,eK,WH)){XY.push(eG);e.push(Ew(eG.id,eF+" > "+eK));WH++}}var cc=Z.get("coordinateSystem");var Z2;if(cc==="cartesian2d"||cc==="polar"){Z2=Um(v,Z,Z.ecModel)}else{var eN=Ql.get(cc);var eI=B(((eN&&eN.type!=="view")?(eN.dimensions||[]):[]).concat(["value"]),v);Z2=new Lu(eI,Z);Z2.initData(v)}var eM=new Lu(["value"],Z);eM.initData(XY,e);eH&&eH(Z2,eM);Lg({mainData:Z2,struct:eJ,structAttr:"graph",datas:{node:Z2,edge:eM},datasAttr:{node:"data",edge:"edgeData"}});eJ.update();return eJ};var G5=Q6({type:"series.graph",init:function(Z){G5.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._categoriesData};this.fillDataTextStyle(Z.edges||Z.links);this._updateCategoriesData()},mergeOption:function(Z){G5.superApply(this,"mergeOption",arguments);this.fillDataTextStyle(Z.edges||Z.links);this._updateCategoriesData()},mergeDefaultAndTheme:function(Z){G5.superApply(this,"mergeDefaultAndTheme",arguments);V4(Z.edgeLabel,["show"])},getInitialData:function(Z,i){var e=Z.edges||Z.links||[];var k=Z.data||Z.nodes||[];var v=this;if(k&&e){return Pe(k,e,this,true,PI).data}function PI(eF,XY){eF.wrapMethod("getItemModel",function(eJ){var eI=v._categoriesModels;var eH=eJ.getShallow("category");var eG=eI[eH];if(eG){eG.parentModel=eJ.parentModel;eJ.parentModel=eG}return eJ});var cc=v.getModel("edgeLabel");var Z2=new dc({label:cc.option},cc.parentModel,i);XY.wrapMethod("getItemModel",function(eG){eG.customizeGetParent(WH);return eG});function WH(eG){eG=this.parsePath(eG);return(eG&&eG[0]==="label")?Z2:this.parentModel}}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(i,Z,e){if(e==="edge"){var k=this.getData();var PI=this.getDataParams(i,e);var WH=k.graph.getEdgeByIndex(i);var XY=k.getName(WH.node1.dataIndex);var v=k.getName(WH.node2.dataIndex);var Z2=[];XY!=null&&Z2.push(XY);v!=null&&Z2.push(v);Z2=Pp(Z2.join(" > "));if(PI.value){Z2+=" : "+Pp(PI.value)}return Z2}else{return G5.superApply(this,"formatTooltip",arguments)}},_updateCategoriesData:function(){var e=PK(this.option.categories||[],function(i){return i.value!=null?i:V8({value:0},i)});var Z=new Lu(["value"],this);Z.initData(e);this._categoriesData=Z;this._categoriesModels=Z.mapArray(function(i){return Z.getItemModel(i,true)})},setZoom:function(Z){this.option.zoom=Z},setCenter:function(Z){this.option.center=Z},isAnimationEnabled:function(){return G5.superCall(this,"isAnimationEnabled")&&!(this.get("layout")==="force"&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:true,hoverAnimation:true,layout:null,focusNodeAdjacency:false,circular:{rotateLabel:false},force:{initLayout:null,repulsion:[0,50],gravity:0.1,edgeLength:30,layoutAnimation:true},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{normal:{position:"middle"},emphasis:{}},draggable:false,roam:false,center:null,zoom:1,nodeScaleRatio:0.6,label:{normal:{show:false,formatter:"{b}"},emphasis:{show:true}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:0.5},emphasis:{}}}});var XB=S7.prototype;var KF=EK.prototype;function FL(Z){return isNaN(+Z.cpx1)||isNaN(+Z.cpy1)}var FQ=B6({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(Z,e){(FL(e)?XB:KF).buildPath(Z,e)},pointAt:function(Z){return FL(this.shape)?XB.pointAt.call(this,Z):KF.pointAt.call(this,Z)},tangentAt:function(e){var i=this.shape;var Z=FL(i)?[i.x2-i.x1,i.y2-i.y1]:KF.tangentAt.call(this,e);return a9(Z,Z)}});var cl=["fromSymbol","toSymbol"];function QM(Z){return"_"+Z+"Type"}function Rf(k,Z,v){var WH=Z.getItemVisual(v,"color");var e=Z.getItemVisual(v,k);var PI=Z.getItemVisual(v,k+"Size");if(!e||e==="none"){return}if(!aO(PI)){PI=[PI,PI]}var i=Fq(e,-PI[0]/2,-PI[1]/2,PI[0],PI[1],WH);i.name=k;return i}function Me(Z){var e=new FQ({name:"line"});eB(e.shape,Z);return e}function eB(v,i){var Z=i[0];var k=i[1];var e=i[2];v.x1=Z[0];v.y1=Z[1];v.x2=k[0];v.y2=k[1];v.percent=1;if(e){v.cpx1=e[0];v.cpy1=e[1]}else{v.cpx1=NaN;v.cpy1=NaN}}function WE(){var e=this;var eO=e.childOfName("fromSymbol");var cc=e.childOfName("toSymbol");var eM=e.childOfName("label");if(!eO&&!cc&&eM.ignore){return}var eI=1;var eG=this.parent;while(eG){if(eG.scale){eI/=eG.scale[0]}eG=eG.parent}var eH=e.childOfName("line");if(!this.__dirty&&!eH.__dirty){return}var i=eH.shape.percent;var PI=eH.pointAt(0);var eN=eH.pointAt(i);var XY=M3([],eN,PI);a9(XY,XY);if(eO){eO.attr("position",PI);var Z=eH.tangentAt(0);eO.attr("rotation",Math.PI/2-Math.atan2(Z[1],Z[0]));eO.attr("scale",[eI*i,eI*i])}if(cc){cc.attr("position",eN);var Z=eH.tangentAt(1);cc.attr("rotation",-Math.PI/2-Math.atan2(Z[1],Z[0]));cc.attr("scale",[eI*i,eI*i])}if(!eM.ignore){eM.attr("position",eN);var eK;var WH;var eL;var Z2=5*eI;if(eM.__position==="end"){eK=[XY[0]*Z2+eN[0],XY[1]*Z2+eN[1]];WH=XY[0]>0.8?"left":(XY[0]<-0.8?"right":"center");eL=XY[1]>0.8?"top":(XY[1]<-0.8?"bottom":"middle")}else{if(eM.__position==="middle"){var eF=i/2;var Z=eH.tangentAt(eF);var k=[Z[1],-Z[0]];var eJ=eH.pointAt(eF);if(k[1]>0){k[0]=-k[0];k[1]=-k[1]}eK=[eJ[0]+k[0]*Z2,eJ[1]+k[1]*Z2];WH="center";eL="bottom";var v=-Math.atan2(Z[1],Z[0]);if(eN[0]<PI[0]){v=Math.PI+v}eM.attr("rotation",v)}else{eK=[-XY[0]*Z2+PI[0],-XY[1]*Z2+PI[1]];WH=XY[0]>0.8?"right":(XY[0]<-0.8?"left":"center");eL=XY[1]>0.8?"bottom":(XY[1]<-0.8?"top":"middle")}}eM.attr({style:{textVerticalAlign:eM.__verticalAlign||eL,textAlign:eM.__textAlign||WH},position:eK,scale:[eI,eI]})}}function NJ(Z,e,i){TD.call(this);this._createLine(Z,e,i)}var TV=NJ.prototype;TV.beforeUpdate=WE;TV._createLine=function(e,k,PI){var i=e.hostModel;var Z=e.getItemLayout(k);var v=Me(Z);v.shape.percent=0;b0(v,{shape:{percent:1}},i,k);this.add(v);var WH=new FA({name:"label"});this.add(WH);Dc(cl,function(Z2){var XY=Rf(Z2,e,k);this.add(XY);this[QM(Z2)]=e.getItemVisual(k,Z2)},this);this._updateCommonStl(e,k,PI)};TV.updateData=function(e,v,WH){var i=e.hostModel;var PI=this.childOfName("line");var Z=e.getItemLayout(v);var k={shape:{}};eB(k.shape,Z);Pr(PI,k,i,v);Dc(cl,function(eF){var Z2=e.getItemVisual(v,eF);var XY=QM(eF);if(this[XY]!==Z2){this.remove(this.childOfName(eF));var cc=Rf(eF,e,v);this.add(cc)}this[XY]=Z2},this);this._updateCommonStl(e,v,WH)};TV._updateCommonStl=function(i,eP,e){var Z2=i.hostModel;var WH=this.childOfName("line");var cc=e&&e.lineStyle;var eI=e&&e.hoverLineStyle;var Z=e&&e.labelModel;var XY=e&&e.hoverLabelModel;if(!e||i.hasItemOption){var eN=i.getItemModel(eP);cc=eN.getModel("lineStyle.normal").getLineStyle();eI=eN.getModel("lineStyle.emphasis").getLineStyle();Z=eN.getModel("label.normal");XY=eN.getModel("label.emphasis")}var eL=i.getItemVisual(eP,"color");var eH=TQ(i.getItemVisual(eP,"opacity"),cc.opacity,1);WH.useStyle(Id({strokeNoScale:true,fill:"none",stroke:eL,opacity:eH},cc));WH.hoverStyle=eI;Dc(cl,function(eR){var eQ=this.childOfName(eR);if(eQ){eQ.setColor(eL);eQ.setStyle({opacity:eH})}},this);var PI=Z.getShallow("show");var v=XY.getShallow("show");var eO=this.childOfName("label");var eK;var eG;var eF;var eJ;if(PI||v){var k=Z2.getRawValue(eP);eG=k==null?eG=i.getName(eP):isFinite(k)?eA(k):k;eK=eL||"#000";eF=TR(Z2.getFormattedLabel(eP,"normal",i.dataType),eG);eJ=TR(Z2.getFormattedLabel(eP,"emphasis",i.dataType),eF)}if(PI){var eM=Dw(eO.style,Z,{text:eF},{autoColor:eK});eO.__textAlign=eM.textAlign;eO.__verticalAlign=eM.textVerticalAlign;eO.__position=Z.get("position")||"middle"}else{eO.setStyle("text",null)}if(v){eO.hoverStyle={text:eJ,textFill:XY.getTextColor(true),fontStyle:XY.getShallow("fontStyle"),fontWeight:XY.getShallow("fontWeight"),fontSize:XY.getShallow("fontSize"),fontFamily:XY.getShallow("fontFamily")}}else{eO.hoverStyle={text:null}}eO.ignore=!PI&&!v;Ne(this)};TV.highlight=function(){this.trigger("emphasis")};TV.downplay=function(){this.trigger("normal")};TV.updateLayout=function(Z,e){this.setLinePoints(Z.getItemLayout(e))};TV.setLinePoints=function(Z){var e=this.childOfName("line");eB(e.shape,Z);e.dirty()};JO(NJ,TD);function Vg(Z){return isNaN(Z[0])||isNaN(Z[1])}function NX(Z){return !Vg(Z[0])&&!Vg(Z[1])}function Mq(Z){this._ctor=Z||NJ;this.group=new TD()}var IV=Mq.prototype;IV.updateData=function(Z){var k=this._lineData;var v=this.group;var e=this._ctor;var i=Z.hostModel;var PI={lineStyle:i.getModel("lineStyle.normal").getLineStyle(),hoverLineStyle:i.getModel("lineStyle.emphasis").getLineStyle(),labelModel:i.getModel("label.normal"),hoverLabelModel:i.getModel("label.emphasis")};Z.diff(k).add(function(XY){if(!NX(Z.getItemLayout(XY))){return}var WH=new e(Z,XY,PI);Z.setItemGraphicEl(XY,WH);v.add(WH)}).update(function(XY,Z2){var WH=k.getItemGraphicEl(Z2);if(!NX(Z.getItemLayout(XY))){v.remove(WH);return}if(!WH){WH=new e(Z,XY,PI)}else{WH.updateData(Z,XY,PI)}Z.setItemGraphicEl(XY,WH);v.add(WH)}).remove(function(WH){v.remove(k.getItemGraphicEl(WH))}).execute();this._lineData=Z};IV.updateLayout=function(){var Z=this._lineData;Z.eachItemGraphicEl(function(e,i){e.updateLayout(Z,i)},this)};IV.remove=function(){this.group.removeAll()};var Xn=[];var OX=[];var P8=[];var Od=RK;var Ge=FW;var WF=Math.abs;function Eb(eJ,Z,eF){var e=eJ[0];var Z2=eJ[1];var eG=eJ[2];var eK=Infinity;var v;var eI=eF*eF;var k=0.1;for(var WH=0.1;WH<=0.9;WH+=0.1){Xn[0]=Od(e[0],Z2[0],eG[0],WH);Xn[1]=Od(e[1],Z2[1],eG[1],WH);var PI=WF(Ge(Xn,Z)-eI);if(PI<eK){eK=PI;v=WH}}for(var XY=0;XY<32;XY++){var cc=v+k;OX[0]=Od(e[0],Z2[0],eG[0],v);OX[1]=Od(e[1],Z2[1],eG[1],v);P8[0]=Od(e[0],Z2[0],eG[0],cc);P8[1]=Od(e[1],Z2[1],eG[1],cc);var PI=Ge(OX,Z)-eI;if(WF(PI)<0.01){break}var eH=Ge(P8,Z)-eI;k/=2;if(PI<0){if(eH>=0){v=v+k}else{v=v-k}}else{if(eH>=0){v=v-k}else{v=v+k}}}return v}var Dt=function(k,XY){var i=[];var Z2=HJ;var Z=[[],[],[]];var PI=[[],[]];var e=[];XY/=2;function WH(v){var cc=v.getVisual("symbolSize");if(cc instanceof Array){cc=(cc[0]+cc[1])/2}return cc}k.eachEdge(function(eK,eH){var eI=eK.getLayout();var cc=eK.getVisual("fromSymbol");var eF=eK.getVisual("toSymbol");if(!eI.__original){eI.__original=[XP(eI[0]),XP(eI[1])];if(eI[2]){eI.__original.push(XP(eI[2]))}}var eJ=eI.__original;if(eI[2]!=null){He(Z[0],eJ[0]);He(Z[1],eJ[2]);He(Z[2],eJ[1]);if(cc&&cc!="none"){var v=WH(eK.node1);var eG=Eb(Z,eJ[0],v*XY);Z2(Z[0][0],Z[1][0],Z[2][0],eG,i);Z[0][0]=i[3];Z[1][0]=i[4];Z2(Z[0][1],Z[1][1],Z[2][1],eG,i);Z[0][1]=i[3];Z[1][1]=i[4]}if(eF&&eF!="none"){var v=WH(eK.node2);var eG=Eb(Z,eJ[1],v*XY);Z2(Z[0][0],Z[1][0],Z[2][0],eG,i);Z[1][0]=i[1];Z[2][0]=i[2];Z2(Z[0][1],Z[1][1],Z[2][1],eG,i);Z[1][1]=i[1];Z[2][1]=i[2]}He(eI[0],Z[0]);He(eI[1],Z[2]);He(eI[2],Z[1])}else{He(PI[0],eJ[0]);He(PI[1],eJ[1]);M3(e,PI[1],PI[0]);a9(e,e);if(cc&&cc!="none"){var v=WH(eK.node1);G9(PI[0],PI[0],e,v*XY)}if(eF&&eF!="none"){var v=WH(eK.node2);G9(PI[1],PI[1],e,-v*XY)}He(eI[0],PI[0]);He(eI[1],PI[1])}})};var Ub=["itemStyle","normal","opacity"];var Iy=["lineStyle","normal","opacity"];function HC(e,Z){return e.getVisual("opacity")||e.getModel().get(Z)}function eq(v,i,k){var Z=v.getGraphicEl();var e=HC(v,i);if(k!=null){e==null&&(e=1);e*=k}Z.downplay&&Z.downplay();Z.traverse(function(PI){if(PI.type!=="group"){PI.setStyle("opacity",e)}})}function El(k,i){var e=HC(k,i);var Z=k.getGraphicEl();Z.highlight&&Z.highlight();Z.traverse(function(v){if(v.type!=="group"){v.setStyle("opacity",e)}})}WQ({type:"graph",init:function(i,v){var k=new eb();var Z=new Mq();var e=this.group;this._controller=new CQ(v.getZr());this._controllerHost={target:e};e.add(k.group);e.add(Z.group);this._symbolDraw=k;this._lineDraw=Z;this._firstRender=true},render:function(eJ,e,eH){var i=eJ.coordinateSystem;this._model=eJ;this._nodeScaleRatio=eJ.get("nodeScaleRatio");var eG=this._symbolDraw;var WH=this._lineDraw;var cc=this.group;if(i.type==="view"){var Z={position:i.position,scale:i.scale};if(this._firstRender){cc.attr(Z)}else{Pr(cc,Z,eJ)}}Dt(eJ.getGraph(),this._getNodeGlobalScale(eJ));var v=eJ.getData();eG.updateData(v);var eF=eJ.getEdgeData();WH.updateData(eF);this._updateNodeAndLinkScale();this._updateController(eJ,e,eH);clearTimeout(this._layoutTimeout);var PI=eJ.forceLayout;var eI=eJ.get("force.layoutAnimation");if(PI){this._startForceLayoutIteration(PI,eI)}v.eachItemGraphicEl(function(eK,eN){var eM=v.getItemModel(eN);eK.off("drag").off("dragend");var eL=v.getItemModel(eN).get("draggable");if(eL){eK.on("drag",function(){if(PI){PI.warmUp();!this._layouting&&this._startForceLayoutIteration(PI,eI);PI.setFixed(eN);v.setItemLayout(eN,eK.position)}},this).on("dragend",function(){if(PI){PI.setUnfixed(eN)}},this)}eK.setDraggable(eL&&PI);eK.off("mouseover",eK.__focusNodeAdjacency);eK.off("mouseout",eK.__unfocusNodeAdjacency);if(eM.get("focusNodeAdjacency")){eK.on("mouseover",eK.__focusNodeAdjacency=function(){eH.dispatchAction({type:"focusNodeAdjacency",seriesId:eJ.id,dataIndex:eK.dataIndex})});eK.on("mouseout",eK.__unfocusNodeAdjacency=function(){eH.dispatchAction({type:"unfocusNodeAdjacency",seriesId:eJ.id})})}},this);v.graph.eachEdge(function(eL){var eK=eL.getGraphicEl();eK.off("mouseover",eK.__focusNodeAdjacency);eK.off("mouseout",eK.__unfocusNodeAdjacency);if(eL.getModel().get("focusNodeAdjacency")){eK.on("mouseover",eK.__focusNodeAdjacency=function(){eH.dispatchAction({type:"focusNodeAdjacency",seriesId:eJ.id,edgeDataIndex:eL.dataIndex})});eK.on("mouseout",eK.__unfocusNodeAdjacency=function(){eH.dispatchAction({type:"unfocusNodeAdjacency",seriesId:eJ.id})})}});var k=eJ.get("layout")==="circular"&&eJ.get("circular.rotateLabel");var Z2=v.getLayout("cx");var XY=v.getLayout("cy");v.eachItemGraphicEl(function(eK,eP){var eM=eK.getSymbolPath();if(k){var eN=v.getItemLayout(eP);var eL=Math.atan2(eN[1]-XY,eN[0]-Z2);if(eL<0){eL=Math.PI*2+eL}var eO=eN[0]<Z2;if(eO){eL=eL-Math.PI}var eQ=eO?"left":"right";eM.setStyle({textRotation:-eL,textPosition:eQ,textOrigin:"center"});eM.hoverStyle&&(eM.hoverStyle.textPosition=eQ)}else{eM.setStyle({textRotation:0})}});this._firstRender=false},dispose:function(){this._controller&&this._controller.dispose();this._controllerHost={}},focusNodeAdjacency:function(cc,e,Z2,i){var v=this._model.getData();var k=v.graph;var XY=i.dataIndex;var Z=i.edgeDataIndex;var PI=k.getNodeByIndex(XY);var WH=k.getEdgeByIndex(Z);if(!PI&&!WH){return}k.eachNode(function(eF){eq(eF,Ub,0.1)});k.eachEdge(function(eF){eq(eF,Iy,0.1)});if(PI){El(PI,Ub);Dc(PI.edges,function(eF){if(eF.dataIndex<0){return}El(eF,Iy);El(eF.node1,Ub);El(eF.node2,Ub)})}if(WH){El(WH,Iy);El(WH.node1,Ub);El(WH.node2,Ub)}},unfocusNodeAdjacency:function(Z,e,v,k){var i=this._model.getData().graph;i.eachNode(function(PI){eq(PI,Ub)});i.eachEdge(function(PI){eq(PI,Iy)})},_startForceLayoutIteration:function(e,k){var i=this;(function Z(){e.step(function(v){i.updateLayout(i._model);(i._layouting=!v)&&(k?(i._layoutTimeout=setTimeout(Z,16)):Z())})})()},_updateController:function(Z,e,v){var PI=this._controller;var i=this._controllerHost;var k=this.group;PI.setPointerChecker(function(WH,Z2,cc){var XY=k.getBoundingRect();XY.applyTransform(k.transform);return XY.contain(Z2,cc)&&!W2(WH,v,Z)});if(Z.coordinateSystem.type!=="view"){PI.disable();return}PI.enable(Z.get("roam"));i.zoomLimit=Z.get("scaleLimit");i.zoom=Z.coordinateSystem.getZoom();PI.off("pan").off("zoom").on("pan",function(WH,XY){Hw(i,WH,XY);v.dispatchAction({seriesId:Z.id,type:"graphRoam",dx:WH,dy:XY})}).on("zoom",function(Z2,WH,XY){K6(i,Z2,WH,XY);v.dispatchAction({seriesId:Z.id,type:"graphRoam",zoom:Z2,originX:WH,originY:XY});this._updateNodeAndLinkScale();Dt(Z.getGraph(),this._getNodeGlobalScale(Z));this._lineDraw.updateLayout()},this)},_updateNodeAndLinkScale:function(){var Z=this._model;var k=Z.getData();var e=this._getNodeGlobalScale(Z);var i=[e,e];k.eachItemGraphicEl(function(v,PI){v.attr("scale",i)})},_getNodeGlobalScale:function(Z){var i=Z.coordinateSystem;if(i.type!=="view"){return 1}var e=this._nodeScaleRatio;var v=i.scale;var WH=(v&&v[0])||1;var k=i.getZoom();var PI=(k-1)*e+1;return PI/WH},updateLayout:function(Z){Dt(Z.getGraph(),this._getNodeGlobalScale(Z));this._symbolDraw.updateLayout();this._lineDraw.updateLayout()},remove:function(Z,e){this._symbolDraw&&this._symbolDraw.remove();this._lineDraw&&this._lineDraw.remove()}});var S6={type:"graphRoam",event:"graphRoam",update:"none"};R0(S6,function(e,Z){Z.eachComponent({mainType:"series",query:e},function(i){var k=i.coordinateSystem;var v=Us(k,e);i.setCenter&&i.setCenter(v.center);i.setZoom&&i.setZoom(v.zoom)})});R0({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series.graph:focusNodeAdjacency"},function(){});R0({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series.graph:unfocusNodeAdjacency"},function(){});var cM=function(Z){var e=Z.findComponents({mainType:"legend"});if(!e||!e.length){return}Z.eachSeriesByType("graph",function(PI){var v=PI.getCategoriesData();var k=PI.getGraph();var WH=k.data;var i=v.mapArray(v.getName);WH.filterSelf(function(cc){var eF=WH.getItemModel(cc);var Z2=eF.getShallow("category");if(Z2!=null){if(typeof Z2==="number"){Z2=i[Z2]}for(var XY=0;XY<e.length;XY++){if(!e[XY].isSelected(Z2)){return false}}}return true})},this)};var Af=function(Z){var e={};Z.eachSeriesByType("graph",function(i){var v=i.getCategoriesData();var PI=i.getData();var k={};v.each(function(Z2){var XY=v.getName(Z2);k["ec-"+XY]=Z2;var WH=v.getItemModel(Z2);var cc=WH.get("itemStyle.normal.color")||i.getColorFromPalette(XY,e);v.setItemVisual(Z2,"color",cc)});if(v.count()){PI.each(function(XY){var Z2=PI.getItemModel(XY);var WH=Z2.getShallow("category");if(WH!=null){if(typeof WH==="string"){WH=k["ec-"+WH]}if(!PI.getItemVisual(XY,"color",true)){PI.setItemVisual(XY,"color",v.getItemVisual(WH,"color"))}}})}})};function cO(Z){if(!(Z instanceof Array)){Z=[Z,Z]}return Z}var Gq=function(Z){Z.eachSeriesByType("graph",function(e){var v=e.getGraph();var k=e.getEdgeData();var PI=cO(e.get("edgeSymbol"));var WH=cO(e.get("edgeSymbolSize"));var XY="lineStyle.normal.color".split(".");var i="lineStyle.normal.opacity".split(".");k.setVisual("fromSymbol",PI&&PI[0]);k.setVisual("toSymbol",PI&&PI[1]);k.setVisual("fromSymbolSize",WH&&WH[0]);k.setVisual("toSymbolSize",WH&&WH[1]);k.setVisual("color",e.get(XY));k.setVisual("opacity",e.get(i));k.each(function(eH){var cc=k.getItemModel(eH);var eF=v.getEdgeByIndex(eH);var Z2=cO(cc.getShallow("symbol",true));var eI=cO(cc.getShallow("symbolSize",true));var eJ=cc.get(XY);var eG=cc.get(i);switch(eJ){case"source":eJ=eF.node1.getVisual("color");break;case"target":eJ=eF.node2.getVisual("color");break}Z2[0]&&eF.setVisual("fromSymbol",Z2[0]);Z2[1]&&eF.setVisual("toSymbol",Z2[1]);eI[0]&&eF.setVisual("fromSymbolSize",eI[0]);eI[1]&&eF.setVisual("toSymbolSize",eI[1]);eF.setVisual("color",eJ);eF.setVisual("opacity",eG)})})};function Pd(Z){var e=Z.coordinateSystem;if(e&&e.type!=="view"){return}var i=Z.getGraph();i.eachNode(function(k){var v=k.getModel();k.setLayout([+v.get("x"),+v.get("y")])});B9(i)}function B9(Z){Z.eachEdge(function(i){var k=i.getModel().get("lineStyle.normal.curveness")||0;var e=XP(i.node1.getLayout());var v=XP(i.node2.getLayout());var PI=[e,v];if(+k){PI.push([(e[0]+v[0])/2-(e[1]-v[1])*k,(e[1]+v[1])/2-(v[0]-e[0])*k])}i.setLayout(PI)})}var QI=function(Z,e){Z.eachSeriesByType("graph",function(i){var PI=i.get("layout");var k=i.coordinateSystem;if(k&&k.type!=="view"){var WH=i.getData();var v=k.dimensions;WH.each(v,function(){var XY;var eG=arguments;var eF=[];for(var Z2=0;Z2<v.length;Z2++){if(!isNaN(eG[Z2])){XY=true}eF.push(eG[Z2])}var cc=eG[eG.length-1];if(XY){WH.setItemLayout(cc,k.dataToPoint(eF))}else{WH.setItemLayout(cc,[NaN,NaN])}});B9(WH.graph)}else{if(!PI||PI==="none"){Pd(i)}}})};function VB(eF){var e=eF.coordinateSystem;if(e&&e.type!=="view"){return}var i=e.getBoundingRect();var PI=eF.getData();var v=PI.graph;var cc=0;var XY=PI.getSum("value");var Z2=Math.PI*2/(XY||PI.count());var k=i.width/2+i.x;var WH=i.height/2+i.y;var Z=Math.min(i.width,i.height)/2;v.eachNode(function(eG){var eH=eG.getValue("value");cc+=Z2*(XY?eH:1)/2;eG.setLayout([Z*Math.cos(cc)+k,Z*Math.sin(cc)+WH]);cc+=Z2*(XY?eH:1)/2});PI.setLayout({cx:k,cy:WH});v.eachEdge(function(eJ){var eK=eJ.getModel().get("lineStyle.normal.curveness")||0;var eH=XP(eJ.node1.getLayout());var eL=XP(eJ.node2.getLayout());var eI;var eG=(eH[0]+eL[0])/2;var eM=(eH[1]+eL[1])/2;if(+eK){eK*=3;eI=[k*eK+eG*(1-eK),WH*eK+eM*(1-eK)]}eJ.setLayout([eH,eL,eI])})}var b4=function(Z){Z.eachSeriesByType("graph",function(e){if(e.get("layout")==="circular"){VB(e)}})};var Cm=G9;function Pv(eG,e,XY){var v=XY.rect;var Z2=v.width;var k=v.height;var Z=[v.x+Z2/2,v.y+k/2];var eF=XY.gravity==null?0.1:XY.gravity;for(var WH=0;WH<eG.length;WH++){var cc=eG[WH];if(!cc.p){cc.p=bl(Z2*(Math.random()-0.5)+Z[0],k*(Math.random()-0.5)+Z[1])}cc.pp=XP(cc.p);cc.edges=null}var PI=0.6;return{warmUp:function(){PI=0.5},setFixed:function(i){eG[i].fixed=true},setUnfixed:function(i){eG[i].fixed=false},step:function(eK){var eR=[];var eO=eG.length;for(var eP=0;eP<e.length;eP++){var eH=e[eP];var eT=eH.n1;var eI=eH.n2;M3(eR,eI.p,eT.p);var eJ=ZX(eR)-eH.d;var eL=eI.w/(eT.w+eI.w);if(isNaN(eL)){eL=0}a9(eR,eR);!eT.fixed&&Cm(eT.p,eT.p,eR,eL*eJ*PI);!eI.fixed&&Cm(eI.p,eI.p,eR,-(1-eL)*eJ*PI)}for(var eP=0;eP<eO;eP++){var eQ=eG[eP];if(!eQ.fixed){M3(eR,Z,eQ.p);Cm(eQ.p,eQ.p,eR,eF*PI)}}for(var eP=0;eP<eO;eP++){var eT=eG[eP];for(var eN=eP+1;eN<eO;eN++){var eI=eG[eN];M3(eR,eI.p,eT.p);var eJ=ZX(eR);if(eJ===0){VZ(eR,Math.random()-0.5,Math.random()-0.5);eJ=1}var eS=(eT.rep+eI.rep)/eJ/eJ;!eT.fixed&&Cm(eT.pp,eT.pp,eR,eS);!eI.fixed&&Cm(eI.pp,eI.pp,eR,-eS)}}var eM=[];for(var eP=0;eP<eO;eP++){var eQ=eG[eP];if(!eQ.fixed){M3(eM,eQ.p,eQ.pp);Cm(eQ.p,eQ.p,eM,PI);He(eQ.pp,eQ.p)}}PI=PI*0.992;eK&&eK(eG,e,PI<0.01)}}}var SE=function(Z){Z.eachSeriesByType("graph",function(eK){var cc=eK.coordinateSystem;if(cc&&cc.type!=="view"){return}if(eK.get("layout")==="force"){var WH=eK.preservedPoints||{};var eF=eK.getGraph();var eG=eF.data;var eL=eF.edgeData;var eI=eK.getModel("force");var e=eI.get("initLayout");if(eK.preservedPoints){eG.each(function(eN){var eO=eG.getId(eN);eG.setItemLayout(eN,WH[eO]||[NaN,NaN])})}else{if(!e||e==="none"){Pd(eK)}else{if(e==="circular"){VB(eK)}}}var v=eG.getDataExtent("value");var eH=eL.getDataExtent("value");var eM=eI.get("repulsion");var Z2=eI.get("edgeLength");if(!aO(eM)){eM=[eM,eM]}if(!aO(Z2)){Z2=[Z2,Z2]}Z2=[Z2[1],Z2[0]];var k=eG.mapArray("value",function(eQ,eP){var eN=eG.getItemLayout(eP);var eO=WL(eQ,v,eM);if(isNaN(eO)){eO=(eM[0]+eM[1])/2}return{w:eO,rep:eO,fixed:eG.getItemModel(eP).get("fixed"),p:(!eN||isNaN(eN[0])||isNaN(eN[1]))?null:eN}});var eJ=eL.mapArray("value",function(eQ,eO){var eP=eF.getEdgeByIndex(eO);var eN=WL(eQ,eH,Z2);if(isNaN(eN)){eN=(Z2[0]+Z2[1])/2}return{n1:k[eP.node1.dataIndex],n2:k[eP.node2.dataIndex],d:eN,curveness:eP.getModel().get("lineStyle.normal.curveness")||0}});var cc=eK.coordinateSystem;var XY=cc.getBoundingRect();var i=Pv(k,eJ,{rect:XY,gravity:eI.get("gravity")});var PI=i.step;i.step=function(eN){for(var eO=0,eP=k.length;eO<eP;eO++){if(k[eO].fixed){He(k[eO].p,eF.getNodeByIndex(eO).getLayout())}}PI(function(eZ,eR,eS){for(var eT=0,eV=eZ.length;eT<eV;eT++){if(!eZ[eT].fixed){eF.getNodeByIndex(eT).setLayout(eZ[eT].p)}WH[eG.getId(eT)]=eZ[eT].p}for(var eT=0,eV=eR.length;eT<eV;eT++){var eQ=eR[eT];var eW=eF.getEdgeByIndex(eT);var eU=eQ.n1.p;var eY=eQ.n2.p;var eX=eW.getLayout();eX=eX?eX.slice():[];eX[0]=eX[0]||[];eX[1]=eX[1]||[];He(eX[0],eU);He(eX[1],eY);if(+eQ.curveness){eX[2]=[(eU[0]+eY[0])/2-(eU[1]-eY[1])*eQ.curveness,(eU[1]+eY[1])/2-(eY[0]-eU[0])*eQ.curveness]}eW.setLayout(eX)}eN&&eN(eS)})};eK.forceLayout=i;eK.preservedPoints=WH;i.step()}else{eK.forceLayout=null}})};function Gu(Z,k,i){var e=Z.getBoxLayoutParams();e.aspect=i;return CC(e,{width:k.getWidth(),height:k.getHeight()})}var M6=function(Z,i){var e=[];Z.eachSeriesByType("graph",function(Z2){var eF=Z2.get("coordinateSystem");if(!eF||eF==="view"){var PI=Z2.getData();var k=PI.mapArray(function(eM){var eL=PI.getItemModel(eM);return[+eL.get("x"),+eL.get("y")]});var v=[];var eK=[];AC(k,v,eK);if(eK[0]-v[0]===0){eK[0]+=1;v[0]-=1}if(eK[1]-v[1]===0){eK[1]+=1;v[1]-=1}var XY=(eK[0]-v[0])/(eK[1]-v[1]);var eI=Gu(Z2,i,XY);if(isNaN(XY)){v=[eI.x,eI.y];eK=[eI.x+eI.width,eI.y+eI.height]}var eH=eK[0]-v[0];var eG=eK[1]-v[1];var eJ=eI.width;var WH=eI.height;var cc=Z2.coordinateSystem=new A8();cc.zoomLimit=Z2.get("scaleLimit");cc.setBoundingRect(v[0],v[1],eH,eG);cc.setViewRect(eI.x,eI.y,eJ,WH);cc.setCenter(Z2.get("center"));cc.setZoom(Z2.get("zoom"));e.push(cc)}});return e};bI(cM);Ai(aT(Qz,"graph","circle",null));Ai(Af);Ai(Gq);el(QI);el(b4);el(SE);QX("graphView",{create:M6});var NT=RY.extend({type:"series.gauge",getInitialData:function(Z,e){var k=new Lu(["value"],this);var i=Z.data||[];if(!aO(i)){i=[i]}k.initData(i);return k},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:true,radius:"75%",startAngle:225,endAngle:-45,clockwise:true,min:0,max:100,splitNumber:10,axisLine:{show:true,lineStyle:{color:[[0.2,"#91c7ae"],[0.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:true,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:true,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:true,distance:5,color:"auto"},pointer:{show:true,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:true,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:true,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});var TM=Lw.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(k,i){var Z=Math.cos;var WH=Math.sin;var e=i.r;var v=i.width;var PI=i.angle;var Z2=i.x-Z(PI)*v*(v>=e/3?1:2);var XY=i.y-WH(PI)*v*(v>=e/3?1:2);PI=i.angle-Math.PI/2;k.moveTo(Z2,XY);k.lineTo(i.x+Z(PI)*v,i.y+WH(PI)*v);k.lineTo(i.x+Z(i.angle)*e,i.y+WH(i.angle)*e);k.lineTo(i.x-Z(PI)*v,i.y-WH(PI)*v);k.lineTo(Z2,XY);return}});function Kj(Z2,XY){var Z=Z2.get("center");var WH=XY.getWidth();var e=XY.getHeight();var v=Math.min(WH,e);var PI=OC(Z[0],XY.getWidth());var k=OC(Z[1],XY.getHeight());var i=OC(Z2.get("radius"),v/2);return{cx:PI,cy:k,r:i}}function HN(Z,e){if(e){if(typeof e==="string"){Z=e.replace("{value}",Z!=null?Z:"")}else{if(typeof e==="function"){Z=e(Z)}}}return Z}var c8=Math.PI*2;var Aj=L2.extend({type:"gauge",render:function(Z,e,v){this.group.removeAll();var i=Z.get("axisLine.lineStyle.color");var k=Kj(Z,v);this._renderMain(Z,e,v,i,k)},dispose:function(){},_renderMain:function(XY,v,eF,Z2,eO){var eH=this.group;var WH=XY.getModel("axisLine");var eM=WH.getModel("lineStyle");var k=XY.get("clockwise");var cc=-XY.get("startAngle")/180*Math.PI;var eL=-XY.get("endAngle")/180*Math.PI;var eI=(eL-cc)%c8;var eK=cc;var PI=eM.get("width");for(var eN=0;eN<Z2.length;eN++){var eG=Math.min(Math.max(Z2[eN][0],0),1);var eL=cc+eI*eG;var e=new KS({shape:{startAngle:eK,endAngle:eL,cx:eO.cx,cy:eO.cy,clockwise:k,r0:eO.r-PI,r:eO.r},silent:true});e.setStyle({fill:Z2[eN][1]});e.setStyle(eM.getLineStyle(["color","borderWidth","borderColor"]));eH.add(e);eK=eL}var eJ=function(eP){if(eP<=0){return Z2[0][1]}for(var eQ=0;eQ<Z2.length;eQ++){if(Z2[eQ][0]>=eP&&(eQ===0?0:Z2[eQ-1][0])<eP){return Z2[eQ][1]}}return Z2[eQ-1][1]};if(!k){var Z=cc;cc=eL;eL=Z}this._renderTicks(XY,v,eF,eJ,eO,cc,eL,k);this._renderPointer(XY,v,eF,eJ,eO,cc,eL,k);this._renderTitle(XY,v,eF,eJ,eO);this._renderDetail(XY,v,eF,eJ,eO)},_renderTicks:function(e0,eO,e,eN,eQ,WH,eS,XY){var eI=this.group;var e4=eQ.cx;var eP=eQ.cy;var eV=eQ.r;var Z2=+e0.get("min");var eF=+e0.get("max");var eG=e0.getModel("splitLine");var eW=e0.getModel("axisTick");var eR=e0.getModel("axisLabel");var cc=e0.get("splitNumber");var e3=eW.get("splitNumber");var eX=OC(eG.get("length"),eV);var eT=OC(eW.get("length"),eV);var eM=WH;var eU=(eS-WH)/cc;var Z=eU/e3;var eY=eG.getModel("lineStyle").getLineStyle();var eL=eW.getModel("lineStyle").getLineStyle();for(var eK=0;eK<=cc;eK++){var v=Math.cos(eM);var PI=Math.sin(eM);if(eG.get("show")){var eZ=new S7({shape:{x1:v*eV+e4,y1:PI*eV+eP,x2:v*(eV-eX)+e4,y2:PI*(eV-eX)+eP},style:eY,silent:true});if(eY.stroke==="auto"){eZ.setStyle({stroke:eN(eK/cc)})}eI.add(eZ)}if(eR.get("show")){var eH=HN(eA(eK/cc*(eF-Z2)+Z2),eR.get("formatter"));var e2=eR.get("distance");var e1=eN(eK/cc);eI.add(new FA({style:Dw({},eR,{text:eH,x:v*(eV-eX-e2)+e4,y:PI*(eV-eX-e2)+eP,textVerticalAlign:PI<-0.4?"top":(PI>0.4?"bottom":"middle"),textAlign:v<-0.4?"left":(v>0.4?"right":"center")},{autoColor:e1}),silent:true}))}if(eW.get("show")&&eK!==cc){for(var eJ=0;eJ<=e3;eJ++){var v=Math.cos(eM);var PI=Math.sin(eM);var k=new S7({shape:{x1:v*eV+e4,y1:PI*eV+eP,x2:v*(eV-eT)+e4,y2:PI*(eV-eT)+eP},silent:true,style:eL});if(eL.stroke==="auto"){k.setStyle({stroke:eN((eK+eJ/e3)/cc)})}eI.add(k);eM+=Z}eM-=Z}else{eM+=eU}}},_renderPointer:function(WH,e,eF,i,eG,eH,Z,PI){var XY=this.group;var v=this._data;if(!WH.get("pointer.show")){v&&v.eachItemGraphicEl(function(eI){XY.remove(eI)});return}var Z2=[+WH.get("min"),+WH.get("max")];var cc=[eH,Z];var k=WH.getData();k.diff(v).add(function(eJ){var eI=new TM({shape:{angle:eH}});b0(eI,{shape:{angle:WL(k.get("value",eJ),Z2,cc,true)}},WH);XY.add(eI);k.setItemGraphicEl(eJ,eI)}).update(function(eJ,eK){var eI=v.getItemGraphicEl(eK);Pr(eI,{shape:{angle:WL(k.get("value",eJ),Z2,cc,true)}},WH);XY.add(eI);k.setItemGraphicEl(eJ,eI)}).remove(function(eJ){var eI=v.getItemGraphicEl(eJ);XY.remove(eI)}).execute();k.eachItemGraphicEl(function(eI,eK){var eJ=k.getItemModel(eK);var eL=eJ.getModel("pointer");eI.setShape({x:eG.cx,y:eG.cy,width:OC(eL.get("width"),eG.r),r:OC(eL.get("length"),eG.r)});eI.useStyle(eJ.getModel("itemStyle.normal").getItemStyle());if(eI.style.fill==="auto"){eI.setStyle("fill",i(WL(k.get("value",eK),Z2,[0,1],true)))}Ne(eI,eJ.getModel("itemStyle.emphasis").getItemStyle())});this._data=k},_renderTitle:function(XY,i,eG,k,e){var Z=XY.getModel("title");if(Z.get("show")){var eH=Z.get("offsetCenter");var cc=e.cx+OC(eH[0],e.r);var eF=e.cy+OC(eH[1],e.r);var v=+XY.get("min");var WH=+XY.get("max");var Z2=XY.getData().get("value",0);var PI=k(WL(Z2,[v,WH],[0,1],true));this.group.add(new FA({silent:true,style:Dw({},Z,{x:cc,y:eF,text:XY.getData().getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:PI,forceRich:true})}))}},_renderDetail:function(XY,e,eI,i,Z){var eJ=XY.getModel("detail");var k=+XY.get("min");var WH=+XY.get("max");if(eJ.get("show")){var v=eJ.get("offsetCenter");var eG=Z.cx+OC(v[0],Z.r);var eH=Z.cy+OC(v[1],Z.r);var eF=OC(eJ.get("width"),Z.r);var cc=OC(eJ.get("height"),Z.r);var Z2=XY.getData().get("value",0);var PI=i(WL(Z2,[k,WH],[0,1],true));this.group.add(new FA({silent:true,style:Dw({},eJ,{x:eG,y:eH,text:HN(Z2,eJ.get("formatter")),textWidth:isNaN(eF)?null:eF,textHeight:isNaN(cc)?null:cc,textAlign:"center",textVerticalAlign:"middle"},{autoColor:PI,forceRich:true})}))}}});var XW=Q6({type:"series.funnel",init:function(Z){XW.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()};this._defaultLabelLine(Z)},getInitialData:function(e,i){var k=B(["value"],e.data);var Z=new Lu(k,this);Z.initData(e.data);return Z},_defaultLabelLine:function(Z){V4(Z.labelLine,["show"]);var e=Z.labelLine.normal;var i=Z.labelLine.emphasis;e.show=e.show&&Z.label.normal.show;i.show=i.show&&Z.label.emphasis.show},getDataParams:function(Z){var k=this.getData();var i=XW.superCall(this,"getDataParams",Z);var e=k.getSum("value");i.percent=!e?0:+(k.get("value",Z)/e*100).toFixed(2);i.$vars.push("percent");return i},defaultOption:{zlevel:0,z:2,legendHoverLink:true,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:true,position:"outer"},emphasis:{show:true}},labelLine:{normal:{show:true,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}});function Ex(WH,k){TD.call(this);var v=new GN();var e=new I3();var i=new FA();this.add(v);this.add(e);this.add(i);this.updateData(WH,k,true);function PI(){e.ignore=e.hoverIgnore;i.ignore=i.hoverIgnore}function Z(){e.ignore=e.normalIgnore;i.ignore=i.normalIgnore}this.on("emphasis",PI).on("normal",Z).on("mouseover",PI).on("mouseout",Z)}var BA=Ex.prototype;var Cy=["itemStyle","normal","opacity"];BA.updateData=function(e,k,i){var WH=this.childAt(0);var cc=e.hostModel;var Z=e.getItemModel(k);var XY=e.getItemLayout(k);var PI=e.getItemModel(k).get(Cy);PI=PI==null?1:PI;WH.useStyle({});if(i){WH.setShape({points:XY.points});WH.setStyle({opacity:0});b0(WH,{style:{opacity:PI}},cc,k)}else{Pr(WH,{style:{opacity:PI},shape:{points:XY.points}},cc,k)}var v=Z.getModel("itemStyle");var Z2=e.getItemVisual(k,"color");WH.setStyle(Id({lineJoin:"round",fill:Z2},v.getModel("normal").getItemStyle(["opacity"])));WH.hoverStyle=v.getModel("emphasis").getItemStyle();this._updateLabel(e,k);Ne(this)};BA._updateLabel=function(v,WH){var e=this.childAt(1);var k=this.childAt(2);var eH=v.hostModel;var i=v.getItemModel(WH);var cc=v.getItemLayout(WH);var PI=cc.label;var eF=v.getItemVisual(WH,"color");Pr(e,{shape:{points:PI.linePoints||PI.linePoints}},eH,WH);Pr(k,{style:{x:PI.x,y:PI.y}},eH,WH);k.attr({rotation:PI.rotation,origin:[PI.x,PI.y],z2:10});var Z2=i.getModel("label.normal");var XY=i.getModel("label.emphasis");var eG=i.getModel("labelLine.normal");var Z=i.getModel("labelLine.emphasis");var eF=v.getItemVisual(WH,"color");Ha(k.style,k.hoverStyle={},Z2,XY,{labelFetcher:v.hostModel,labelDataIndex:WH,defaultText:v.getName(WH),autoColor:eF,useInsideStyle:!!PI.inside},{textAlign:PI.textAlign,textVerticalAlign:PI.verticalAlign});k.ignore=k.normalIgnore=!Z2.get("show");k.hoverIgnore=!XY.get("show");e.ignore=e.normalIgnore=!eG.get("show");e.hoverIgnore=!Z.get("show");e.setStyle({stroke:eF});e.setStyle(eG.getModel("lineStyle").getLineStyle());e.hoverStyle=Z.getModel("lineStyle").getLineStyle()};JO(Ex,TD);var Ix=L2.extend({type:"funnel",render:function(Z,e,v){var PI=Z.getData();var k=this._data;var i=this.group;PI.diff(k).add(function(XY){var WH=new Ex(PI,XY);PI.setItemGraphicEl(XY,WH);i.add(WH)}).update(function(WH,XY){var Z2=k.getItemGraphicEl(XY);Z2.updateData(PI,WH);i.add(Z2);PI.setItemGraphicEl(WH,Z2)}).remove(function(WH){var XY=k.getItemGraphicEl(WH);i.remove(XY)}).execute();this._data=PI},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}});function Gs(Z,e){return CC(Z.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Nk(XY,e){var v=XY.mapArray("value",function(i){return i});var Z=[];var WH=e==="ascending";for(var k=0,PI=XY.count();k<PI;k++){Z[k]=k}if(typeof e==="function"){Z.sort(e)}else{if(e!=="none"){Z.sort(function(Z2,i){return WH?v[Z2]-v[i]:v[i]-v[Z2]})}}return Z}function MI(Z){Z.each(function(eK){var v=Z.getItemModel(eK);var i=v.getModel("label.normal");var e=i.get("position");var eH=v.getModel("labelLine.normal");var XY=Z.getItemLayout(eK);var cc=XY.points;var WH=e==="inner"||e==="inside"||e==="center";var Z2;var eI;var eJ;var PI;if(WH){eI=(cc[0][0]+cc[1][0]+cc[2][0]+cc[3][0])/4;eJ=(cc[0][1]+cc[1][1]+cc[2][1]+cc[3][1])/4;Z2="center";PI=[[eI,eJ],[eI,eJ]]}else{var eF;var eG;var eL;var k=eH.get("length");if(e==="left"){eF=(cc[3][0]+cc[0][0])/2;eG=(cc[3][1]+cc[0][1])/2;eL=eF-k;eI=eL-5;Z2="right"}else{eF=(cc[1][0]+cc[2][0])/2;eG=(cc[1][1]+cc[2][1])/2;eL=eF+k;eI=eL+5;Z2="left"}var eM=eG;PI=[[eF,eG],[eL,eM]];eJ=eM}XY.label={linePoints:PI,x:eI,y:eJ,verticalAlign:"middle",textAlign:Z2,inside:WH}})}var WX=function(Z,i,e){Z.eachSeriesByType("funnel",function(Z2){var v=Z2.getData();var eI=Z2.get("sort");var eQ=Gs(Z2,i);var eJ=Nk(v,eI);var k=[OC(Z2.get("minSize"),eQ.width),OC(Z2.get("maxSize"),eQ.width)];var XY=v.getDataExtent("value");var eG=Z2.get("min");var eL=Z2.get("max");if(eG==null){eG=Math.min(XY[0],0)}if(eL==null){eL=XY[1]}var eF=Z2.get("funnelAlign");var WH=Z2.get("gap");var PI=(eQ.height-WH*(v.count()-1))/v.count();var eM=eQ.y;var eH=function(eU,eR){var eV=v.get("value",eU)||0;var eS=WL(eV,[eG,eL],k,true);var eT;switch(eF){case"left":eT=eQ.x;break;case"center":eT=eQ.x+(eQ.width-eS)/2;break;case"right":eT=eQ.x+eQ.width-eS;break}return[[eT,eR],[eT+eS,eR]]};if(eI==="ascending"){PI=-PI;WH=-WH;eM+=eQ.height;eJ=eJ.reverse()}for(var eK=0;eK<eJ.length;eK++){var eN=eJ[eK];var cc=eJ[eK+1];var eP=eH(eN,eM);var eO=eH(cc,eM+PI);eM+=PI+WH;v.setItemLayout(eN,{points:eP.concat(eO.slice().reverse())})}MI(v)})};Ai(aT(bn,"funnel"));el(WX);bI(aT(En,"funnel"));var HZ=function(Z){aZ(Z);Hp(Z)};function aZ(Z){if(Z.parallel){return}var e=false;Dc(Z.series,function(i){if(i&&i.type==="parallel"){e=true}});if(e){Z.parallel=[{}]}}function Hp(e){var Z=Xf(e.parallelAxis);Dc(Z,function(k){if(!Q(k)){return}var i=k.parallelIndex||0;var v=Xf(e.parallel)[i];if(v&&v.parallelAxisDefault){KT(k,v.parallelAxisDefault,false)}})}var Yd=function(e,i,Z,k,v){T1.call(this,e,i,Z);this.type=k||"value";this.axisIndex=v};Yd.prototype={constructor:Yd,model:null,isHorizontal:function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"}};JO(Yd,T1);var JK=function(XY,Z2,k,Z,eF,i){Z2[0]=bt(Z2[0],k);Z2[1]=bt(Z2[1],k);XY=XY||0;var PI=k[1]-k[0];if(eF!=null){eF=bt(eF,[0,PI])}if(i!=null){i=Math.max(i,eF!=null?eF:0)}if(Z==="all"){eF=i=Math.abs(Z2[1]-Z2[0]);Z=0}var WH=eu(Z2,Z);Z2[Z]+=XY;var e=eF||0;var v=k.slice();WH.sign<0?(v[0]+=e):(v[1]-=e);Z2[Z]=bt(Z2[Z],v);var cc=eu(Z2,Z);if(eF!=null&&(cc.sign!==WH.sign||cc.span<eF)){Z2[1-Z]=Z2[Z]+WH.sign*eF}var cc=eu(Z2,Z);if(i!=null&&cc.span>i){Z2[1-Z]=Z2[Z]+cc.sign*i}return Z2};function eu(Z,e){var i=Z[e]-Z[1-e];return{span:Math.abs(i),sign:i>0?-1:i<0?1:e?-1:1}}function bt(Z,e){return Math.min(e[1],Math.max(e[0],Z))}var Z4=Dc;var Lq=Math.min;var Bl=Math.max;var Lv=Math.floor;var Sm=Math.ceil;var D=eA;var FX=Math.PI;function Qd(Z,i,e){this._axesMap=EY();this._axesLayout={};this.dimensions=Z.dimensions;this._rect;this._model=Z;this._init(Z,i,e)}Qd.prototype={type:"parallel",constructor:Qd,_init:function(e,v,i){var Z=e.dimensions;var k=e.parallelAxisIndex;Z4(Z,function(Z2,WH){var eF=k[WH];var XY=v.getComponent("parallelAxis",eF);var cc=this._axesMap.set(Z2,new Yd(Z2,Xz(XY),[0,0],XY.get("type"),eF));var PI=cc.type==="category";cc.onBand=PI&&XY.get("boundaryGap");cc.inverse=XY.get("inverse");XY.axis=cc;cc.model=XY;cc.coordinateSystem=XY.coordinateSystem=this},this)},update:function(Z,e){this._updateAxesFromSeries(this._model,Z)},containPoint:function(e){var WH=this._makeLayoutInfo();var PI=WH.axisBase;var Z=WH.layoutBase;var v=WH.pixelDimIndex;var i=e[1-v];var k=e[v];return i>=PI&&i<=PI+WH.axisLength&&k>=Z&&k<=Z+WH.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(Z,e){e.eachSeries(function(i){if(!Z.contains(i,e)){return}var k=i.getData();Z4(this.dimensions,function(v){var PI=this._axesMap.get(v);PI.scale.unionExtentFromData(k,v);U0(PI.scale,PI.model)},this)},this)},resize:function(Z,e){this._rect=CC(Z.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var eK=this._model;var Z2=this._rect;var k=["x","y"];var v=["width","height"];var XY=eK.get("layout");var eG=XY==="horizontal"?0:1;var eH=Z2[v[eG]];var eI=[0,eH];var cc=this.dimensions.length;var e=dy(eK.get("axisExpandWidth"),eI);var i=dy(eK.get("axisExpandCount")||0,[0,cc]);var WH=eK.get("axisExpandable")&&cc>3&&cc>i&&i>1&&e>0&&eH>0;var eJ=eK.get("axisExpandWindow");var eL;if(!eJ){eL=dy(e*(i-1),eI);var eF=eK.get("axisExpandCenter")||Lv(cc/2);eJ=[e*eF-eL/2];eJ[1]=eJ[0]+eL}else{eL=dy(eJ[1]-eJ[0],eI);eJ[1]=eJ[0]+eL}var eM=(eH-eL)/(cc-i);eM<3&&(eM=0);var Z=[Lv(D(eJ[0]/e,1))+1,Sm(D(eJ[1]/e,1))-1];var PI=eM/e*eJ[0];return{layout:XY,pixelDimIndex:eG,layoutBase:Z2[k[eG]],layoutLength:eH,axisBase:Z2[k[1-eG]],axisLength:Z2[v[1-eG]],axisExpandable:WH,axisExpandWidth:e,axisCollapseWidth:eM,axisExpandWindow:eJ,axisCount:cc,winInnerIndices:Z,axisExpandWindow0Pos:PI}},_layoutAxes:function(){var e=this._rect;var Z=this._axesMap;var i=this.dimensions;var v=this._makeLayoutInfo();var k=v.layout;Z.each(function(XY){var PI=[0,v.axisLength];var WH=XY.inverse?1:0;XY.setExtent(PI[WH],PI[1-WH])});Z4(i,function(Z2,XY){var eG=(v.axisExpandable?dI:BT)(XY,v);var PI={horizontal:{x:eG.position,y:v.axisLength},vertical:{x:0,y:eG.position}};var WH={horizontal:FX/2,vertical:0};var eF=[PI[k].x+e.x,PI[k].y+e.y];var eH=WH[k];var cc=Hx();cF(cc,cc,eH);Xo(cc,cc,eF);this._axesLayout[Z2]={position:eF,rotation:eH,transform:cc,axisNameAvailableWidth:eG.axisNameAvailableWidth,axisLabelShow:eG.axisLabelShow,nameTruncateMaxWidth:eG.nameTruncateMaxWidth,tickDirection:1,labelDirection:1,labelInterval:Z.get(Z2).getLabelInterval()}},this)},getAxis:function(Z){return this._axesMap.get(Z)},dataToPoint:function(e,Z){return this.axisCoordToPoint(this._axesMap.get(Z).dataToCoord(e),Z)},eachActiveState:function(PI,v,cc){var Z=this.dimensions;var XY=this._axesMap;var eJ=this.hasAxisBrushed();for(var eF=0,eH=PI.count();eF<eH;eF++){var eG=PI.getValues(Z,eF);var k;if(!eJ){k="normal"}else{k="active";for(var Z2=0,WH=Z.length;Z2<WH;Z2++){var e=Z[Z2];var eI=XY.get(e).model.getActiveState(eG[Z2],Z2);if(eI==="inactive"){k="inactive";break}}}v.call(cc,k,eF)}},hasAxisBrushed:function(){var i=this.dimensions;var Z=this._axesMap;var k=false;for(var v=0,e=i.length;v<e;v++){if(Z.get(i[v]).model.getActiveState()!=="normal"){k=true}}return k},axisCoordToPoint:function(Z,e){var i=this._axesLayout[e];return Bg([Z,0],i.transform)},getAxisLayout:function(Z){return dp(this._axesLayout[Z])},getSlidedAxisExpandWindow:function(eG){var PI=this._makeLayoutInfo();var i=PI.pixelDimIndex;var eF=PI.axisExpandWindow.slice();var WH=eF[1]-eF[0];var v=[0,PI.axisExpandWidth*(PI.axisCount-1)];if(!this.containPoint(eG)){return{behavior:"none",axisExpandWindow:eF}}var Z=eG[i]-PI.layoutBase-PI.axisExpandWindow0Pos;var cc;var Z2="slide";var k=PI.axisCollapseWidth;var eH=this._model.get("axisExpandSlideTriggerArea");var e=eH[0]!=null;if(k){if(e&&k&&Z<WH*eH[0]){Z2="jump";cc=Z-WH*eH[2]}else{if(e&&k&&Z>WH*(1-eH[0])){Z2="jump";cc=Z-WH*(1-eH[2])}else{(cc=Z-WH*eH[1])>=0&&(cc=Z-WH*(1-eH[1]))<=0&&(cc=0)}}cc*=PI.axisExpandWidth/k;cc?JK(cc,eF,v,"all"):(Z2="none")}else{var WH=eF[1]-eF[0];var XY=v[1]*Z/WH;eF=[Bl(0,XY-WH/2)];eF[1]=Lq(v[1],eF[0]+WH);eF[0]=eF[1]-WH}return{axisExpandWindow:eF,behavior:Z2}}};function dy(e,Z){return Lq(Bl(e,Z[0]),Z[1])}function BT(i,e){var Z=e.layoutLength/(e.axisCount-1);return{position:Z*i,axisNameAvailableWidth:Z,axisLabelShow:true}}function dI(PI,WH){var Z=WH.layoutLength;var eF=WH.axisExpandWidth;var e=WH.axisCount;var k=WH.axisCollapseWidth;var cc=WH.winInnerIndices;var Z2;var XY=k;var v=false;var i;if(PI<cc[0]){Z2=PI*k;i=k}else{if(PI<=cc[1]){Z2=WH.axisExpandWindow0Pos+PI*eF-WH.axisExpandWindow[0];XY=eF;v=true}else{Z2=Z-(e-1-PI)*k;i=k}}return{position:Z2,axisNameAvailableWidth:XY,axisLabelShow:v,nameTruncateMaxWidth:i}}function NQ(Z,e){var i=[];Z.eachComponent("parallel",function(k,PI){var v=new Qd(k,Z,e);v.name="parallel_"+PI;v.resize(k,e);k.coordinateSystem=v;v.model=k;i.push(v)});Z.eachSeries(function(k){if(k.get("coordinateSystem")==="parallel"){var v=Z.queryComponents({mainType:"parallel",index:k.get("parallelIndex"),id:k.get("parallelId")})[0];k.coordinateSystem=v.coordinateSystem}});return i}Ql.register("parallel",{create:NQ});var l=C8.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return CS([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(Z){var k=this.activeIntervals=dp(Z);if(k){for(var e=k.length-1;e>=0;e--){FB(k[e])}}},getActiveState:function(v){var e=this.activeIntervals;if(!e.length){return"normal"}if(v==null){return"inactive"}for(var Z=0,k=e.length;Z<k;Z++){if(e[Z][0]<=v&&v<=e[Z][1]){return"active"}}return"inactive"}});var Ua={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:0.3},realtime:true,z:10};KT(l.prototype,Lz);function c0(e,Z){return Z.type||(Z.data?"category":"value")}Pc("parallel",l,c0,Ua);C8.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:false,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-0.15,0.05,0.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){C8.prototype.init.apply(this,arguments);this.mergeOption({})},mergeOption:function(Z){var e=this.option;Z&&KT(e,Z,true);this._initDimensions()},contains:function(i,e){var Z=i.get("parallelIndex");return Z!=null&&e.getComponent("parallel",Z)===this},setAxisExpand:function(Z){Dc(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(e){if(Z.hasOwnProperty(e)){this.option[e]=Z[e]}},this)},_initDimensions:function(){var e=this.dimensions=[];var i=this.parallelAxisIndex=[];var Z=Zs(this.dependentModels.parallelAxis,function(k){return(k.get("parallelIndex")||0)===this.componentIndex},this);Dc(Z,function(k){e.push("dim"+k.get("dim"));i.push(k.componentIndex)})}});var Pz={type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"};R0(Pz,function(e,Z){Z.eachComponent({mainType:"parallelAxis",query:e},function(i){i.axis.model.setActiveIntervals(e.intervals)})});R0("parallelAxisExpand",function(e,Z){Z.eachComponent({mainType:"parallel",query:e},function(i){i.setAxisExpand(e)})});var Tc=aT;var Z5=Dc;var US=PK;var Lr=Math.min;var Bi=Math.max;var R2=Math.pow;var Gd=10000;var XJ=6;var d3=6;var LJ="globalPan";var H={w:[0,0],e:[0,1],n:[1,0],s:[1,1]};var ZJ={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"};var Iq={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:true,brushMode:"single",removeOnClick:false};var MV=0;function WS(Z){if(Vo){Re(Z)}at.call(this);this._zr=Z;this.group=new TD();this._brushType;this._brushOption;this._panels;this._track=[];this._dragging;this._covers=[];this._creatingCover;this._creatingPanel;this._enableGlobalPan;if(Vo){this._mounted}this._uid="brushController_"+MV++;this._handlers={};Z5(cb,function(e,i){this._handlers[i]=b3(e,this)},this)}WS.prototype={constructor:WS,enableBrush:function(Z){if(Vo){Re(this._mounted)}this._brushType&&Jz(this);Z.brushType&&eo(this,Z);return this},setPanels:function(Z){if(Z&&Z.length){var e=this._panels={};Dc(Z,function(i){e[i.panelId]=dp(i)})}else{this._panels=null}return this},mount:function(Z){Z=Z||{};if(Vo){this._mounted=true}this._enableGlobalPan=Z.enableGlobalPan;var e=this.group;this._zr.add(e);e.attr({position:Z.position||[0,0],rotation:Z.rotation||0,scale:Z.scale||[1,1]});this._transform=e.getLocalTransform();return this},eachCover:function(Z,e){Z5(this._covers,Z,e)},updateCovers:function(v){if(Vo){Re(this._mounted)}v=PK(v,function(eF){return KT(dp(Iq),eF,true)});var e="\0-brush-index-";var XY=this._covers;var PI=this._covers=[];var WH=this;var i=this._creatingCover;(new U6(XY,v,cc,k)).add(Z2).update(Z2).remove(Z).execute();return this;function k(eF,eG){return(eF.id!=null?eF.id:e+eG)+"-"+eF.brushType}function cc(eG,eF){return k(eG.__brushOption,eF)}function Z2(eI,eG){var eF=v[eI];if(eG!=null&&XY[eG]===i){PI[eI]=XY[eG]}else{var eH=PI[eI]=eG!=null?(XY[eG].__brushOption=eF,XY[eG]):Mo(WH,Rr(WH,eF));J(WH,eH)}}function Z(eF){if(XY[eF]!==i){WH.group.remove(XY[eF])}}},unmount:function(){if(Vo){if(!this._mounted){return}}this.enableBrush(false);HL(this);this._zr.remove(this.group);if(Vo){this._mounted=false}return this},dispose:function(){this.unmount();this.off()}};cq(WS,at);function eo(i,e){var Z=i._zr;if(!i._enableGlobalPan){IR(Z,LJ,i._uid)}Z5(i._handlers,function(k,v){Z.on(v,k)});i._brushType=e.brushType;i._brushOption=KT(dp(Iq),e,true)}function Jz(e){var Z=e._zr;We(Z,LJ,e._uid);Z5(e._handlers,function(i,k){Z.off(k,i)});e._brushType=e._brushOption=null}function Rr(i,Z){var e=Xa[Z.brushType].createCover(i,Z);e.__brushOption=Z;S4(e,Z);i.group.add(e);return e}function Mo(i,e){var Z=MM(e);if(Z.endCreating){Z.endCreating(i,e);S4(e,e.__brushOption)}return e}function Gz(i,e){var Z=e.__brushOption;MM(e).updateCoverShape(i,e,Z.range,Z)}function S4(i,Z){var e=Z.z;e==null&&(e=Gd);i.traverse(function(k){k.z=e;k.z2=e})}function J(e,Z){MM(Z).updateCommon(e,Z);Gz(e,Z)}function MM(Z){return Xa[Z.__brushOption.brushType]}function Bq(WH,k,i){var PI=WH._panels;if(!PI){return true}var Z;var v=WH._transform;Z5(PI,function(e){e.isTargetByCursor(k,i,v)&&(Z=e)});return Z}function aK(k,e){var i=k._panels;if(!i){return true}var Z=e.__brushOption.panelId;return Z!=null?i[Z]:true}function HL(i){var Z=i._covers;var e=Z.length;Z5(Z,function(k){i.group.remove(k)},i);Z.length=0;return !!e}function Bh(i,e){var Z=US(i._covers,function(v){var k=v.__brushOption;var PI=dp(k.range);return{brushType:k.brushType,panelId:k.panelId,range:PI}});i.trigger("brush",Z,{isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function dv(WH){var v=WH._track;if(!v.length){return false}var PI=v[v.length-1];var k=v[0];var i=PI[0]-k[0];var e=PI[1]-k[1];var Z=R2(i*i+e*e,0.5);return Z>XJ}function b7(e){var Z=e.length-1;Z<0&&(Z=0);return[e[0],e[Z]]}function W9(e,v,Z,k){var i=new TD();i.add(new BI({name:"main",style:P1(Z),silent:true,draggable:true,cursor:"move",drift:Tc(e,v,i,"nswe"),ondragend:Tc(Bh,v,{isEnd:true})}));Z5(k,function(PI){i.add(new BI({name:PI,style:{opacity:0},draggable:true,silent:true,invisible:true,drift:Tc(e,v,i,PI),ondragend:Tc(Bh,v,{isEnd:true})}))});return i}function ZN(eK,i,v,WH){var eH=WH.brushStyle.lineWidth||0;var Z=Bi(eH,d3);var eI=v[0][0];var eJ=v[1][0];var Z2=eI-eH/2;var cc=eJ-eH/2;var eL=v[0][1];var eM=v[1][1];var e=eL-Z+eH/2;var XY=eM-Z+eH/2;var eF=eL-eI;var eG=eM-eJ;var PI=eF+eH;var k=eG+eH;HA(eK,i,"main",eI,eJ,eF,eG);if(WH.transformable){HA(eK,i,"w",Z2,cc,Z,k);HA(eK,i,"e",e,cc,Z,k);HA(eK,i,"n",Z2,cc,PI,Z);HA(eK,i,"s",Z2,XY,PI,Z);HA(eK,i,"nw",Z2,cc,Z,Z);HA(eK,i,"ne",e,cc,Z,Z);HA(eK,i,"sw",Z2,XY,Z,Z);HA(eK,i,"se",e,XY,Z,Z)}}function Fk(v,k){var e=k.__brushOption;var i=e.transformable;var Z=k.childAt(0);Z.useStyle(P1(e));Z.attr({silent:!i,cursor:i?"move":"default"});Z5(["w","e","n","s","se","sw","ne","nw"],function(XY){var PI=k.childOfName(XY);var WH=LG(v,XY);PI&&PI.attr({silent:!i,invisible:!i,cursor:i?ZJ[WH]+"-resize":null})})}function HA(PI,Z,i,WH,XY,k,v){var e=Z.childOfName(i);e&&e.setShape(X5(BF(PI,Z,[[WH,XY],[WH+k,XY+v]])))}function P1(Z){return Id({strokeNoScale:true},Z.brushStyle)}function HK(i,k,Z,e){var v=[Lr(i,Z),Lr(k,e)];var PI=[Bi(i,Z),Bi(k,e)];return[[v[0],PI[0]],[v[1],PI[1]]]}function bk(Z){return h(Z.group)}function LG(v,i){if(i.length>1){i=i.split("");var Z=[LG(v,i[0]),LG(v,i[1])];(Z[0]==="e"||Z[0]==="w")&&Z.reverse();return Z.join("")}else{var e={w:"left",e:"right",n:"top",s:"bottom"};var k={left:"w",right:"e",top:"n",bottom:"s"};var Z=ai(e[i],bk(v));return k[Z]}}function Y8(i,Z2,WH,Z,k,cc,XY,v){var eG=Z.__brushOption;var eF=i(eG.range);var PI=Ul(WH,cc,XY);Z5(k.split(""),function(e){var eH=H[e];eF[eH[0]][eH[1]]+=PI[eH[0]]});eG.range=Z2(HK(eF[0][0],eF[1][0],eF[0][1],eF[1][1]));J(WH,Z);Bh(WH,{isEnd:false})}function Ke(XY,v,i,k,Z){var WH=v.__brushOption.range;var PI=Ul(XY,i,k);Z5(WH,function(e){e[0]+=PI[0];e[1]+=PI[1]});J(XY,v);Bh(XY,{isEnd:false})}function Ul(PI,i,k){var v=PI.group;var Z=v.transformCoordToLocal(i,k);var e=v.transformCoordToLocal(0,0);return[Z[0]-e[0],Z[1]-e[1]]}function BF(k,i,e){var Z=aK(k,i);return(Z&&Z!==true)?Z.clipPath(e,k._transform):dp(e)}function X5(e){var v=Lr(e[0][0],e[1][0]);var Z=Lr(e[0][1],e[1][1]);var k=Bi(e[0][0],e[1][0]);var i=Bi(e[0][1],e[1][1]);return{x:v,y:Z,width:k-v,height:i-Z}}function dR(XY,Z,v){if(!XY._brushType){return}var k=XY._zr;var PI=XY._covers;var Z2=Bq(XY,Z,v);if(!XY._dragging){for(var WH=0;WH<PI.length;WH++){var cc=PI[WH].__brushOption;if(Z2&&(Z2===true||cc.panelId===Z2.panelId)&&Xa[cc.brushType].contain(PI[WH],v[0],v[1])){return}}}Z2&&k.setCursorStyle("crosshair")}function JW(Z){var i=Z.event;i.preventDefault&&i.preventDefault()}function dd(e,Z,i){return e.childOfName("main").contain(Z,i)}function an(WH,Z,k,v){var i=WH._creatingCover;var Z2=WH._creatingPanel;var eF=WH._brushOption;var PI;WH._track.push(k.slice());if(dv(WH)||i){if(Z2&&!i){eF.brushMode==="single"&&HL(WH);var cc=dp(eF);cc.brushType=RJ(cc.brushType,Z2);cc.panelId=Z2===true?null:Z2.panelId;i=WH._creatingCover=Rr(WH,cc);WH._covers.push(i)}if(i){var eG=Xa[RJ(WH._brushType,Z2)];var XY=i.__brushOption;XY.range=eG.getCreatingRange(BF(WH,i,WH._track));if(v){Mo(WH,i);eG.updateCommon(WH,i)}Gz(WH,i);PI={isEnd:v}}}else{if(v&&eF.brushMode==="single"&&eF.removeOnClick){if(Bq(WH,Z,k)&&HL(WH)){PI={isEnd:v,removeOnClick:true}}}}return PI}function RJ(e,Z){if(e==="auto"){if(Vo){Re(Z&&Z.defaultBrushType,'MUST have defaultBrushType when brushType is "atuo"')}return Z.defaultBrushType}return e}var cb={mousedown:function(k){if(this._dragging){JS.call(this,k)}else{if(!k.target||!k.target.draggable){JW(k);var i=this.group.transformCoordToLocal(k.offsetX,k.offsetY);this._creatingCover=null;var Z=this._creatingPanel=Bq(this,k,i);if(Z){this._dragging=true;this._track=[i.slice()]}}}},mousemove:function(i){var Z=this.group.transformCoordToLocal(i.offsetX,i.offsetY);dR(this,i,Z);if(this._dragging){JW(i);var k=an(this,i,Z,false);k&&Bh(this,k)}},mouseup:JS};function JS(i){if(this._dragging){JW(i);var Z=this.group.transformCoordToLocal(i.offsetX,i.offsetY);var k=an(this,i,Z,true);this._dragging=false;this._track=[];this._creatingCover=null;k&&Bh(this,k)}}var Xa={lineX:Rx(0),lineY:Rx(1),rect:{createCover:function(e,Z){return W9(Tc(Y8,function(i){return i},function(i){return i}),e,Z,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(e){var Z=b7(e);return HK(Z[1][0],Z[1][1],Z[0][0],Z[0][1])},updateCoverShape:function(k,i,e,Z){ZN(k,i,e,Z)},updateCommon:Fk,contain:dd},polygon:{createCover:function(i,Z){var e=new TD();e.add(new I3({name:"main",style:P1(Z),silent:true}));return e},getCreatingRange:function(Z){return Z},endCreating:function(e,Z){Z.remove(Z.childAt(0));Z.add(new GN({name:"main",draggable:true,drift:Tc(Ke,e,Z),ondragend:Tc(Bh,e,{isEnd:true})}))},updateCoverShape:function(k,i,e,Z){i.childAt(0).setShape({points:BF(k,i,e)})},updateCommon:Fk,contain:dd}};function Rx(Z){return{createCover:function(i,e){return W9(Tc(Y8,function(v){var k=[v,[0,100]];Z&&k.reverse();return k},function(k){return k[Z]}),i,e,[["w","e"],["n","s"]][Z])},getCreatingRange:function(k){var i=b7(k);var e=Lr(i[0][Z],i[1][Z]);var v=Bi(i[0][Z],i[1][Z]);return[e,v]},updateCoverShape:function(PI,e,Z2,XY){var WH;var v=aK(PI,e);if(v!==true&&v.getLinearBrushOtherExtent){WH=v.getLinearBrushOtherExtent(Z,PI._transform)}else{var k=PI._zr;WH=[0,[k.getWidth(),k.getHeight()][1-Z]]}var i=[Z2,WH];Z&&i.reverse();ZN(PI,e,i,XY)},updateCommon:Fk,contain:dd}}function XM(Z){Z=VK(Z);return function(e,i){return Ez(e,Z)}}function KK(Z,e){Z=VK(Z);return function(i){var k=e!=null?e:i;var v=k?Z.width:Z.height;var PI=k?Z.x:Z.y;return[PI,PI+(v||0)]}}function QL(Z,i,e){Z=VK(Z);return function(v,k,PI){return Z.contain(k[0],k[1])&&!W2(v,i,e)}}function VK(Z){return FC.create(Z)}var ao=["axisLine","axisTickLabel","axisName"];var ND=bX({type:"parallelAxis",init:function(Z,e){ND.superApply(this,"init",arguments);(this._brushController=new WS(e.getZr())).on("brush",b3(this._onBrush,this))},render:function(k,e,eG,PI){if(YG(k,e,PI)){return}this.axisModel=k;this.api=eG;this.group.removeAll();var XY=this._axisGroup;this._axisGroup=new TD();this.group.add(this._axisGroup);if(!k.get("show")){return}var Z2=WN(k,e);var i=Z2.coordinateSystem;var WH=k.getAreaSelectStyle();var eH=WH.width;var eF=k.axis.dim;var v=i.getAxisLayout(eF);var eI=V8({strokeContainThreshold:eH},v);var cc=new W8(k,eI);Dc(ao,cc.add,cc);this._axisGroup.add(cc.getGroup());this._refreshBrushController(eI,WH,k,Z2,eH,eG);var Z=(PI&&PI.animation===false)?null:k;VI(XY,this._axisGroup,Z)},updateVisual:function(e,Z,k,i){this._brushController&&this._brushController.updateCovers(RG(e))},_refreshBrushController:function(cc,v,i,PI,Z2,XY){var k=i.axis.getExtent();var WH=k[1]-k[0];var e=Math.min(30,Math.abs(WH)*0.1);var Z=FC.create({x:k[0],y:-Z2/2,width:WH,height:Z2});Z.x-=e;Z.width+=2*e;this._brushController.mount({enableGlobalPan:true,rotation:cc.rotation,position:cc.position}).setPanels([{panelId:"pl",clipPath:XM(Z),isTargetByCursor:QL(Z,XY,PI),getLinearBrushOtherExtent:KK(Z,0)}]).enableBrush({brushType:"lineX",brushStyle:v,removeOnClick:true}).updateCovers(RG(i))},_onBrush:function(Z,e){var k=this.axisModel;var v=k.axis;var i=PK(Z,function(PI){return[v.coordToData(PI.range[0],true),v.coordToData(PI.range[1],true)]});if(!k.option.realtime===e.isEnd||e.removeOnClick){this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:k.id,intervals:i})}},dispose:function(){this._brushController.dispose()}});function YG(e,Z,i){return i&&i.type==="axisAreaSelect"&&Z.findComponents({mainType:"parallelAxis",query:i})[0]===e}function RG(Z){var e=Z.axis;return PK(Z.activeIntervals,function(i){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(i[0],true),e.dataToCoord(i[1],true)]}})}function WN(e,Z){return Z.getComponent("parallel",e.get("parallelIndex"))}var bi=5;bX({type:"parallel",render:function(Z,i,e){this._model=Z;this._api=e;if(!this._handlers){this._handlers={};Dc(Sc,function(k,v){e.getZr().on(v,this._handlers[v]=b3(k,this))},this)}W3(this,"_throttledDispatchExpand",Z.get("axisExpandRate"),"fixRate")},dispose:function(Z,e){Dc(this._handlers,function(i,k){e.getZr().off(k,i)});this._handlers=null},_throttledDispatchExpand:function(Z){this._dispatchExpand(Z)},_dispatchExpand:function(Z){Z&&this._api.dispatchAction(V8({type:"parallelAxisExpand"},Z))}});var Sc={mousedown:function(Z){if(Im(this,"click")){this._mouseDownPoint=[Z.offsetX,Z.offsetY]}},mouseup:function(i){var PI=this._mouseDownPoint;if(Im(this,"click")&&PI){var k=[i.offsetX,i.offsetY];var v=Math.pow(PI[0]-k[0],2)+Math.pow(PI[1]-k[1],2);if(v>bi){return}var Z=this._model.coordinateSystem.getSlidedAxisExpandWindow([i.offsetX,i.offsetY]);Z.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:Z.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(i){if(this._mouseDownPoint||!Im(this,"mousemove")){return}var v=this._model;var k=v.coordinateSystem.getSlidedAxisExpandWindow([i.offsetX,i.offsetY]);var Z=k.behavior;Z==="jump"&&this._throttledDispatchExpand.debounceNextCall(v.get("axisExpandDebounce"));this._throttledDispatchExpand(Z==="none"?null:{axisExpandWindow:k.axisExpandWindow,animation:Z==="jump"?null:false})}};function Im(e,Z){var i=e._model;return i.get("axisExpandable")&&i.get("axisExpandTriggerOn")===Z}IL(HZ);RY.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.normal.color",getInitialData:function(XY,WH){var k=WH.getComponent("parallel",this.get("parallelIndex"));var PI=k.parallelAxisIndex;var Z=XY.data;var Z2=k.dimensions;var e=BP(Z2,Z);var v=PK(e,function(eG,cc){var eH=Fx(Z2,eG);var eF=eH>=0&&WH.getComponent("parallelAxis",PI[eH]);if(eF&&eF.get("type")==="category"){D1(eF,eG,Z);return{name:eG,type:"ordinal"}}else{if(eH<0){return B.guessOrdinal(Z,cc)?{name:eG,type:"ordinal"}:eG}else{return eG}}});var i=new Lu(v,this);i.initData(Z);if(this.option.progressive){this.option.animation=false}return i},getRawIndicesByActiveState:function(Z){var e=this.coordinateSystem;var k=this.getData();var i=[];e.eachActiveState(k,function(PI,v){if(Z===PI){i.push(k.getRawIndex(v))}});return i},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:false},emphasis:{show:false}},inactiveOpacity:0.05,activeOpacity:1,lineStyle:{normal:{width:1,opacity:0.45,type:"solid"}},progressive:false,smooth:false,animationEasing:"linear"}});function D1(e,k,v){var i=e.get("data");var Z=X6(k);if(i&&i.length){Dc(v,function(PI){if(!PI){return}var WH=Fx(i,PI[Z]);PI[Z]=WH>=0?WH:NaN})}}function X6(Z){return +Z.replace("dim","")}function BP(WH,PI){var Z=0;Dc(WH,function(XY){var i=X6(XY);i>Z&&(Z=i)});var v=PI[0];if(v&&v.length-1>Z){Z=v.length-1}var e=[];for(var k=0;k<=Z;k++){e.push("dim"+k)}return e}var Zo=0.3;var HG=L2.extend({type:"parallel",init:function(){this._dataGroup=new TD();this.group.add(this._dataGroup);this._data},render:function(Z,e,k,i){this._renderForNormal(Z,i)},dispose:function(){},_renderForNormal:function(eH,i){var WH=this._dataGroup;var k=eH.getData();var v=this._data;var eF=eH.coordinateSystem;var Z=eF.dimensions;var eG=eH.option;var Z2=eG.smooth?Zo:null;k.diff(v).add(PI).update(e).remove(XY).execute();YI(k,Z2);if(!this._data){var cc=Gw(eF,eH,function(){setTimeout(function(){WH.removeClipPath()})});WH.setClipPath(cc)}this._data=k;function PI(eI){NO(k,WH,eI,Z,eF,null,Z2)}function e(eL,eI){var eK=v.getItemGraphicEl(eI);var eJ=VW(k,eL,Z,eF);k.setItemGraphicEl(eL,eK);var eM=(i&&i.animation===false)?null:eH;Pr(eK,{shape:{points:eJ}},eM,eL)}function XY(eI){var eJ=v.getItemGraphicEl(eI);WH.remove(eJ)}},remove:function(){this._dataGroup&&this._dataGroup.removeAll();this._data=null}});function Gw(k,e,Z){var i=k.model;var PI=k.getRect();var v=new BI({shape:{x:PI.x,y:PI.y,width:PI.width,height:PI.height}});var WH=i.get("layout")==="horizontal"?"width":"height";v.setShape(WH,0);b0(v,{shape:{width:PI.width,height:PI.height}},e,Z);return v}function VW(k,XY,Z,e){var Z2=[];for(var WH=0;WH<Z.length;WH++){var v=Z[WH];var PI=k.get(v,XY);if(!QC(PI,e.getAxis(v).type)){Z2.push(e.dataToPoint(PI,v))}}return Z2}function NO(WH,Z,e,v,i){var k=VW(WH,e,v,i);var PI=new I3({shape:{points:k},silent:true,z2:10});Z.add(PI);WH.setItemGraphicEl(e,PI)}function YI(k,Z){var e=k.hostModel.getModel("lineStyle.normal");var i=e.getLineStyle();k.eachItemGraphicEl(function(XY,v){if(k.hasItemOption){var PI=k.getItemModel(v);var WH=PI.getModel("lineStyle.normal",e);i=WH.getLineStyle(["color","stroke"])}XY.useStyle(V8(i,{fill:null,stroke:k.getItemVisual(v,"color"),opacity:k.getItemVisual(v,"opacity")}));XY.shape.smooth=Z})}function QC(Z,e){return e==="category"?Z==null:(Z==null||isNaN(Z))}var w=["lineStyle","normal","opacity"];var b2=function(Z){Z.eachSeriesByType("parallel",function(eG){var WH=eG.getModel("itemStyle.normal");var k=eG.getModel("lineStyle.normal");var cc=Z.get("color");var PI=k.get("color")||WH.get("color")||cc[eG.seriesIndex%cc.length];var Z2=eG.get("inactiveOpacity");var XY=eG.get("activeOpacity");var eF=eG.getModel("lineStyle.normal").getLineStyle();var i=eG.coordinateSystem;var v=eG.getData();var e={normal:eF.opacity,active:XY,inactive:Z2};i.eachActiveState(v,function(eH,eI){var eJ=v.getItemModel(eI);var eK=e[eH];if(eH==="normal"){var eL=eJ.get(w,true);eL!=null&&(eK=eL)}v.setItemVisual(eI,"opacity",eK)});v.setVisual("color",PI)})};Ai(b2);var Sl=RY.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(Z){var k=Z.edges||Z.links;var i=Z.data||Z.nodes;if(i&&k){var e=Pe(i,k,this,true);return e.data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(e,i,v){if(v==="edge"){var PI=this.getDataParams(e,v);var k=PI.data;var Z=k.source+" -- "+k.target;if(PI.value){Z+=" : "+PI.value}return Pp(Z)}return Sl.superCall(this,"formatTooltip",e,i)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:true,position:"right",color:"#000",fontSize:12},emphasis:{show:true}},itemStyle:{normal:{borderWidth:1,borderColor:"#333"}},lineStyle:{normal:{color:"#314656",opacity:0.2,curveness:0.5},emphasis:{opacity:0.6}},animationEasing:"linear",animationDuration:1000}});var M2=B6({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(e,i){var Z=i.extent/2;e.moveTo(i.x1,i.y1-Z);e.bezierCurveTo(i.cpx1,i.cpy1-Z,i.cpx2,i.cpy2-Z,i.x2,i.y2-Z);e.lineTo(i.x2,i.y2+Z);e.bezierCurveTo(i.cpx2,i.cpy2+Z,i.cpx1,i.cpy1+Z,i.x1,i.y1+Z);e.closePath()}});WQ({type:"sankey",_model:null,render:function(XY,Z,WH){var e=XY.getGraph();var v=this.group;var k=XY.layoutInfo;var i=XY.getData();var PI=XY.getData("edge");this._model=XY;v.removeAll();v.attr("position",[k.x,k.y]);e.eachEdge(function(eN){var Z2=new M2();Z2.dataIndex=eN.dataIndex;Z2.seriesIndex=XY.seriesIndex;Z2.dataType="edge";var eG=eN.getModel("lineStyle.normal");var eP=eG.get("curveness");var eR=eN.node1.getLayout();var eM=eN.node2.getLayout();var eQ=eN.getLayout();Z2.shape.extent=Math.max(1,eQ.dy);var eF=eR.x+eR.dx;var eH=eR.y+eQ.sy+eQ.dy/2;var eI=eM.x;var eJ=eM.y+eQ.ty+eQ.dy/2;var eL=eF*(1-eP)+eI*eP;var eO=eH;var eK=eF*eP+eI*(1-eP);var cc=eJ;Z2.setShape({x1:eF,y1:eH,x2:eI,y2:eJ,cpx1:eL,cpy1:eO,cpx2:eK,cpy2:cc});Z2.setStyle(eG.getItemStyle());switch(Z2.style.fill){case"source":Z2.style.fill=eN.node1.getVisual("color");break;case"target":Z2.style.fill=eN.node2.getVisual("color");break}Ne(Z2,eN.getModel("lineStyle.emphasis").getItemStyle());v.add(Z2);PI.setItemGraphicEl(eN.dataIndex,Z2)});e.eachNode(function(eF){var eI=eF.getLayout();var cc=eF.getModel();var eH=cc.getModel("label.normal");var eG=cc.getModel("label.emphasis");var eJ=new BI({shape:{x:eI.x,y:eI.y,width:eF.getLayout().dx,height:eF.getLayout().dy},style:cc.getModel("itemStyle.normal").getItemStyle()});var Z2=eF.getModel("itemStyle.emphasis").getItemStyle();Ha(eJ.style,Z2,eH,eG,{labelFetcher:XY,labelDataIndex:eF.dataIndex,defaultText:eF.id,isRectText:true});eJ.setStyle("fill",eF.getVisual("color"));Ne(eJ,Z2);v.add(eJ);i.setItemGraphicEl(eF.dataIndex,eJ);eJ.dataType="node"});if(!this._data&&XY.get("animation")){v.setClipPath(YU(v.getBoundingRect(),XY,function(){v.removeClipPath()}))}this._data=XY.getData()},dispose:function(){}});function YU(i,e,Z){var k=new BI({shape:{x:i.x-10,y:i.y-10,width:0,height:i.height+20}});b0(k,{shape:{width:i.width+20,height:i.height+20}},e,Z);return k}function N7(){var Z=[];var i=[];function k(v,Z2){if(Z2>=Z.length){return v}var WH=-1;var XY=v.length;var eH=Z[Z2++];var PI={};var eF={};while(++WH<XY){var eG=eH(v[WH]);var cc=eF[eG];if(cc){cc.push(v[WH])}else{eF[eG]=[v[WH]]}}Dc(eF,function(eJ,eI){PI[eI]=k(eJ,Z2)});return PI}function e(WH,PI){if(PI>=Z.length){return WH}var v=[];var XY=i[PI++];Dc(WH,function(cc,Z2){v.push({key:Z2,values:e(cc,PI)})});if(XY){return v.sort(function(cc,Z2){return XY(cc.key,Z2.key)})}else{return v}}return{key:function(v){Z.push(v);return this},sortKeys:function(v){i[Z.length-1]=v;return this},entries:function(v){return e(k(v,0),0)}}}var Og=function(Z,i,e){Z.eachSeriesByType("sankey",function(eI){var XY=eI.get("nodeWidth");var eF=eI.get("nodeGap");var cc=Gt(eI,i);eI.layoutInfo=cc;var eG=cc.width;var v=cc.height;var PI=eI.getGraph();var eH=PI.nodes;var k=PI.edges;BD(eH);var Z2=Zs(eH,function(eJ){return eJ.getLayout().value===0});var WH=Z2.length!==0?0:eI.get("layoutIterations");Wt(eH,k,XY,eF,eG,v,WH)})};function Gt(Z,e){return CC(Z.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Wt(k,e,PI,WH,v,Z,i){Ca(k,PI,v);c7(k,e,Z,WH,i);OT(k)}function BD(Z){Dc(Z,function(i){var k=MY(i.outEdges,E4);var v=MY(i.inEdges,E4);var e=Math.max(k,v);i.setLayout({value:e},true)})}function Ca(eH,PI,eF){var v=eH;var k=null;var eG=0;var Z=0;while(v.length){k=[];for(var Z2=0,e=v.length;Z2<e;Z2++){var cc=v[Z2];cc.setLayout({x:eG},true);cc.setLayout({dx:PI},true);for(var WH=0,XY=cc.outEdges.length;WH<XY;WH++){k.push(cc.outEdges[WH].node2)}}v=k;++eG}Kx(eH,eG);Z=(eF-PI)/(eG-1);Zk(eH,Z)}function Kx(Z,e){Dc(Z,function(i){if(!i.outEdges.length){i.setLayout({x:e-1},true)}})}function Zk(e,Z){Dc(e,function(k){var i=k.getLayout().x*Z;k.setLayout({x:i},true)})}function c7(k,i,e,WH,PI){var Z=N7().key(function(XY){return XY.getLayout().x}).sortKeys(W6).entries(k).map(function(XY){return XY.values});RU(k,Z,i,e,WH);U5(Z,WH,e);for(var v=1;PI>0;PI--){v*=0.99;aF(Z,v);U5(Z,WH,e);Xd(Z,v);U5(Z,WH,e)}}function RU(k,PI,i,e,WH){var v=[];Dc(PI,function(cc){var XY=cc.length;var eF=0;Dc(cc,function(eG){eF+=eG.getLayout().value});var Z2=(e-(XY-1)*WH)/eF;v.push(Z2)});v.sort(function(Z2,XY){return Z2-XY});var Z=v[0];Dc(PI,function(XY){Dc(XY,function(eF,Z2){eF.setLayout({y:Z2},true);var cc=eF.getLayout().value*Z;eF.setLayout({dy:cc},true)})});Dc(i,function(XY){var Z2=+XY.getValue()*Z;XY.setLayout({dy:Z2},true)})}function U5(i,e,Z){Dc(i,function(XY){var WH;var v;var Z2=0;var PI=XY.length;var k;XY.sort(LM);for(k=0;k<PI;k++){WH=XY[k];v=Z2-WH.getLayout().y;if(v>0){var cc=WH.getLayout().y+v;WH.setLayout({y:cc},true)}Z2=WH.getLayout().y+WH.getLayout().dy+e}v=Z2-e-Z;if(v>0){var cc=WH.getLayout().y-v;WH.setLayout({y:cc},true);Z2=WH.getLayout().y;for(k=PI-2;k>=0;--k){WH=XY[k];v=WH.getLayout().y+WH.getLayout().dy+e-Z2;if(v>0){cc=WH.getLayout().y-v;WH.setLayout({y:cc},true)}Z2=WH.getLayout().y}}})}function aF(e,Z){Dc(e.slice().reverse(),function(i){Dc(i,function(v){if(v.outEdges.length){var PI=MY(v.outEdges,IT)/MY(v.outEdges,E4);var k=v.getLayout().y+(PI-Oo(v))*Z;v.setLayout({y:k},true)}})})}function IT(Z){return Oo(Z.node2)*Z.getValue()}function Xd(e,Z){Dc(e,function(i){Dc(i,function(v){if(v.inEdges.length){var PI=MY(v.inEdges,ec)/MY(v.inEdges,E4);var k=v.getLayout().y+(PI-Oo(v))*Z;v.setLayout({y:k},true)}})})}function ec(Z){return Oo(Z.node1)*Z.getValue()}function OT(Z){Dc(Z,function(e){e.outEdges.sort(Ak);e.inEdges.sort(Mw)});Dc(Z,function(i){var k=0;var e=0;Dc(i.outEdges,function(v){v.setLayout({sy:k},true);k+=v.getLayout().dy});Dc(i.inEdges,function(v){v.setLayout({ty:e},true);e+=v.getLayout().dy})})}function Ak(e,Z){return e.node2.getLayout().y-Z.node2.getLayout().y}function Mw(e,Z){return e.node1.getLayout().y-Z.node1.getLayout().y}function MY(Z,WH){var PI=0;var k=Z.length;var e=-1;while(++e<k){var v=+WH.call(Z,Z[e],e);if(!isNaN(v)){PI+=v}}return PI}function Oo(Z){return Z.getLayout().y+Z.getLayout().dy/2}function LM(e,Z){return e.getLayout().y-Z.getLayout().y}function W6(e,Z){return e<Z?-1:e>Z?1:e===Z?0:NaN}function E4(Z){return Z.getValue()}var I7=function(Z,e){Z.eachSeriesByType("sankey",function(i){var k=i.getGraph();var v=k.nodes;v.sort(function(Z2,XY){return Z2.getLayout().value-XY.getLayout().value});var WH=v[0].getLayout().value;var PI=v[v.length-1].getLayout().value;Dc(v,function(Z2){var cc=new Np({type:"color",mappingMethod:"linear",dataExtent:[WH,PI],visual:i.get("color")});var eF=cc.mapValueToVisual(Z2.getLayout().value);Z2.setVisual("color",eF);var XY=Z2.getModel();var eG=XY.get("itemStyle.normal.color");if(eG!=null){Z2.setVisual("color",eG)}})})};el(Og);Ai(I7);var Hg=Lw.extend({type:"whiskerInBox",shape:{},buildPath:function(k,v){for(var Z in v){if(v.hasOwnProperty(Z)&&Z.indexOf("ends")===0){var e=v[Z];k.moveTo(e[0][0],e[0][1]);k.lineTo(e[1][0],e[1][1])}}}});function cS(k,e,Z,i){TD.call(this);this.bodyIndex;this.whiskerIndex;this.styleUpdater=Z;this._createContent(k,e,i);this.updateData(k,e,i);this._seriesModel}var Nr=cS.prototype;Nr._createContent=function(WH,v,PI){var i=WH.getItemLayout(v);var e=i.chartLayout==="horizontal"?1:0;var Z=0;this.add(new GN({shape:{points:PI?S1(i.bodyEnds,e,i):i.bodyEnds},style:{strokeNoScale:true},z2:100}));this.bodyIndex=Z++;var k=PK(i.whiskerEnds,function(XY){return PI?S1(XY,e,i):XY});this.add(new Hg({shape:Ec(k),style:{strokeNoScale:true},z2:100}));this.whiskerIndex=Z++};function S1(Z,e,i){return PK(Z,function(k){k=k.slice();k[e]=i.initBaseline;return k})}function Ec(Z){var e={};Dc(Z,function(v,k){e["ends"+k]=v});return e}Nr.updateData=function(PI,k,v){var Z=this._seriesModel=PI.hostModel;var e=PI.getItemLayout(k);var i=RZ[v?"initProps":"updateProps"];i(this.childAt(this.bodyIndex),{shape:{points:e.bodyEnds}},Z,k);i(this.childAt(this.whiskerIndex),{shape:Ec(e.whiskerEnds)},Z,k);this.styleUpdater.call(null,this,PI,k)};JO(cS,TD);function KD(Z){this.group=new TD();this.styleUpdater=Z}var HU=KD.prototype;HU.updateData=function(k){var e=this.group;var i=this._data;var Z=this.styleUpdater;k.diff(i).add(function(v){if(k.hasValue(v)){var PI=new cS(k,v,Z,true);k.setItemGraphicEl(v,PI);e.add(PI)}}).update(function(v,WH){var PI=i.getItemGraphicEl(WH);if(!k.hasValue(v)){e.remove(PI);return}if(!PI){PI=new cS(k,v,Z)}else{PI.updateData(k,v)}e.add(PI);k.setItemGraphicEl(v,PI)}).remove(function(PI){var v=i.getItemGraphicEl(PI);v&&e.remove(v)}).execute();this._data=k};HU.remove=function(){var Z=this.group;var e=this._data;this._data=null;e&&e.eachItemGraphicEl(function(i){i&&Z.remove(i)})};var Ta={_baseAxisDim:null,getInitialData:function(eH,eG){var i;var WH=eG.getComponent("xAxis",this.get("xAxisIndex"));var eJ=eG.getComponent("yAxis",this.get("yAxisIndex"));var cc=WH.get("type");var e=eJ.get("type");var XY;if(cc==="category"){eH.layout="horizontal";i=WH.getCategories();XY=true}else{if(e==="category"){eH.layout="vertical";i=eJ.getCategories();XY=true}else{eH.layout=eH.layout||"horizontal"}}var Z=["x","y"];var k=eH.layout==="horizontal"?0:1;var Z2=this._baseAxisDim=Z[k];var eF=Z[1-k];var PI=eH.data;XY&&Dc(PI,function(eL,eM){if(eL.value&&aO(eL.value)){eL.value.unshift(eM)}else{aO(eL)&&eL.unshift(eM)}});var eI=this.defaultValueDimensions;var eK=[{name:Z2,otherDims:{tooltip:false},dimsDef:["base"]},{name:eF,dimsDef:eI.slice()}];eK=B(eK,PI,{encodeDef:this.get("encode"),dimsDef:this.get("dimensions"),dimCount:eI.length+1});var v=new Lu(eK,this);v.initData(PI,i?i.slice():null);return v},getBaseAxis:function(){var Z=this._baseAxisDim;return this.ecModel.getComponent(Z+"Axis",this.get(Z+"AxisIndex")).axis}};var P4={init:function(){var Z=this._whiskerBoxDraw=new KD(this.getStyleUpdater());this.group.add(Z.group)},render:function(Z,e,i){this._whiskerBoxDraw.updateData(Z.getData())},remove:function(Z){this._whiskerBoxDraw.remove()}};var LY=RY.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,hoverAnimation:true,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});cq(LY,Ta,true);var cA=L2.extend({type:"boxplot",getStyleUpdater:function(){return Lh},dispose:ed});cq(cA,P4,true);var PY=["itemStyle","normal"];var Wf=["itemStyle","emphasis"];function Lh(PI,e,v){var Z=e.getItemModel(v);var WH=Z.getModel(PY);var Z2=e.getItemVisual(v,"color");var k=WH.getItemStyle(["borderColor"]);var XY=PI.childAt(PI.whiskerIndex);XY.style.set(k);XY.style.stroke=Z2;XY.dirty();var i=PI.childAt(PI.bodyIndex);i.style.set(k);i.style.stroke=Z2;i.dirty();var cc=Z.getModel(Wf).getItemStyle();Ne(PI,cc)}var R8=["itemStyle","normal","borderColor"];var K5=function(e,i){var Z=e.get("color");e.eachRawSeriesByType("boxplot",function(k){var PI=Z[k.seriesIndex%Z.length];var v=k.getData();v.setVisual({legendSymbol:"roundRect",color:k.get(R8)||PI});if(!e.isSeriesFiltered(k)){v.each(function(XY){var WH=v.getItemModel(XY);v.setItemVisual(XY,{color:WH.get(R8,true)})})}})};var Z6=Dc;var ZE=function(Z){var e=LP(Z);Z6(e,function(i){var k=i.seriesModels;if(!k.length){return}Lf(i);Z6(k,function(v,PI){cJ(v,i.boxOffsetList[PI],i.boxWidthList[PI])})})};function LP(Z){var e=[];var i=[];Z.eachSeriesByType("boxplot",function(k){var PI=k.getBaseAxis();var v=Fx(i,PI);if(v<0){v=i.length;i[v]=PI;e[v]={axis:PI,seriesModels:[]}}e[v].seriesModels.push(k)});return e}function Lf(Z){var WH;var eH=Z.axis;var XY=Z.seriesModels;var e=XY.length;var eI=Z.boxWidthList=[];var eG=Z.boxOffsetList=[];var v=[];var cc;if(eH.type==="category"){cc=eH.getBandWidth()}else{var eF=0;Z6(XY,function(eJ){eF=Math.max(eF,eJ.getData().count())});WH=eH.getExtent(),Math.abs(WH[1]-WH[0])/eF}Z6(XY,function(eJ){var eK=eJ.get("boxWidth");if(!aO(eK)){eK=[eK,eK]}v.push([OC(eK[0],cc)||0,OC(eK[1],cc)||0])});var PI=cc*0.8-2;var k=PI/e*0.3;var Z2=(PI-k*(e-1))/e;var i=Z2/2-PI/2;Z6(XY,function(eJ,eK){eG.push(i);i+=k+Z2;eI.push(Math.min(Math.max(Z2,v[eK][0]),v[eK][1]))})}function cJ(eG,e,Z){var cc=eG.coordinateSystem;var k=eG.getData();var PI=Z/2;var v=eG.get("layout");var eF=v==="horizontal"?0:1;var Z2=1-eF;var WH=["x","y"];var i=[];var XY;Dc(k.dimensions,function(eH){var eJ=k.getDimensionInfo(eH);var eI=eJ.coordDim;if(eI===WH[Z2]){i.push(eH)}else{if(eI===WH[eF]){XY=eH}}});if(XY==null||i.length<5){return}k.each([XY].concat(i),function(){var eI=arguments;var eR=eI[0];var eM=eI[i.length+1];var eJ=eN(eI[3]);var eH=eN(eI[1]);var eL=eN(eI[5]);var eO=[[eH,eN(eI[2])],[eL,eN(eI[4])]];eK(eH);eK(eL);eK(eJ);var eP=[];eQ(eO[0][1],0);eQ(eO[1][1],1);k.setItemLayout(eM,{chartLayout:v,initBaseline:eJ[Z2],median:eJ,bodyEnds:eP,whiskerEnds:eO});function eN(eU){var eT=[];eT[eF]=eR;eT[Z2]=eU;var eS;if(isNaN(eR)||isNaN(eU)){eS=[NaN,NaN]}else{eS=cc.dataToPoint(eT);eS[eF]+=e}return eS}function eQ(eS,eU){var eT=eS.slice();var eV=eS.slice();eT[eF]+=PI;eV[eF]-=PI;eU?eP.push(eT,eV):eP.push(eV,eT)}function eK(eS){var eT=[eS.slice(),eS.slice()];eT[0][eF]-=PI;eT[1][eF]+=PI;eO.push(eT)}})}Ai(K5);el(ZE);var aq=RY.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,hoverAnimation:true,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,animationUpdate:false,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(Z,k,e){var i=k.getItemLayout(Z);return e.rect(i.brushRect)}});cq(aq,Ta,true);var H7=L2.extend({type:"candlestick",getStyleUpdater:function(){return Li},dispose:ed});cq(H7,P4,true);var IH=["itemStyle","normal"];var Wg=["itemStyle","emphasis"];function Li(PI,e,v){var Z=e.getItemModel(v);var WH=Z.getModel(IH);var k=e.getItemVisual(v,"color");var cc=e.getItemVisual(v,"borderColor")||k;var XY=WH.getItemStyle(["color","color0","borderColor","borderColor0"]);var Z2=PI.childAt(PI.whiskerIndex);Z2.useStyle(XY);Z2.style.stroke=cc;var i=PI.childAt(PI.bodyIndex);i.useStyle(XY);i.style.fill=k;i.style.stroke=cc;var eF=Z.getModel(Wg).getItemStyle();Ne(PI,eF)}var bS=function(Z){if(!Z||!aO(Z.series)){return}Dc(Z.series,function(e){if(Q(e)&&e.type==="k"){e.type="candlestick"}})};var Ls=["itemStyle","normal","borderColor"];var UQ=["itemStyle","normal","borderColor0"];var NM=["itemStyle","normal","color"];var NH=["itemStyle","normal","color0"];var GZ=function(Z,e){Z.eachRawSeriesByType("candlestick",function(i){var k=i.getData();k.setVisual({legendSymbol:"roundRect"});if(!Z.isSeriesFiltered(i)){k.each(function(WH){var PI=k.getItemModel(WH);var v=k.getItemLayout(WH).sign;k.setItemVisual(WH,{color:PI.get(v>0?NM:NH),borderColor:PI.get(v>0?Ls:UQ)})})}})};var Su=TR;var Ad=function(Z){Z.eachSeriesByType("candlestick",function(eG){var i=eG.coordinateSystem;var v=eG.getData();var cc=Q7(eG,v);var PI=eG.get("layout");var eF=PI==="horizontal"?0:1;var Z2=1-eF;var e=["x","y"];var k=[];var WH;Dc(v.dimensions,function(eH){var eJ=v.getDimensionInfo(eH);var eI=eJ.coordDim;if(eI===e[Z2]){k.push(eH)}else{if(eI===e[eF]){WH=eH}}});if(WH==null||k.length<4){return}var XY=0;v.each([WH].concat(k),function(){var eH=arguments;var eO=eH[0];var eK=eH[k.length+1];var eI=eH[1];var eW=eH[2];var eN=eH[3];var eL=eH[4];var eR=Math.min(eI,eW);var eQ=Math.max(eI,eW);var eU=eJ(eR);var eZ=eJ(eQ);var eS=eJ(eN);var eX=eJ(eL);var eP=[[eM(eX),eM(eZ)],[eM(eS),eM(eU)]];var e0=[];eY(eZ,0);eY(eU,1);var eV;if(eI>eW){eV=-1}else{if(eI<eW){eV=1}else{if(XY>0){eV=v.getItemModel(XY-1).get()[2]<=eW?1:-1}else{eV=1}}}v.setItemLayout(eK,{chartLayout:PI,sign:eV,initBaseline:eI>eW?eZ[Z2]:eU[Z2],bodyEnds:e0,whiskerEnds:eP,brushRect:eT()});++XY;function eJ(e2){var e1=[];e1[eF]=eO;e1[Z2]=e2;return(isNaN(eO)||isNaN(e2))?[NaN,NaN]:i.dataToPoint(e1)}function eY(e1,e3){var e2=e1.slice();var e4=e1.slice();e2[eF]=bq(e2[eF]+cc/2,1,false);e4[eF]=bq(e4[eF]-cc/2,1,true);e3?e0.push(e2,e4):e0.push(e4,e2)}function eT(){var e1=eJ(Math.min(eI,eW,eN,eL));var e2=eJ(Math.max(eI,eW,eN,eL));e1[eF]-=cc/2;e2[eF]-=cc/2;return{x:e1[0],y:e1[1],width:Z2?cc:e2[0]-e1[0],height:Z2?e2[1]-e1[1]:cc}}function eM(e1){e1[eF]=bq(e1[eF],1);return e1}},true)})};function Q7(XY,e){var WH=XY.getBaseAxis();var k;var Z=WH.type==="category"?WH.getBandWidth():(k=WH.getExtent(),Math.abs(k[1]-k[0])/e.count());var PI=OC(Su(XY.get("barMaxWidth"),Z),Z);var v=OC(Su(XY.get("barMinWidth"),1),Z);var i=XY.get("barWidth");return i!=null?OC(i,Z):Math.max(Math.min(Z/2,PI),v)}IL(bS);Ai(GZ);el(Ad);RY.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(Z,e){var i=Um(Z.data,this,e);return i},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:true,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});var p=3;function MX(Z){if(!aO(Z)){Z=[+Z,+Z]}return Z}function by(Z,e){Z.eachChild(function(i){i.attr({z:e.z,zlevel:e.zlevel,style:{stroke:e.brushType==="stroke"?e.color:null,fill:e.brushType==="fill"?e.color:null}})})}function SI(k,i){TD.call(this);var e=new RS(k,i);var Z=new TD();this.add(e);this.add(Z);Z.beforeUpdate=function(){this.attr(e.getScale())};this.updateData(k,i)}var cV=SI.prototype;cV.stopEffectAnimation=function(){this.childAt(1).removeAll()};cV.startEffectAnimation=function(PI){var e=PI.symbolType;var XY=PI.color;var Z=this.childAt(1);for(var k=0;k<p;k++){var WH=Fq(e,-1,-1,2,2,XY);WH.attr({style:{strokeNoScale:true},z2:99,silent:true,scale:[0.5,0.5]});var v=-k/p*PI.period+PI.effectOffset;WH.animate("",true).when(PI.period,{scale:[PI.rippleScale/2,PI.rippleScale/2]}).delay(v).start();WH.animateStyle(true).when(PI.period,{opacity:0}).delay(v).start();Z.add(WH)}by(Z,PI)};cV.updateEffectAnimation=function(PI){var WH=this._effectCfg;var Z=this.childAt(1);var e=["symbolType","period","rippleScale"];for(var k=0;k<e.length;k++){var v=e[k];if(WH[v]!==PI[v]){this.stopEffectAnimation();this.startEffectAnimation(PI);return}}by(Z,PI)};cV.highlight=function(){this.trigger("emphasis")};cV.downplay=function(){this.trigger("normal")};cV.updateData=function(k,PI){var eI=k.hostModel;this.childAt(0).updateData(k,PI);var cc=this.childAt(1);var e=k.getItemModel(PI);var WH=k.getItemVisual(PI,"symbol");var Z=MX(k.getItemVisual(PI,"symbolSize"));var v=k.getItemVisual(PI,"color");cc.attr("scale",Z);cc.traverse(function(eJ){eJ.attr({fill:v})});var eH=e.getShallow("symbolOffset");if(eH){var Z2=cc.position;Z2[0]=OC(eH[0],Z[0]);Z2[1]=OC(eH[1],Z[1])}cc.rotation=(e.getShallow("symbolRotate")||0)*Math.PI/180||0;var eG={};eG.showEffectOn=eI.get("showEffectOn");eG.rippleScale=e.get("rippleEffect.scale");eG.brushType=e.get("rippleEffect.brushType");eG.period=e.get("rippleEffect.period")*1000;eG.effectOffset=PI/k.count();eG.z=e.getShallow("z")||0;eG.zlevel=e.getShallow("zlevel")||0;eG.symbolType=WH;eG.color=v;this.off("mouseover").off("mouseout").off("emphasis").off("normal");if(eG.showEffectOn==="render"){this._effectCfg?this.updateEffectAnimation(eG):this.startEffectAnimation(eG);this._effectCfg=eG}else{this._effectCfg=null;this.stopEffectAnimation();var XY=this.childAt(0);var eF=function(){XY.highlight();if(eG.showEffectOn!=="render"){this.startEffectAnimation(eG)}};var i=function(){XY.downplay();if(eG.showEffectOn!=="render"){this.stopEffectAnimation()}};this.on("mouseover",eF,this).on("mouseout",i,this).on("emphasis",eF,this).on("normal",i,this)}this._effectCfg=eG};cV.fadeOut=function(Z){this.off("mouseover").off("mouseout").off("emphasis").off("normal");Z&&Z()};JO(SI,TD);WQ({type:"effectScatter",init:function(){this._symbolDraw=new eb(SI)},render:function(e,i,k){var v=e.getData();var Z=this._symbolDraw;Z.updateData(v);this.group.add(Z.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(Z,e){this._symbolDraw&&this._symbolDraw.remove(e)},dispose:function(){}});Ai(aT(Qz,"effectScatter","circle",null));el(aT(F,"effectScatter"));function XD(Z){var e=Z.data;if(e&&e[0]&&e[0][0]&&e[0][0].coord){if(Vo){console.warn("Lines data configuration has been changed to { coords:[[1,2],[2,3]] }")}Z.data=PK(e,function(k){var i=[k[0].coord,k[1].coord];var v={coords:i};if(k[0].name){v.fromName=k[0].name}if(k[1].name){v.toName=k[1].name}return FJ([v,k[0],k[1]])})}}var H3=RY.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.normal.color",init:function(Z){XD(Z);H3.superApply(this,"init",arguments)},mergeOption:function(Z){XD(Z);H3.superApply(this,"mergeOption",arguments)},getInitialData:function(Z,i){if(Vo){var e=Ql.get(Z.coordinateSystem);if(!e){throw new Error("Unkown coordinate system "+Z.coordinateSystem)}}var k=new Lu(["value"],this);k.hasItemOption=false;k.initData(Z.data,[],function(WH,XY,v,PI){if(WH instanceof Array){return NaN}else{k.hasItemOption=true;var Z2=WH.value;if(Z2!=null){return Z2 instanceof Array?Z2[PI]:Z2}}});return k},formatTooltip:function(e){var WH=this.getData();var k=WH.getItemModel(e);var v=k.get("name");if(v){return v}var i=k.get("fromName");var PI=k.get("toName");var Z=[];i!=null&&Z.push(i);PI!=null&&Z.push(PI);return Pp(Z.join(" > "))},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:true,hoverAnimation:true,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:false,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:true,trailLength:0.2},large:false,largeThreshold:2000,polyline:false,label:{normal:{show:false,position:"end"}},lineStyle:{normal:{opacity:0.5}}}});function MQ(Z,e,i){TD.call(this);this.add(this.createLine(Z,e,i));this._updateEffectSymbol(Z,e)}var WP=MQ.prototype;WP.createLine=function(Z,e,i){return new NJ(Z,e,i)};WP._updateEffectSymbol=function(XY,k){var Z=XY.getItemModel(k);var e=Z.getModel("effect");var v=e.get("symbolSize");var PI=e.get("symbol");if(!aO(v)){v=[v,v]}var i=e.get("color")||XY.getItemVisual(k,"color");var WH=this.childAt(1);if(this._symbolType!==PI){this.remove(WH);WH=Fq(PI,-0.5,-0.5,1,1,i);WH.z2=100;WH.culling=true;this.add(WH)}if(!WH){return}WH.setStyle("shadowColor",i);WH.setStyle(e.getItemStyle(["color"]));WH.attr("scale",v);WH.setColor(i);WH.attr("scale",v);this._symbolType=PI;this._updateEffectAnimation(XY,e,k)};WP._updateEffectAnimation=function(Z2,k,PI){var XY=this.childAt(1);if(!XY){return}var WH=this;var cc=Z2.getItemLayout(PI);var Z=k.get("period")*1000;var eH=k.get("loop");var v=k.get("constantSpeed");var eG=Ew(k.get("delay"),function(eI){return eI/Z2.count()*Z/3});var i=typeof eG==="function";XY.ignore=true;this.updateAnimationPoints(XY,cc);if(v>0){Z=this.getLineLength(XY)/v*1000}if(Z!==this._period||eH!==this._loop){XY.stopAnimation();var e=eG;if(i){e=eG(PI)}if(XY.__t>0){e=-Z*XY.__t}XY.__t=0;var eF=XY.animate("",eH).when(Z,{__t:1}).delay(e).during(function(){WH.updateSymbolPosition(XY)});if(!eH){eF.done(function(){WH.remove(XY)})}eF.start()}this._period=Z;this._loop=eH};WP.getLineLength=function(Z){return(Uv(Z.__p1,Z.__cp1)+Uv(Z.__cp1,Z.__p2))};WP.updateAnimationPoints=function(Z,e){Z.__p1=e[0];Z.__p2=e[1];Z.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]};WP.updateData=function(Z,e,i){this.childAt(0).updateData(Z,e,i);this._updateEffectSymbol(Z,e)};WP.updateSymbolPosition=function(PI){var v=PI.__p1;var XY=PI.__p2;var Z2=PI.__cp1;var e=PI.__t;var WH=PI.position;var k=RK;var i=On;WH[0]=k(v[0],Z2[0],XY[0],e);WH[1]=k(v[1],Z2[1],XY[1],e);var Z=i(v[0],Z2[0],XY[0],e);var cc=i(v[1],Z2[1],XY[1],e);PI.rotation=-Math.atan2(cc,Z)-Math.PI/2;PI.ignore=false};WP.updateLayout=function(Z,i){this.childAt(0).updateLayout(Z,i);var e=Z.getItemModel(i).getModel("effect");this._updateEffectAnimation(Z,e,i)};JO(MQ,TD);function XV(Z,e,i){TD.call(this);this._createPolyline(Z,e,i)}var Oj=XV.prototype;Oj._createPolyline=function(Z,i,v){var e=Z.getItemLayout(i);var k=new I3({shape:{points:e}});this.add(k);this._updateCommonStl(Z,i,v)};Oj.updateData=function(Z,k,PI){var e=Z.hostModel;var v=this.childAt(0);var i={shape:{points:Z.getItemLayout(k)}};Pr(v,i,e,k);this._updateCommonStl(Z,k,PI)};Oj._updateCommonStl=function(v,i,k){var Z=this.childAt(0);var PI=v.getItemModel(i);var XY=v.getItemVisual(i,"color");var WH=k&&k.lineStyle;var e=k&&k.hoverLineStyle;if(!k||v.hasItemOption){WH=PI.getModel("lineStyle.normal").getLineStyle();e=PI.getModel("lineStyle.emphasis").getLineStyle()}Z.useStyle(Id({strokeNoScale:true,fill:"none",stroke:XY},WH));Z.hoverStyle=e;Ne(this)};Oj.updateLayout=function(Z,i){var e=this.childAt(0);e.setShape("points",Z.getItemLayout(i))};JO(XV,TD);function WR(Z,e,i){MQ.call(this,Z,e,i);this._lastFrame=0;this._lastFramePercent=0}var HQ=WR.prototype;HQ.createLine=function(Z,e,i){return new XV(Z,e,i)};HQ.updateAnimationPoints=function(e,v){this._points=v;var XY=[0];var Z=0;for(var k=1;k<v.length;k++){var PI=v[k-1];var WH=v[k];Z+=Uv(PI,WH);XY.push(Z)}if(Z===0){return}for(var k=0;k<XY.length;k++){XY[k]/=Z}this._offsets=XY;this._length=Z};HQ.getLineLength=function(Z){return this._length};HQ.updateSymbolPosition=function(WH){var i=WH.__t;var XY=this._points;var PI=this._offsets;var Z2=XY.length;if(!PI){return}var v=this._lastFrame;var k;if(i<this._lastFramePercent){var e=Math.min(v+1,Z2-1);for(k=e;k>=0;k--){if(PI[k]<=i){break}}k=Math.min(k,Z2-2)}else{for(var k=v;k<Z2;k++){if(PI[k]>i){break}}k=Math.min(k-1,Z2-2)}YQ(WH.position,XY[k],XY[k+1],(i-PI[k])/(PI[k+1]-PI[k]));var Z=XY[k+1][0]-XY[k][0];var cc=XY[k+1][1]-XY[k][1];WH.rotation=-Math.atan2(cc,Z)-Math.PI/2;this._lastFrame=k;this._lastFramePercent=i;WH.ignore=false};JO(WR,MQ);var Hq=B6({shape:{polyline:false,segs:[]},buildPath:function(XY,e){var Z=e.segs;var v=e.polyline;for(var k=0;k<Z.length;k++){var PI=Z[k];if(v){XY.moveTo(PI[0][0],PI[0][1]);for(var WH=1;WH<PI.length;WH++){XY.lineTo(PI[WH][0],PI[WH][1])}}else{XY.moveTo(PI[0][0],PI[0][1]);if(PI.length>2){XY.quadraticCurveTo(PI[2][0],PI[2][1],PI[1][0],PI[1][1])}else{XY.lineTo(PI[1][0],PI[1][1])}}}},findDataIndex:function(XY,Z2){var e=this.shape;var Z=e.segs;var WH=e.polyline;var PI=Math.max(this.style.lineWidth,1);for(var v=0;v<Z.length;v++){var cc=Z[v];if(WH){for(var k=1;k<cc.length;k++){if(R(cc[k-1][0],cc[k-1][1],cc[k][0],cc[k][1],PI,XY,Z2)){return v}}}else{if(cc.length>2){if(Dq(cc[0][0],cc[0][1],cc[2][0],cc[2][1],cc[1][0],cc[1][1],PI,XY,Z2)){return v}}else{if(R(cc[0][0],cc[0][1],cc[1][0],cc[1][1],PI,XY,Z2)){return v}}}}return -1}});function df(){this.group=new TD();this._lineEl=new Hq()}var Fy=df.prototype;Fy.updateData=function(k){this.group.removeAll();var Z=this._lineEl;var e=k.hostModel;Z.setShape({segs:k.mapArray(k.getItemLayout),polyline:e.get("polyline")});Z.useStyle(e.getModel("lineStyle.normal").getLineStyle());var i=k.getVisual("color");if(i){Z.setStyle("stroke",i)}Z.setStyle("fill");Z.seriesIndex=e.seriesIndex;Z.on("mousemove",function(PI){Z.dataIndex=null;var v=Z.findDataIndex(PI.offsetX,PI.offsetY);if(v>0){Z.dataIndex=v}});this.group.add(Z)};Fy.updateLayout=function(Z){var e=Z.getData();this._lineEl.setShape({segs:e.mapArray(e.getItemLayout)})};Fy.remove=function(){this.group.removeAll()};WQ({type:"lines",init:function(){},render:function(eH,e,eF){var k=eH.getData();var PI=this._lineDraw;var XY=eH.get("effect.show");var Z2=eH.get("polyline");var WH=eH.get("large")&&k.count()>=eH.get("largeThreshold");if(Vo){if(XY&&WH){console.warn("Large lines not support effect")}}if(XY!==this._hasEffet||Z2!==this._isPolyline||WH!==this._isLarge){if(PI){PI.remove()}PI=this._lineDraw=WH?new df():new Mq(Z2?(XY?WR:XV):(XY?MQ:NJ));this._hasEffet=XY;this._isPolyline=Z2;this._isLarge=WH}var Z=eH.get("zlevel");var cc=eH.get("effect.trailLength");var i=eF.getZr();var v=i.painter.getType()==="svg";if(!v){i.painter.getLayer(Z).clear(true)}if(this._lastZlevel!=null&&!v){i.configLayer(this._lastZlevel,{motionBlur:false})}if(XY&&cc){if(Vo){var eG=false;e.eachSeries(function(eI){if(eI!==eH&&eI.get("zlevel")===Z){eG=true}});eG&&console.warn("Lines with trail effect should have an individual zlevel")}if(!v){i.configLayer(Z,{motionBlur:true,lastFrameAlpha:Math.max(Math.min(cc/10+0.9,1),0)})}}this.group.add(PI.group);PI.updateData(k);this._lastZlevel=Z},updateLayout:function(Z,e,v){this._lineDraw.updateLayout(Z);var i=v.getZr();var k=i.painter.getType()==="svg";if(!k){i.painter.getLayer(this._lastZlevel).clear(true)}},remove:function(e,k){this._lineDraw&&this._lineDraw.remove(k,true);var Z=k.getZr();var i=Z.painter.getType()==="svg";if(!i){Z.painter.getLayer(this._lastZlevel).clear(true)}},dispose:function(){}});var SB=function(Z){Z.eachSeriesByType("lines",function(e){var k=e.coordinateSystem;var i=e.getData();i.each(function(Z2){var WH=i.getItemModel(Z2);var PI=(WH.option instanceof Array)?WH.option:WH.get("coords");if(Vo){if(!(PI instanceof Array&&PI.length>0&&PI[0] instanceof Array)){throw new Error("Invalid coords "+JSON.stringify(PI)+". Lines must have 2d coords array in data item.")}}var cc=[];if(e.get("polyline")){for(var v=0;v<PI.length;v++){cc.push(k.dataToPoint(PI[v]))}}else{cc[0]=k.dataToPoint(PI[0]);cc[1]=k.dataToPoint(PI[1]);var XY=WH.get("lineStyle.normal.curveness");if(+XY){cc[2]=[(cc[0][0]+cc[1][0])/2-(cc[0][1]-cc[1][1])*XY,(cc[0][1]+cc[1][1])/2-(cc[1][0]-cc[0][0])*XY]}}i.setItemLayout(Z2,cc)})})};function cN(Z){if(!(Z instanceof Array)){Z=[Z,Z]}return Z}var Vq=function(Z){Z.eachSeriesByType("lines",function(e){var PI=e.getData();var i=cN(e.get("symbol"));var k=cN(e.get("symbolSize"));var v="lineStyle.normal.opacity".split(".");PI.setVisual("fromSymbol",i&&i[0]);PI.setVisual("toSymbol",i&&i[1]);PI.setVisual("fromSymbolSize",k&&k[0]);PI.setVisual("toSymbolSize",k&&k[1]);PI.setVisual("opacity",e.get(v));PI.each(function(cc){var XY=PI.getItemModel(cc);var WH=cN(XY.getShallow("symbol",true));var eF=cN(XY.getShallow("symbolSize",true));var Z2=XY.get(v);WH[0]&&PI.setItemVisual(cc,"fromSymbol",WH[0]);WH[1]&&PI.setItemVisual(cc,"toSymbol",WH[1]);eF[0]&&PI.setItemVisual(cc,"fromSymbolSize",eF[0]);eF[1]&&PI.setItemVisual(cc,"toSymbolSize",eF[1]);PI.setItemVisual(cc,"opacity",Z2)})})};el(SB);Ai(Vq);RY.extend({type:"series.heatmap",getInitialData:function(Z,e){return Um(Z.data,this,e)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});var U7=256;function YD(){var Z=d0();this.canvas=Z;this.blurSize=30;this.pointSize=20;this.maxOpacity=1;this.minOpacity=0;this._gradientPixels={}}YD.prototype={update:function(eR,eW,eV,eS,Z2,eL){var eX=this._getBrush();var eF=this._getGradient(eR,Z2,"inRange");var eJ=this._getGradient(eR,Z2,"outOfRange");var Z=this.pointSize+this.blurSize;var e=this.canvas;var cc=e.getContext("2d");var v=eR.length;e.width=eW;e.height=eV;for(var XY=0;XY<v;++XY){var k=eR[XY];var eT=k[0];var eU=k[1];var eH=k[2];var eK=eS(eH);cc.globalAlpha=eK;cc.drawImage(eX,eT-Z,eU-Z)}if(!e.width||!e.height){return e}var eN=cc.getImageData(0,0,e.width,e.height);var WH=eN.data;var eG=0;var eP=WH.length;var eO=this.minOpacity;var PI=this.maxOpacity;var eM=PI-eO;while(eG<eP){var eK=WH[eG+3]/256;var eI=Math.floor(eK*(U7-1))*4;if(eK>0){var eQ=eL(eK)?eF:eJ;eK>0&&(eK=eK*eM+eO);WH[eG++]=eQ[eI];WH[eG++]=eQ[eI+1];WH[eG++]=eQ[eI+2];WH[eG++]=eQ[eI+3]*eK*256}else{eG+=4}}cc.putImageData(eN,0,0);return e},_getBrush:function(){var i=this._brushCanvas||(this._brushCanvas=d0());var Z=this.pointSize+this.blurSize;var e=Z*2;i.width=e;i.height=e;var k=i.getContext("2d");k.clearRect(0,0,e,e);k.shadowOffsetX=e;k.shadowBlur=this.blurSize;k.shadowColor="#000";k.beginPath();k.arc(-Z,Z,this.pointSize,0,Math.PI*2,true);k.closePath();k.fill();return i},_getGradient:function(Z,k,v){var Z2=this._gradientPixels;var WH=Z2[v]||(Z2[v]=new Uint8ClampedArray(256*4));var e=[0,0,0,0];var XY=0;for(var PI=0;PI<256;PI++){k[v](PI/255,true,e);WH[XY++]=e[0];WH[XY++]=e[1];WH[XY++]=e[2];WH[XY++]=e[3]}return WH}};function Tn(v,PI,i){var e=v[1]-v[0];PI=PK(PI,function(WH){return{interval:[(WH.interval[0]-v[0])/e,(WH.interval[1]-v[0])/e]}});var k=PI.length;var Z=0;return function(Z2){for(var WH=Z;WH<k;WH++){var XY=PI[WH].interval;if(XY[0]<=Z2&&Z2<=XY[1]){Z=WH;break}}if(WH===k){for(var WH=Z-1;WH>=0;WH--){var XY=PI[WH].interval;if(XY[0]<=Z2&&Z2<=XY[1]){Z=WH;break}}}return WH>=0&&WH<k&&i[WH]}}function cp(i,e){var Z=i[1]-i[0];e=[(e[0]-i[0])/Z,(e[1]-i[0])/Z];return function(k){return k>=e[0]&&k<=e[1]}}function ad(Z){var e=Z.dimensions;return e[0]==="lng"&&e[1]==="lat"}WQ({type:"heatmap",render:function(Z,e,v){var i;e.eachComponent("visualMap",function(PI){PI.eachTargetSeries(function(WH){if(WH===Z){i=PI}})});if(Vo){if(!i){throw new Error("Heatmap must use with visualMap")}}this.group.removeAll();var k=Z.coordinateSystem;if(k.type==="cartesian2d"||k.type==="calendar"){this._renderOnCartesianAndCalendar(k,Z,v)}else{if(ad(k)){this._renderOnGeo(k,Z,i,v)}}},dispose:function(){},_renderOnCartesianAndCalendar:function(cc,PI,Z2){if(cc.type==="cartesian2d"){var eH=cc.getAxis("x");var v=cc.getAxis("y");if(Vo){if(!(eH.type==="category"&&v.type==="category")){throw new Error("Heatmap on cartesian must have two category axes")}if(!(eH.onBand&&v.onBand)){throw new Error("Heatmap on cartesian must have two axes with boundaryGap true")}}var eG=eH.getBandWidth();var eM=v.getBandWidth()}var eI=this.group;var eJ=PI.getData();var eK="itemStyle.normal";var eF="itemStyle.emphasis";var XY="label.normal";var eL="label.emphasis";var eN=PI.getModel(eK).getItemStyle(["color"]);var Z=PI.getModel(eF).getItemStyle();var i=PI.getModel("label.normal");var e=PI.getModel("label.emphasis");var k=cc.type;var WH=k==="cartesian2d"?[PI.coordDimToDataDim("x")[0],PI.coordDimToDataDim("y")[0],PI.coordDimToDataDim("value")[0]]:[PI.coordDimToDataDim("time")[0],PI.coordDimToDataDim("value")[0]];eJ.each(function(eS){var eQ;if(k==="cartesian2d"){if(isNaN(eJ.get(WH[2],eS))){return}var eP=cc.dataToPoint([eJ.get(WH[0],eS),eJ.get(WH[1],eS)]);eQ=new BI({shape:{x:eP[0]-eG/2,y:eP[1]-eM/2,width:eG,height:eM},style:{fill:eJ.getItemVisual(eS,"color"),opacity:eJ.getItemVisual(eS,"opacity")}})}else{if(isNaN(eJ.get(WH[1],eS))){return}eQ=new BI({z2:1,shape:cc.dataToRect([eJ.get(WH[0],eS)]).contentShape,style:{fill:eJ.getItemVisual(eS,"color"),opacity:eJ.getItemVisual(eS,"opacity")}})}var eR=eJ.getItemModel(eS);if(eJ.hasItemOption){eN=eR.getModel(eK).getItemStyle(["color"]);Z=eR.getModel(eF).getItemStyle();i=eR.getModel(XY);e=eR.getModel(eL)}var eO=PI.getRawValue(eS);var eT="-";if(eO&&eO[2]!=null){eT=eO[2]}Ha(eN,Z,i,e,{labelFetcher:PI,labelDataIndex:eS,defaultText:eT,isRectText:true});eQ.setStyle(eN);Ne(eQ,eJ.hasItemOption?Z:V8({},Z));eI.add(eQ);eJ.setItemGraphicEl(eS,eQ)})},_renderOnGeo:function(eG,k,e,XY){var i=e.targetVisuals.inRange;var Z2=e.targetVisuals.outOfRange;var PI=k.getData();var v=this._hmLayer||(this._hmLayer||new YD());v.blurSize=k.get("blurSize");v.pointSize=k.get("pointSize");v.minOpacity=k.get("minOpacity");v.maxOpacity=k.get("maxOpacity");var WH=eG.getViewRect().clone();var cc=eG.getRoamTransform().transform;WH.applyTransform(cc);var eK=Math.max(WH.x,0);var eL=Math.max(WH.y,0);var eN=Math.min(WH.width+WH.x,XY.getWidth());var eI=Math.min(WH.height+WH.y,XY.getHeight());var eO=eN-eK;var eM=eI-eL;var eF=PI.mapArray(["lng","lat","value"],function(eR,eS,eP){var eQ=eG.dataToPoint([eR,eS]);eQ[0]-=eK;eQ[1]-=eL;eQ.push(eP);return eQ});var eH=e.getExtent();var Z=e.type==="visualMap.continuous"?cp(eH,e.option.range):Tn(eH,e.getPieceList(),e.option.selected);v.update(eF,eO,eM,i.color.getNormalizer(),{inRange:i.color.getColorMapper(),outOfRange:Z2.color.getColorMapper()},Z);var eJ=new G4({style:{width:eO,height:eM,x:eK,y:eL,image:v.canvas},silent:true});this.group.add(eJ)}});var bL=dL.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:false,symbolRepeatDirection:"end",symbolClip:false,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:false},getInitialData:function(Z){Z.stack=null;return bL.superApply(this,"getInitialData",arguments)}});var Ss=["itemStyle","normal","borderWidth"];var Eh=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}];var Sn=new aA();var YT=WQ({type:"pictorialBar",render:function(eF,Z,cc){var PI=this.group;var i=eF.getData();var k=this._data;var v=eF.coordinateSystem;var Z2=v.getBaseAxis();var e=!!Z2.isHorizontal();var XY=v.grid.getRect();var WH={ecSize:{width:cc.getWidth(),height:cc.getHeight()},seriesModel:eF,coordSys:v,coordSysExtent:[[XY.x,XY.x+XY.width],[XY.y,XY.y+XY.height]],isHorizontal:e,valueDim:Eh[+e],categoryDim:Eh[1-e]};i.diff(k).add(function(eG){if(!i.hasValue(eG)){return}var eH=dN(i,eG);var eJ=RV(i,eG,eH,WH);var eI=Ot(i,WH,eJ);i.setItemGraphicEl(eG,eI);PI.add(eI);Kd(eI,WH,eJ)}).update(function(eK,eH){var eI=k.getItemGraphicEl(eH);if(!i.hasValue(eK)){PI.remove(eI);return}var eG=dN(i,eK);var eJ=RV(i,eK,eG,WH);var eL=Va(i,eJ);if(eI&&eL!==eI.__pictorialShapeStr){PI.remove(eI);i.setItemGraphicEl(eK,null);eI=null}if(eI){X7(eI,WH,eJ)}else{eI=Ot(i,WH,eJ,true)}i.setItemGraphicEl(eK,eI);eI.__pictorialSymbolMeta=eJ;PI.add(eI);Kd(eI,WH,eJ)}).remove(function(eG){var eH=k.getItemGraphicEl(eG);eH&&VR(k,eG,eH.__pictorialSymbolMeta.animationModel,eH)}).execute();this._data=i;return this.group},dispose:ed,remove:function(e,i){var Z=this.group;var k=this._data;if(e.get("animation")){if(k){k.eachItemGraphicEl(function(v){VR(k,v.dataIndex,e,v)})}}else{Z.removeAll()}}});function RV(v,cc,e,k){var Z2=v.getItemLayout(cc);var eF=e.get("symbolRepeat");var eI=e.get("symbolClip");var XY=e.get("symbolPosition")||"start";var eG=e.get("symbolRotate");var eH=(eG||0)*Math.PI/180||0;var i=e.get("symbolPatternSize")||2;var eJ=e.isAnimationEnabled();var Z={dataIndex:cc,layout:Z2,itemModel:e,symbolType:v.getItemVisual(cc,"symbol")||"circle",color:v.getItemVisual(cc,"color"),symbolClip:eI,symbolRepeat:eF,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:i,rotation:eH,animationModel:eJ?e:null,hoverAnimation:eJ&&e.get("hoverAnimation"),z2:e.getShallow("z",true)||0};Gi(e,eF,Z2,k,Z);SD(v,cc,Z2,eF,eI,Z.boundingLength,Z.pxSign,i,k,Z);NS(e,Z.symbolScale,eH,k,Z);var PI=Z.symbolSize;var WH=e.get("symbolOffset");if(aO(WH)){WH=[OC(WH[0],PI[0]),OC(WH[1],PI[1])]}Uf(e,PI,Z2,eF,eI,WH,XY,Z.valueLineWidth,Z.boundingLength,Z.repeatCutLength,k,Z);return Z}function Gi(e,eG,WH,i,k){var PI=i.valueDim;var XY=e.get("symbolBoundingData");var Z=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis());var v=Z.toGlobalCoord(Z.dataToCoord(0));var Z2=1-+(WH[PI.wh]<=0);var cc;if(aO(XY)){var eF=[af(Z,XY[0])-v,af(Z,XY[1])-v];eF[1]<eF[0]&&(eF.reverse());cc=eF[Z2]}else{if(XY!=null){cc=af(Z,XY)-v}else{if(eG){cc=i.coordSysExtent[PI.index][Z2]-v}else{cc=WH[PI.wh]}}}k.boundingLength=cc;if(eG){k.repeatCutLength=WH[PI.wh]}k.pxSign=cc>0?1:cc<0?-1:0}function af(e,Z){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(Z)))}function SD(PI,cc,Z2,eH,eI,eF,XY,k,v,WH){var e=v.valueDim;var i=v.categoryDim;var eJ=Math.abs(Z2[i.wh]);var Z=PI.getItemVisual(cc,"symbolSize");if(aO(Z)){Z=Z.slice()}else{if(Z==null){Z="100%"}Z=[Z,Z]}Z[i.index]=OC(Z[i.index],eJ);Z[e.index]=OC(Z[e.index],eH?eJ:Math.abs(eF));WH.symbolSize=Z;var eG=WH.symbolScale=[Z[0]/k,Z[1]/k];eG[e.index]*=(v.isHorizontal?-1:1)*XY}function NS(e,i,Z,v,PI){var k=e.get(Ss)||0;if(k){Sn.attr({scale:i.slice(),rotation:Z});Sn.updateTransform();k/=Sn.getLineScale();k*=i[v.valueDim.index]}PI.valueLineWidth=k}function Uf(eX,k,eG,i,e,eF,eO,eS,WH,eU,Z2,eK){var eI=Z2.categoryDim;var eH=Z2.valueDim;var cc=eK.pxSign;var eW=Math.max(k[eH.index]+eS,0);var eL=eW;if(i){var eJ=Math.abs(WH);var XY=Ew(eX.get("symbolMargin"),"15%")+"";var PI=false;if(XY.lastIndexOf("!")===XY.length-1){PI=true;XY=XY.slice(0,XY.length-1)}XY=OC(XY,k[eH.index]);var eR=Math.max(eW+XY*2,0);var Z=PI?0:XY*2;var eP=PM(i);var eV=eP?i:Un((eJ+Z)/eR);var v=eJ-eV*eW;XY=v/2/(PI?eV:eV-1);eR=eW+XY*2;Z=PI?0:XY*2;if(!eP&&i!=="fixed"){eV=eU?Un((Math.abs(eU)+Z)/eR):0}eL=eV*eR-Z;eK.repeatTimes=eV;eK.symbolMargin=XY}var eT=cc*(eL/2);var eQ=eK.pathPosition=[];eQ[eI.index]=eG[eI.wh]/2;eQ[eH.index]=eO==="start"?eT:eO==="end"?WH-eT:WH/2;if(eF){eQ[0]+=eF[0];eQ[1]+=eF[1]}var eY=eK.bundlePosition=[];eY[eI.index]=eG[eI.xy];eY[eH.index]=eG[eH.xy];var eM=eK.barRectShape=V8({},eG);eM[eH.wh]=cc*Math.max(Math.abs(eG[eH.wh]),Math.abs(eQ[eH.index]+eT));eM[eI.wh]=eG[eI.wh];var eN=eK.clipShape={};eN[eI.xy]=-eG[eI.xy];eN[eI.wh]=Z2.ecSize[eI.wh];eN[eH.xy]=0;eN[eH.wh]=eG[eH.wh]}function ei(e){var Z=e.symbolPatternSize;var i=Fq(e.symbolType,-Z/2,-Z/2,Z,Z,e.color);i.attr({culling:true});i.type!=="image"&&i.setStyle({strokeNoScale:true});return i}function Yi(i,WH,eG,e){var eL=i.__pictorialBundle;var k=eG.symbolSize;var eI=eG.valueLineWidth;var Z2=eG.pathPosition;var XY=WH.valueDim;var eK=eG.repeatTimes||0;var v=0;var eH=k[WH.valueDim.index]+eI+eG.symbolMargin*2;H5(i,function(eM){eM.__pictorialAnimationIndex=v;eM.__pictorialRepeatTimes=eK;if(v<eK){Mg(eM,null,eF(v),eG,e)}else{Mg(eM,null,{scale:[0,0]},eG,e,function(){eL.remove(eM)})}Zn(eM,eG);v++});for(;v<eK;v++){var cc=ei(eG);cc.__pictorialAnimationIndex=v;cc.__pictorialRepeatTimes=eK;eL.add(cc);var eJ=eF(v);Mg(cc,{position:eJ.position,scale:[0,0]},{scale:eJ.scale,rotation:eJ.rotation},eG,e);cc.on("mouseover",PI).on("mouseout",Z);Zn(cc,eG)}function eF(eP){var eO=Z2.slice();var eN=eG.pxSign;var eM=eP;if(eG.symbolRepeatDirection==="start"?eN>0:eN<0){eM=eK-1-eP}eO[XY.index]=eH*(eM-eK/2+0.5)+Z2[XY.index];return{position:eO,scale:eG.symbolScale.slice(),rotation:eG.rotation}}function PI(){H5(i,function(eM){eM.trigger("emphasis")})}function Z(){H5(i,function(eM){eM.trigger("normal")})}}function c(PI,k,Z,WH){var i=PI.__pictorialBundle;var e=PI.__pictorialMainPath;if(!e){e=PI.__pictorialMainPath=ei(Z);i.add(e);Mg(e,{position:Z.pathPosition.slice(),scale:[0,0],rotation:Z.rotation},{scale:Z.symbolScale.slice()},Z,WH);e.on("mouseover",v).on("mouseout",XY)}else{Mg(e,null,{position:Z.pathPosition.slice(),scale:Z.symbolScale.slice(),rotation:Z.rotation},Z,WH)}Zn(e,Z);function v(){this.trigger("emphasis")}function XY(){this.trigger("normal")}}function Hl(i,k,v){var Z=V8({},k.barRectShape);var e=i.__pictorialBarRect;if(!e){e=i.__pictorialBarRect=new BI({z2:2,shape:Z,silent:true,style:{stroke:"transparent",fill:"transparent",lineWidth:0}});i.add(e)}else{Mg(e,null,{shape:Z},k,v)}}function R4(PI,e,Z,cc){if(Z.symbolClip){var Z2=PI.__pictorialClipPath;var k=V8({},Z.clipShape);var v=e.valueDim;var i=Z.animationModel;var WH=Z.dataIndex;if(Z2){Pr(Z2,{shape:k},i,WH)}else{k[v.wh]=0;Z2=new BI({shape:k});PI.__pictorialBundle.setClipPath(Z2);PI.__pictorialClipPath=Z2;var XY={};XY[v.wh]=Z.clipShape[v.wh];RZ[cc?"updateProps":"initProps"](Z2,{shape:XY},i,WH)}}}function dN(i,Z){var e=i.getItemModel(Z);e.getAnimationDelayParams=Mt;e.isAnimationEnabled=cH;return e}function Mt(Z){return{index:Z.__pictorialAnimationIndex,count:Z.__pictorialRepeatTimes}}function cH(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function Zn(i,Z){i.off("emphasis").off("normal");var e=Z.symbolScale.slice();Z.hoverAnimation&&i.on("emphasis",function(){this.animateTo({scale:[e[0]*1.1,e[1]*1.1]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:e.slice()},400,"elasticOut")})}function Ot(PI,e,k,v){var i=new TD();var Z=new TD();i.add(Z);i.__pictorialBundle=Z;Z.attr("position",k.bundlePosition.slice());if(k.symbolRepeat){Yi(i,e,k)}else{c(i,e,k)}Hl(i,k,v);R4(i,e,k,v);i.__pictorialShapeStr=Va(PI,k);i.__pictorialSymbolMeta=k;return i}function X7(i,e,k){var v=k.animationModel;var Z=k.dataIndex;var PI=i.__pictorialBundle;Pr(PI,{position:k.bundlePosition.slice()},v,Z);if(k.symbolRepeat){Yi(i,e,k,true)}else{c(i,e,k,true)}Hl(i,k,true);R4(i,e,k,true)}function VR(PI,Z,v,k){var i=k.__pictorialBarRect;i&&(i.style.text=null);var e=[];H5(k,function(WH){e.push(WH)});k.__pictorialMainPath&&e.push(k.__pictorialMainPath);k.__pictorialClipPath&&(v=null);Dc(e,function(WH){Pr(WH,{scale:[0,0]},v,Z,function(){k.parent&&k.parent.remove(k)})});PI.setItemGraphicEl(Z,null)}function Va(e,Z){return[e.getItemVisual(Z.dataIndex,"symbol")||"none",!!Z.symbolRepeat,!!Z.symbolClip].join(":")}function H5(i,Z,e){Dc(i.__pictorialBundle.children(),function(k){k!==i.__pictorialBarRect&&Z.call(e,k)})}function Mg(Z,v,i,k,PI,e){v&&Z.attr(v);if(k.symbolClip&&!PI){i&&Z.attr(i)}else{i&&RZ[PI?"updateProps":"initProps"](Z,i,k.animationModel,k.dataIndex,e)}}function Kd(cc,k,Z){var v=Z.color;var eF=Z.dataIndex;var e=Z.itemModel;var Z2=e.getModel("itemStyle.normal").getItemStyle(["color"]);var eG=e.getModel("itemStyle.emphasis").getItemStyle();var i=e.getShallow("cursor");H5(cc,function(eH){eH.setColor(v);eH.setStyle(Id({fill:v,opacity:Z.opacity},Z2));Ne(eH,eG);i&&(eH.cursor=i);eH.z2=Z.z2});var PI={};var WH=k.valueDim.posDesc[+(Z.boundingLength>0)];var XY=cc.__pictorialBarRect;aL(XY.style,PI,e,v,k.seriesModel,eF,WH);Ne(XY,PI)}function Un(Z){var e=Math.round(Z);return Math.abs(Z-e)<0.0001?e:Math.ceil(Z)}el(aT(Sx,"pictorialBar"));Ai(aT(Qz,"pictorialBar","roundRect",null));var Ye=function(i,k,e,v,Z){T1.call(this,i,k,e);this.type=v||"value";this.position=Z||"bottom";this.orient=null;this._labelInterval=null};Ye.prototype={constructor:Ye,model:null,isHorizontal:function(){var Z=this.position;return Z==="top"||Z==="bottom"},pointToData:function(Z,e){return this.coordinateSystem.pointToData(Z,e)[0]},toGlobalCoord:null,toLocalCoord:null};JO(Ye,T1);function GU(e,Z,i){this.dimension="single";this.dimensions=["single"];this._axis=null;this._rect;this._init(e,Z,i);this.model=e}GU.prototype={type:"singleAxis",axisPointerEnabled:true,constructor:GU,_init:function(i,e,v){var k=this.dimension;var PI=new Ye(k,Xz(i),[0,0],i.get("type"),i.get("position"));var Z=PI.type==="category";PI.onBand=Z&&i.get("boundaryGap");PI.inverse=i.get("inverse");PI.orient=i.get("orient");i.axis=PI;PI.model=i;PI.coordinateSystem=this;this._axis=PI},update:function(Z,e){Z.eachSeries(function(i){if(i.coordinateSystem===this){var v=i.getData();var k=this.dimension;this._axis.scale.unionExtentFromData(v,i.coordDimToDataDim(k));U0(this._axis.scale,this._axis.model)}},this)},resize:function(Z,e){this._rect=CC({left:Z.get("left"),top:Z.get("top"),right:Z.get("right"),bottom:Z.get("bottom"),width:Z.get("width"),height:Z.get("height")},{width:e.getWidth(),height:e.getHeight()});this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var e=this._rect;var v=this._axis;var Z=v.isHorizontal();var i=Z?[0,e.width]:[0,e.height];var k=v.reverse?1:0;v.setExtent(i[k],i[1-k]);this._updateAxisTransform(v,Z?e.x:e.y)},_updateAxisTransform:function(v,i){var Z=v.getExtent();var e=Z[0]+Z[1];var k=v.isHorizontal();v.toGlobalCoord=k?function(PI){return PI+i}:function(PI){return e-PI+i};v.toLocalCoord=k?function(PI){return PI-i}:function(PI){return e-PI+i}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(Z){var e=this.getRect();var k=this.getAxis();var i=k.orient;if(i==="horizontal"){return k.contain(k.toLocalCoord(Z[0]))&&(Z[1]>=e.y&&Z[1]<=(e.y+e.height))}else{return k.contain(k.toLocalCoord(Z[1]))&&(Z[0]>=e.y&&Z[0]<=(e.y+e.height))}},pointToData:function(Z){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(Z[e.orient==="horizontal"?0:1]))]},dataToPoint:function(k){var v=this.getAxis();var e=this.getRect();var Z=[];var i=v.orient==="horizontal"?0:1;if(k instanceof Array){k=k[0]}Z[i]=v.toGlobalCoord(v.dataToCoord(+k));Z[1-i]=i===0?(e.y+e.height/2):(e.x+e.width/2);return Z}};function OW(Z,i){var e=[];Z.eachComponent("singleAxis",function(k,PI){var v=new GU(k,Z,i);v.name="single_"+PI;v.resize(k,i);k.coordinateSystem=v;e.push(v)});Z.eachSeries(function(k){if(k.get("coordinateSystem")==="singleAxis"){var v=Z.queryComponents({mainType:"singleAxis",index:k.get("singleAxisIndex"),id:k.get("singleAxisId")})[0];k.coordinateSystem=v&&v.coordinateSystem}});return e}Ql.register("single",{create:OW,dimensions:GU.prototype.dimensions});function G7(PI,v){v=v||{};var eH=PI.coordinateSystem;var i=PI.axis;var Z2={};var Z=i.position;var cc=i.orient;var WH=eH.getRect();var eF=[WH.x,WH.x+WH.width,WH.y,WH.y+WH.height];var e={horizontal:{top:eF[2],bottom:eF[3]},vertical:{left:eF[0],right:eF[1]}};Z2.position=[cc==="vertical"?e.vertical[Z]:eF[0],cc==="horizontal"?e.horizontal[Z]:eF[3]];var k={horizontal:0,vertical:1};Z2.rotation=Math.PI/2*k[cc];var XY={top:-1,bottom:1,right:1,left:-1};Z2.labelDirection=Z2.tickDirection=Z2.nameDirection=XY[Z];if(PI.get("axisTick.inside")){Z2.tickDirection=-Z2.tickDirection}if(Ew(v.labelInside,PI.get("axisLabel.inside"))){Z2.labelDirection=-Z2.labelDirection}var eG=v.rotate;eG==null&&(eG=PI.get("axisLabel.rotate"));Z2.labelRotation=Z==="top"?-eG:eG;Z2.labelInterval=i.getLabelInterval();Z2.z2=1;return Z2}var RD=W8.getInterval;var SQ=W8.ifIgnoreOnTick;var B4=["axisLine","axisTickLabel","axisName"];var cy="splitLine";var I=Oe.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(i,e,PI,k){var Z=this.group;Z.removeAll();var v=G7(i);var WH=new W8(i,v);Dc(B4,WH.add,WH);Z.add(WH.getGroup());if(i.get(cy+".show")){this["_"+cy](i,v.labelInterval)}I.superCall(this,"render",i,e,PI,k)},_splitLine:function(cc,eN){var eO=cc.axis;if(eO.scale.isBlank()){return}var eJ=cc.getModel("splitLine");var eM=eJ.getModel("lineStyle");var eL=eM.get("width");var eF=eM.get("color");var eG=RD(eJ,eN);eF=eF instanceof Array?eF:[eF];var Z2=cc.coordinateSystem.getRect();var eH=eO.isHorizontal();var v=[];var eI=0;var e=eO.getTicksCoords();var eP=[];var k=[];var XY=cc.get("axisLabel.showMinLabel");var WH=cc.get("axisLabel.showMaxLabel");for(var PI=0;PI<e.length;++PI){if(SQ(eO,PI,eG,e.length,XY,WH)){continue}var Z=eO.toGlobalCoord(e[PI]);if(eH){eP[0]=Z;eP[1]=Z2.y;k[0]=Z;k[1]=Z2.y+Z2.height}else{eP[0]=Z2.x;eP[1]=Z;k[0]=Z2.x+Z2.width;k[1]=Z}var eK=(eI++)%eF.length;v[eK]=v[eK]||[];v[eK].push(new S7(Kg({shape:{x1:eP[0],y1:eP[1],x2:k[0],y2:k[1]},style:{lineWidth:eL},silent:true})))}for(var PI=0;PI<v.length;++PI){this.group.add(Hu(v[PI],{style:{stroke:eF[PI%eF.length],lineDash:eM.getLineDash(eL),lineWidth:eL},silent:true}))}}});var A=C8.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});var T8={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:true,lineStyle:{width:2,type:"solid"}},tooltip:{show:true},axisTick:{show:true,length:6,lineStyle:{width:2}},axisLabel:{show:true,interval:"auto"},splitLine:{show:true,lineStyle:{type:"dashed",opacity:0.2}}};function cX(e,Z){return Z.type||(Z.data?"category":"value")}KT(A.prototype,Lz);Pc("single",A,cX,T8);var Qm=function(Z,e){var Z2=[];var PI=Z.seriesIndex;var cc;if(PI==null||!(cc=e.getSeriesByIndex(PI))){return{point:[]}}var v=cc.getData();var XY=KQ(v,Z);if(XY==null||aO(XY)){return{point:[]}}var WH=v.getItemGraphicEl(XY);var i=cc.coordinateSystem;if(cc.getTooltipPosition){Z2=cc.getTooltipPosition(XY)||[]}else{if(i&&i.dataToPoint){Z2=i.dataToPoint(v.getValues(PK(i.dimensions,function(eF){return cc.coordDimToDataDim(eF)[0]}),XY,true))||[]}else{if(WH){var k=WH.getBoundingRect().clone();k.applyTransform(WH.transform);Z2=[k.x+k.width/2,k.y+k.height/2]}}}return{point:Z2,el:WH}};var Z7=Dc;var Td=aT;var QU=Os();var Cd=function(eK,k,Z2){var XY=eK.currTrigger;var e=[eK.x,eK.y];var Z=eK;var v=eK.dispatchAction||b3(Z2.dispatchAction,Z2);var PI=k.getComponent("axisPointer").coordSysAxesInfo;if(!PI){return}if(Pj(e)){e=Qm({seriesIndex:Z.seriesIndex,dataIndex:Z.dataIndex},k).point}var eL=Pj(e);var WH=Z.axesInfo;var eH=PI.axesInfo;var cc=XY==="leave"||Pj(e);var eF={};var eJ={};var i={list:[],map:{}};var eG={showPointer:Td(KZ,eJ),showTooltip:Td(Zx,i)};Z7(PI.coordSysMap,function(eM,eO){var eN=eL||eM.containPoint(e);Z7(PI.coordSysAxesInfo[eO],function(eQ,eP){var eT=eQ.axis;var eR=Uw(WH,eQ);if(!cc&&eN&&(!WH||eR)){var eS=eR&&eR.value;if(eS==null&&!eL){eS=eT.pointToData(e)}eS!=null&&RH(eQ,eS,eG,false,eF)}})});var eI={};Z7(eH,function(eN,eM){var eO=eN.linkGroup;if(eO&&!eJ[eM]){Z7(eO.axesInfo,function(eS,eQ){var eP=eJ[eQ];if(eS!==eN&&eP){var eR=eP.value;eO.mapper&&(eR=eN.axis.scale.parse(eO.mapper(eR,ZK(eS),ZK(eN))));eI[eN.key]=eR}})}});Z7(eI,function(eN,eM){RH(eH[eM],eN,eG,true,eF)});JV(eJ,eH,eF);j(i,e,eK,v);BN(eH,v,Z2);return eF};function RH(XY,i,e,Z2,WH){var Z=XY.axis;if(Z.scale.isBlank()||!Z.containData(i)){return}if(!XY.involveSeries){e.showPointer(XY,i);return}var PI=Q4(i,XY);var k=PI.payloadBatch;var v=PI.snapToValue;if(k[0]&&WH.seriesIndex==null){V8(WH,k[0])}if(!Z2&&XY.snap){if(Z.containData(v)&&v!=null){i=v}}e.showPointer(XY,i,k,WH);e.showTooltip(XY,PI,v)}function Q4(k,WH){var Z=WH.axis;var PI=Z.dim;var i=k;var e=[];var v=Number.MAX_VALUE;var XY=-1;Z7(WH.seriesModels,function(eJ,cc){var eK=eJ.coordDimToDataDim(PI);var eF;var eI;if(eJ.getAxisTooltipData){var Z2=eJ.getAxisTooltipData(eK,k,Z);eI=Z2.dataIndices;eF=Z2.nestestValue}else{eI=eJ.getData().indicesOfNearest(eK[0],k,false,Z.type==="category"?0.5:null);if(!eI.length){return}eF=eJ.getData().get(eK[0],eI[0])}if(eF==null||!isFinite(eF)){return}var eG=k-eF;var eH=Math.abs(eG);if(eH<=v){if(eH<v||(eG>=0&&XY<0)){v=eH;XY=eG;i=eF;e.length=0}Z7(eI,function(eL){e.push({seriesIndex:eJ.seriesIndex,dataIndexInside:eL,dataIndex:eJ.getData().getRawIndex(eL)})})}});return{payloadBatch:e,snapToValue:i}}function KZ(k,Z,i,e){k[Z.key]={value:i,payloadBatch:e}}function Zx(i,eF,v,PI){var k=v.payloadBatch;var Z=eF.axis;var Z2=Z.model;var e=eF.axisPointerModel;if(!eF.triggerTooltip||!k.length){return}var XY=eF.coordSys.model;var cc=GK(XY);var WH=i.map[cc];if(!WH){WH=i.map[cc]={coordSysId:XY.id,coordSysIndex:XY.componentIndex,coordSysType:XY.type,coordSysMainType:XY.mainType,dataByAxis:[]};i.list.push(WH)}WH.dataByAxis.push({axisDim:Z.dim,axisIndex:Z2.componentIndex,axisType:Z2.type,axisId:Z2.id,value:PI,valueLabelOpt:{precision:e.get("label.precision"),formatter:e.get("label.formatter")},seriesDataIndices:k.slice()})}function JV(i,Z,k){var e=k.axesInfo=[];Z7(Z,function(PI,v){var WH=PI.axisPointerModel.option;var XY=i[v];if(XY){!PI.useHandle&&(WH.status="show");WH.value=XY.value;WH.seriesDataIndices=(XY.payloadBatch||[]).slice()}else{!PI.useHandle&&(WH.status="hide")}WH.status==="show"&&e.push({axisDim:PI.axis.dim,axisIndex:PI.axis.model.componentIndex,value:WH.value})})}function j(i,e,k,v){if(Pj(e)||!i.list.length){v({type:"hideTip"});return}var Z=((i.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};v({type:"showTip",escapeConnect:true,x:e[0],y:e[1],tooltipOption:k.tooltipOption,position:k.position,dataIndexInside:Z.dataIndexInside,dataIndex:Z.dataIndex,seriesIndex:Z.seriesIndex,dataByCoordSys:i.list})}function BN(v,Z,Z2){var WH=Z2.getZr();var PI="axisPointerLastHighlights";var k=QU(WH)[PI]||{};var i=QU(WH)[PI]={};Z7(v,function(eF,cc){var eG=eF.axisPointerModel.option;eG.status==="show"&&Z7(eG.seriesDataIndices,function(eI){var eH=eI.seriesIndex+" | "+eI.dataIndex;i[eH]=eI})});var e=[];var XY=[];Dc(k,function(eF,cc){!i[cc]&&XY.push(eF)});Dc(i,function(eF,cc){!k[cc]&&e.push(eF)});XY.length&&Z2.dispatchAction({type:"downplay",escapeConnect:true,batch:XY});e.length&&Z2.dispatchAction({type:"highlight",escapeConnect:true,batch:e})}function Uw(Z,k){for(var e=0;e<(Z||[]).length;e++){var v=Z[e];if(k.axis.dim===v.axisDim&&k.axis.model.componentIndex===v.axisIndex){return v}}}function ZK(Z){var e=Z.axis.model;var i={};var k=i.axisDim=Z.axis.dim;i.axisIndex=i[k+"AxisIndex"]=e.componentIndex;i.axisName=i[k+"AxisName"]=e.name;i.axisId=i[k+"AxisId"]=e.id;return i}function Pj(Z){return !Z||Z[0]==null||isNaN(Z[0])||Z[1]==null||isNaN(Z[1])}var Px=GV({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:false,triggerTooltip:true,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:true,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:false,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});var QT=Os();var ZS=Dc;function WM(Z,v,i){if(PF.node){return}var e=v.getZr();QT(e).records||(QT(e).records={});D7(e,v);var k=QT(e).records[Z]||(QT(e).records[Z]={});k.handler=i}function D7(Z,e){if(QT(Z).initialized){return}QT(Z).initialized=true;i("click",aT(Ij,"click"));i("mousemove",aT(Ij,"mousemove"));i("globalout",DS);function i(v,k){Z.on(v,function(WH){var PI=Qj(e);ZS(QT(Z).records,function(XY){XY&&k(XY,WH,PI.dispatchAction)});DP(PI.pendings,e)})}}function DP(k,v){var i=k.showTip.length;var Z=k.hideTip.length;var e;if(i){e=k.showTip[i-1]}else{if(Z){e=k.hideTip[Z-1]}}if(e){e.dispatchAction=null;v.dispatchAction(e)}}function DS(i,Z,k){i.handler("leave",null,k)}function Ij(v,i,Z,k){i.handler(v,Z,k)}function Qj(i){var Z={showTip:[],hideTip:[]};var e=function(v){var k=Z[v.type];if(k){k.push(v)}else{v.dispatchAction=e;i.dispatchAction(v)}};return{dispatchAction:e,pendings:Z}}function Ie(Z,k){if(PF.node){return}var e=k.getZr();var i=(QT(e).records||{})[Z];if(i){QT(e).records[Z]=null}}var Ra=bX({type:"axisPointer",render:function(Z,i,v){var k=i.getComponent("tooltip");var e=Z.get("triggerOn")||(k&&k.get("triggerOn")||"mousemove|click");WM("axisPointer",v,function(XY,PI,WH){if(e!=="none"&&(XY==="leave"||e.indexOf(XY)>=0)){WH({type:"updateAxisPointer",currTrigger:XY,x:PI&&PI.offsetX,y:PI&&PI.offsetY})}})},remove:function(Z,e){Ie(e.getZr(),"axisPointer");Ra.superApply(this._model,"remove",arguments)},dispose:function(Z,e){Ie("axisPointer",e);Ra.superApply(this._model,"dispose",arguments)}});var QW=Os();var XN=dp;var Lx=b3;function K1(){}K1.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:false,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(i,e,cc,eF){var v=e.get("value");var Z2=e.get("status");this._axisModel=i;this._axisPointerModel=e;this._api=cc;if(!eF&&this._lastValue===v&&this._lastStatus===Z2){return}this._lastValue=v;this._lastStatus=Z2;var PI=this._group;var k=this._handle;if(!Z2||Z2==="hide"){PI&&PI.hide();k&&k.hide();return}PI&&PI.show();k&&k.show();var XY={};this.makeElOption(XY,v,i,e,cc);var WH=XY.graphicKey;if(WH!==this._lastGraphicKey){this.clear(cc)}this._lastGraphicKey=WH;var Z=this._moveAnimation=this.determineAnimation(i,e);if(!PI){PI=this._group=new TD();this.createPointerEl(PI,XY,i,e);this.createLabelEl(PI,XY,i,e);cc.getZr().add(PI)}else{var eG=aT(GD,e,Z);this.updatePointerEl(PI,XY,eG,e);this.updateLabelEl(PI,XY,eG,e)}Hb(PI,e,true);this._renderHandle(v)},remove:function(Z){this.clear(Z)},dispose:function(Z){this.clear(Z)},determineAnimation:function(v,k){var Z2=k.get("animation");var i=v.axis;var e=i.type==="category";var PI=k.get("snap");if(!PI&&!e){return false}if(Z2==="auto"||Z2==null){var XY=this.animationThreshold;if(e&&i.getBandWidth()>XY){return true}if(PI){var Z=A5(v).seriesDataCount;var WH=i.getExtent();return Math.abs(WH[0]-WH[1])/Z>XY}return false}return Z2===true},makeElOption:function(Z,k,e,i,v){},createPointerEl:function(e,Z,k,v){var i=Z.pointer;if(i){var PI=QW(e).pointerEl=new RZ[i.type](XN(Z.pointer));e.add(PI)}},createLabelEl:function(e,Z,i,k){if(Z.label){var v=QW(e).labelEl=new BI(XN(Z.label));e.add(v);DA(v,k)}},updatePointerEl:function(e,Z,i){var k=QW(e).pointerEl;if(k){k.setStyle(Z.pointer.style);i(k,{shape:Z.pointer.shape})}},updateLabelEl:function(e,Z,k,v){var i=QW(e).labelEl;if(i){i.setStyle(Z.label.style);k(i,{shape:Z.label.shape,position:Z.label.position});DA(i,v)}},_renderHandle:function(v){if(this._dragging||!this.updateHandleTransform){return}var e=this._axisPointerModel;var WH=this._api.getZr();var k=this._handle;var Z=e.getModel("handle");var XY=e.get("status");if(!Z.get("show")||!XY||XY==="hide"){k&&WH.remove(k);this._handle=null;return}var i;if(!this._handle){i=true;k=this._handle=Dp(Z.get("icon"),{cursor:"move",draggable:true,onmousemove:function(cc){Gj(cc.event)},onmousedown:Lx(this._onHandleDragMove,this,0,0),drift:Lx(this._onHandleDragMove,this),ondragend:Lx(this._onHandleDragEnd,this)});WH.add(k)}Hb(k,e,false);var Z2=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];k.setStyle(Z.getItemStyle(null,Z2));var PI=Z.get("size");if(!aO(PI)){PI=[PI,PI]}k.attr("scale",[PI[0]/2,PI[1]/2]);W3(this,"_doDispatchAxisPointer",Z.get("throttle")||0,"fixRate");this._moveHandleToValue(v,i)},_moveHandleToValue:function(Z,e){GD(this._axisPointerModel,!e&&this._moveAnimation,this._handle,MZ(this.getHandleTransform(Z,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(e,k){var Z=this._handle;if(!Z){return}this._dragging=true;var i=this.updateHandleTransform(MZ(Z),[e,k],this._axisModel,this._axisPointerModel);this._payloadInfo=i;Z.stopAnimation();Z.attr(MZ(i));QW(Z).lastProp=null;this._doDispatchAxisPointer()},_doDispatchAxisPointer:function(){var Z=this._handle;if(!Z){return}var i=this._payloadInfo;var e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:i.cursorPoint[0],y:i.cursorPoint[1],tooltipOption:i.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})},_onHandleDragEnd:function(Z){this._dragging=false;var e=this._handle;if(!e){return}var i=this._axisPointerModel.get("value");this._moveHandleToValue(i);this._api.dispatchAction({type:"hideTip"})},getHandleTransform:null,updateHandleTransform:null,clear:function(k){this._lastValue=null;this._lastStatus=null;var e=k.getZr();var i=this._group;var Z=this._handle;if(e&&i){this._lastGraphicKey=null;i&&e.remove(i);Z&&e.remove(Z);this._group=null;this._handle=null;this._payloadInfo=null}},doClear:function(){},buildLabel:function(Z,i,e){e=e||0;return{x:Z[e],y:Z[1-e],width:i[e],height:i[1-e]}}};K1.prototype.constructor=K1;function GD(k,Z,e,i){if(!T(QW(e).lastProp,i)){QW(e).lastProp=i;Z?Pr(e,i,k):(e.stopAnimation(),e.attr(i))}}function T(Z,e){if(Q(Z)&&Q(e)){var i=true;Dc(e,function(v,k){i=i&&T(Z[k],v)});return !!i}else{return Z===e}}function DA(Z,e){Z[e.get("label.show")?"show":"hide"]()}function MZ(Z){return{position:Z.position.slice(),rotation:Z.rotation||0}}function Hb(Z,i,v){var e=i.get("z");var k=i.get("zlevel");Z&&Z.traverse(function(PI){if(PI.type!=="group"){e!=null&&(PI.z=e);k!=null&&(PI.zlevel=k);PI.silent=v}})}AR(K1);function ek(e){var Z=e.get("type");var i=e.getModel(Z+"Style");var k;if(Z==="line"){k=i.getLineStyle();k.fill=null}else{if(Z==="shadow"){k=i.getAreaStyle();k.stroke=null}}return k}function aH(v,Z2,eI,XY,i){var eJ=eI.get("value");var Z=IY(eJ,Z2.axis,Z2.ecModel,eI.get("seriesDataIndices"),{precision:eI.get("label.precision"),formatter:eI.get("label.formatter")});var e=eI.getModel("label");var eF=Q3(e.get("padding")||0);var PI=e.getFont();var eL=Hv(Z,PI);var eH=i.position;var cc=eL.width+eF[1]+eF[3];var eK=eL.height+eF[0]+eF[2];var k=i.align;k==="right"&&(eH[0]-=cc);k==="center"&&(eH[0]-=cc/2);var eG=i.verticalAlign;eG==="bottom"&&(eH[1]-=eK);eG==="middle"&&(eH[1]-=eK/2);Jx(eH,cc,eK,XY);var WH=e.get("backgroundColor");if(!WH||WH==="auto"){WH=Z2.get("axisLine.lineStyle.color")}v.label={shape:{x:0,y:0,width:cc,height:eK,r:e.get("borderRadius")},position:eH.slice(),style:{text:Z,textFont:PI,textFill:e.getTextColor(),textPosition:"inside",fill:WH,stroke:e.get("borderColor")||"transparent",lineWidth:e.get("borderWidth")||0,shadowBlur:e.get("shadowBlur"),shadowColor:e.get("shadowColor"),shadowOffsetX:e.get("shadowOffsetX"),shadowOffsetY:e.get("shadowOffsetY")},z2:10}}function Jx(k,v,e,PI){var i=PI.getWidth();var Z=PI.getHeight();k[0]=Math.min(k[0]+v,i)-v;k[1]=Math.min(k[1]+e,Z)-e;k[0]=Math.max(k[0],0);k[1]=Math.max(k[1],0)}function IY(i,Z,XY,WH,e){var PI=Z.scale.getLabel(i,{precision:e.precision});var k=e.formatter;if(k){var v={value:AP(Z,i),seriesData:[]};Dc(WH,function(eF){var eG=XY.getSeriesByIndex(eF.seriesIndex);var cc=eF.dataIndexInside;var Z2=eG&&eG.getDataParams(cc);Z2&&v.seriesData.push(Z2)});if(DY(k)){PI=k.replace("{value}",PI)}else{if(dU(k)){PI=k(v)}}}return PI}function Tl(k,i,Z){var e=Hx();cF(e,e,Z.rotation);Xo(e,e,Z.position);return Bg([k.dataToCoord(i),(Z.labelOffset||0)+(Z.labelDirection||1)*(Z.labelMargin||0)],e)}function AF(v,Z,WH,e,i,PI){var k=W8.innerTextLayout(WH.rotation,0,WH.labelDirection);WH.labelMargin=i.get("label.margin");aH(Z,e,i,PI,{position:Tl(e.axis,v,WH),align:k.textAlign,verticalAlign:k.textVerticalAlign})}function dX(e,i,Z){Z=Z||0;return{x1:e[Z],y1:e[1-Z],x2:i[Z],y2:i[1-Z]}}function Vm(Z,i,e){e=e||0;return{x:Z[e],y:Z[1-e],width:i[e],height:i[1-e]}}function UV(PI,Z,v,e,k,i){return{cx:PI,cy:Z,r0:v,r:e,startAngle:k,endAngle:i,clockwise:true}}var cR=K1.extend({makeElOption:function(eH,WH,v,k,eF){var i=v.axis;var eG=i.grid;var e=k.get("type");var cc=XR(eG,i).getOtherAxis(i).getGlobalExtent();var Z2=i.toGlobalCoord(i.dataToCoord(WH,true));if(e&&e!=="none"){var Z=ek(k);var PI=Vz[e](i,Z2,cc,Z);PI.style=Z;eH.graphicKey=PI.type;eH.pointer=PI}var XY=Iw(eG.model,v);AF(WH,eH,XY,v,k,eF)},getHandleTransform:function(i,Z,e){var k=Iw(Z.axis.grid.model,Z,{labelInside:false});k.labelMargin=e.get("handle.margin");return{position:Tl(Z.axis,i,k),rotation:k.rotation+(k.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(XY,eF,k,i){var e=k.axis;var eG=e.grid;var Z2=e.getGlobalExtent(true);var cc=XR(eG,e).getOtherAxis(e).getGlobalExtent();var v=e.dim==="x"?0:1;var Z=XY.position;Z[v]+=eF[v];Z[v]=Math.min(Z2[1],Z[v]);Z[v]=Math.max(Z2[0],Z[v]);var PI=(cc[1]+cc[0])/2;var eH=[PI,PI];eH[v]=Z[v];var WH=[{verticalAlign:"middle"},{align:"center"}];return{position:Z,rotation:XY.rotation,cursorPoint:eH,tooltipOption:WH[v]}}});function XR(i,e){var Z={};Z[e.dim+"AxisIndex"]=e.index;return i.getCartesian(Z)}var Vz={line:function(v,i,e,Z){var k=dX([i,e[0]],[i,e[1]],JF(v));Kg({shape:k,style:Z});return{type:"Line",shape:k}},shadow:function(PI,k,i,e){var v=PI.getBandWidth();var Z=i[1]-i[0];return{type:"Rect",shape:Vm([k-v/2,i[0]],[v,Z],JF(PI))}}};function JF(Z){return Z.dim==="x"?0:1}Oe.registerAxisPointerClass("CartesianAxisPointer",cR);IL(function(Z){if(Z){(!Z.axisPointer||Z.axisPointer.length===0)&&(Z.axisPointer={});var e=Z.axisPointer.link;if(e&&!aO(e)){Z.axisPointer.link=[e]}}});bI(cu.PROCESSOR.STATISTIC,function(Z,e){Z.getComponent("axisPointer").coordSysAxesInfo=Uh(Z,e)});R0({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Cd);var eg=["x","y"];var Ho=["width","height"];var KW=K1.extend({makeElOption:function(eH,WH,v,k,eG){var i=v.axis;var eF=i.coordinateSystem;var cc=Qy(eF,1-ak(i));var Z2=eF.dataToPoint(WH)[0];var e=k.get("type");if(e&&e!=="none"){var Z=ek(k);var PI=Uc[e](i,Z2,cc,Z);PI.style=Z;eH.graphicKey=PI.type;eH.pointer=PI}var XY=G7(v);AF(WH,eH,XY,v,k,eG)},getHandleTransform:function(i,Z,e){var k=G7(Z,{labelInside:false});k.labelMargin=e.get("handle.margin");return{position:Tl(Z.axis,i,k),rotation:k.rotation+(k.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(PI,cc,k,i){var e=k.axis;var eF=e.coordinateSystem;var Z2=ak(e);var XY=Qy(eF,Z2);var Z=PI.position;Z[Z2]+=cc[Z2];Z[Z2]=Math.min(XY[1],Z[Z2]);Z[Z2]=Math.max(XY[0],Z[Z2]);var WH=Qy(eF,1-Z2);var v=(WH[1]+WH[0])/2;var eG=[v,v];eG[Z2]=Z[Z2];return{position:Z,rotation:PI.rotation,cursorPoint:eG,tooltipOption:{verticalAlign:"middle"}}}});var Uc={line:function(v,i,e,Z){var k=dX([i,e[0]],[i,e[1]],ak(v));Kg({shape:k,style:Z});return{type:"Line",shape:k}},shadow:function(PI,k,i,e){var v=PI.getBandWidth();var Z=i[1]-i[0];return{type:"Rect",shape:Vm([k-v/2,i[0]],[v,Z],ak(PI))}}};function ak(Z){return Z.isHorizontal()?0:1}function Qy(e,Z){var i=e.getRect();return[i[eg[Z]],i[eg[Z]]+i[Ho[Z]]]}Oe.registerAxisPointerClass("SingleAxisPointer",KW);bX({type:"single"});var di=2;var X9=RY.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(Z){X9.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()}},fixData:function(eL){var eG=eL.length;var cc=N7().key(function(i){return i[2]}).entries(eL);var eI=PK(cc,function(i){return{name:i.key,dataList:i.values}});var eF=eI.length;var eJ=-1;var PI=-1;for(var Z2=0;Z2<eF;++Z2){var e=eI[Z2].dataList.length;if(e>eJ){eJ=e;PI=Z2}}for(var XY=0;XY<eF;++XY){if(XY===PI){continue}var eK=eI[XY].name;for(var WH=0;WH<eJ;++WH){var v=eI[PI].dataList[WH][0];var Z=eI[XY].dataList.length;var eH=-1;for(var eN=0;eN<Z;++eN){var eM=eI[XY].dataList[eN][0];if(eM===v){eH=eN;break}}if(eH===-1){eL[eG]=[];eL[eG][0]=v;eL[eG][1]=0;eL[eG][2]=eK;eG++}}}return eL},getInitialData:function(eG,eF){var Z=[];var PI=eF.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0];var e=PI.get("type");Z=[{name:"time",type:e==="category"?"ordinal":e==="time"?"time":"float"},{name:"value",type:"float"},{name:"name",type:"ordinal"}];var XY=Zs(eG.data,function(i){return i[2]!==undefined});var v=this.fixData(XY||[]);var WH=[];var cc=this.nameMap=EY();var k=0;for(var Z2=0;Z2<v.length;++Z2){WH.push(v[Z2][di]);if(!cc.get(v[Z2][di])){cc.set(v[Z2][di],k);k++}}Z=B(Z,v);var eH=new Lu(Z,this);eH.initData(v,WH);return eH},coordDimToDataDim:function(Z){return["time"]},getLayerSeries:function(){var e=this.getData();var XY=e.count();var PI=[];for(var v=0;v<XY;++v){PI[v]=v}var WH=N7().key(function(i){return e.get("name",i)}).entries(PI);var Z2=PK(WH,function(i){return{name:i.key,indices:i.values}});for(var k=0;k<Z2.length;++k){Z2[k].indices.sort(Z)}function Z(cc,i){return e.get("time",cc)-e.get("time",i)}return Z2},getAxisTooltipData:function(XY,PI,eI){if(!aO(XY)){XY=XY?[XY]:[]}var v=this.getData();var eK=this.getLayerSeries();var Z2=[];var k=eK.length;var eH;for(var eF=0;eF<k;++eF){var cc=Number.MAX_VALUE;var Z=-1;var eJ=eK[eF].indices.length;for(var WH=0;WH<eJ;++WH){var e=v.get(XY[0],eK[eF].indices[WH]);var eG=Math.abs(e-PI);if(eG<=cc){eH=e;cc=eG;Z=eK[eF].indices[WH]}}Z2.push(Z)}return{dataIndices:Z2,nestestValue:eH}},formatTooltip:function(Z){var k=this.getData();var e=k.get("name",Z);var i=k.get("value",Z);if(isNaN(i)||i==null){i="-"}return Pp(e+" : "+i)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{normal:{margin:4,textAlign:"right",show:true,position:"left",color:"#000",fontSize:11},emphasis:{show:true}}}});WQ({type:"themeRiver",init:function(){this._layers=[]},render:function(eH,Z,cc){var k=eH.getData();var WH=this.group;var eG=eH.getLayerSeries();var PI=k.getLayout("layoutInfo");var i=PI.rect;var Z2=PI.boundaryGap;WH.attr("position",[0,i.y+Z2[0]]);function v(eI){return eI.name}var e=new U6(this._layersSeries||[],eG,v,v);var XY={};e.add(b3(eF,this,"add")).update(b3(eF,this,"update")).remove(b3(eF,this,"remove")).execute();function eF(eX,e2,eN){var eP=this._layers;if(eX==="remove"){WH.remove(eP[e2]);return}var eU=[];var eT=[];var eJ;var eZ=eG[e2].indices;for(var eK=0;eK<eZ.length;eK++){var eR=k.getItemLayout(eZ[eK]);var e0=eR.x;var eO=eR.y0;var e1=eR.y;eU.push([e0,eO]);eT.push([e0,eO+e1]);eJ=k.getItemVisual(eZ[eK],"color")}var eM;var eS;var eW=k.getItemLayout(eZ[0]);var eL=k.getItemModel(eZ[eK-1]);var eI=eL.getModel("label.normal");var eQ=eI.get("margin");if(eX==="add"){var eY=XY[e2]=new TD();eM=new Vc({shape:{points:eU,stackedOnPoints:eT,smooth:0.4,stackedOnSmooth:0.4,smoothConstraint:false},z2:0});eS=new FA({style:{x:eW.x-eQ,y:eW.y0+eW.y/2}});eY.add(eM);eY.add(eS);WH.add(eY);eM.setClipPath(St(eM.getBoundingRect(),eH,function(){eM.removeClipPath()}))}else{var eY=eP[eN];eM=eY.childAt(0);eS=eY.childAt(1);WH.add(eY);XY[e2]=eY;Pr(eM,{shape:{points:eU,stackedOnPoints:eT}},eH);Pr(eS,{style:{x:eW.x-eQ,y:eW.y0+eW.y/2}},eH)}var eV=eL.getModel("itemStyle.emphasis");var e3=eL.getModel("itemStyle.normal");Dw(eS.style,eI,{text:eI.get("show")?eH.getFormattedLabel(eZ[eK-1],"normal")||k.getName(eZ[eK-1]):null,textVerticalAlign:"middle"});eM.setStyle(V8({fill:eJ},e3.getItemStyle(["color"])));Ne(eM,eV.getItemStyle())}this._layersSeries=eG;this._layers=XY},dispose:function(){}});function St(i,e,Z){var k=new BI({shape:{x:i.x-10,y:i.y-10,width:0,height:i.height+20}});b0(k,{shape:{width:i.width+20,height:i.height+20}},e,Z);return k}var Oa=function(Z,e){Z.eachSeriesByType("themeRiver",function(eF){var PI=eF.getData();var cc=eF.coordinateSystem;var WH={};var v=cc.getRect();WH.rect=v;var Z2=eF.get("boundaryGap");var i=cc.getAxis();WH.boundaryGap=Z2;if(i.orient==="horizontal"){Z2[0]=OC(Z2[0],v.height);Z2[1]=OC(Z2[1],v.height);var k=v.height-Z2[0]-Z2[1];KE(PI,eF,k)}else{Z2[0]=OC(Z2[0],v.width);Z2[1]=OC(Z2[1],v.width);var XY=v.width-Z2[0]-Z2[1];KE(PI,eF,XY)}PI.setLayout("layoutInfo",WH)})};function KE(PI,eJ,v){if(!PI.count()){return}var eH=eJ.coordinateSystem;var eI=eJ.getLayerSeries();var k=PK(eI,function(i){return PK(i.indices,function(eL){var eK=eH.dataToPoint(PI.get("time",eL));eK[1]=PI.get("value",eL);return eK})});var eG=Dd(k);var Z2=eG.y0;var Z=v/eG.max;var cc=eI.length;var e=eI[0].indices.length;var eF;for(var WH=0;WH<e;++WH){eF=Z2[WH]*Z;PI.setItemLayout(eI[0].indices[WH],{layerIndex:0,x:k[0][WH][0],y0:eF,y:k[0][WH][1]*Z});for(var XY=1;XY<cc;++XY){eF+=k[XY-1][WH][1]*Z;PI.setItemLayout(eI[XY].indices[WH],{layerIndex:XY,x:k[XY][WH][0],y0:eF,y:k[XY][WH][1]*Z})}}}function Dd(PI){var v=PI.length;var eI=PI[0].length;var e=[];var WH=[];var eJ=0;var cc;var eG={};for(var eF=0;eF<eI;++eF){for(var eH=0,cc=0;eH<v;++eH){cc+=PI[eH][eF][1]}if(cc>eJ){eJ=cc}e.push(cc)}for(var XY=0;XY<eI;++XY){WH[XY]=(eJ-e[XY])/2}eJ=0;for(var Z=0;Z<eI;++Z){var Z2=e[Z]+WH[Z];if(Z2>eJ){eJ=Z2}}eG.y0=WH;eG.max=eJ;return eG}var IX=function(Z){Z.eachSeriesByType("themeRiver",function(e){var PI=e.getData();var v=e.getRawData();var i=e.get("color");var k=EY();PI.each(function(WH){k.set(PI.getRawIndex(WH),WH)});v.each(function(WH){var XY=v.getName(WH);var cc=i[(e.nameMap.get(XY)-1)%i.length];v.setItemVisual(WH,"color",cc);var Z2=k.get(WH);if(Z2!=null){PI.setItemVisual(Z2,"color",cc)}})})};el(Oa);Ai(IX);bI(aT(En,"themeRiver"));function Da(Z,e){e=e||[0,0];return PK(["x","y"],function(k,WH){var PI=this.getAxis(k);var v=e[WH];var i=Z[WH]/2;return PI.type==="category"?PI.getBandWidth():Math.abs(PI.dataToCoord(v-i)-PI.dataToCoord(v+i))},this)}var ED=function(Z){var e=Z.grid.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:b3(Z.dataToPoint,Z),size:b3(Da,Z)}}};function X(Z,e){e=e||[0,0];return PK([0,1],function(v){var PI=e[v];var WH=Z[v]/2;var k=[];var i=[];k[v]=PI-WH;i[v]=PI+WH;k[1-v]=i[1-v]=e[1-v];return Math.abs(this.dataToPoint(k)[v]-this.dataToPoint(i)[v])},this)}var X4=function(Z){var e=Z.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:b3(Z.dataToPoint,Z),size:b3(X,Z)}}};function U(Z,e){var v=this.getAxis();var i=e instanceof Array?e[0]:e;var k=(Z instanceof Array?Z[0]:Z)/2;return v.type==="category"?v.getBandWidth():Math.abs(v.dataToCoord(i-k)-v.dataToCoord(i+k))}var Fa=function(Z){var e=Z.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:b3(Z.dataToPoint,Z),size:b3(U,Z)}}};function V(Z,e){return PK(["Radius","Angle"],function(PI,Z2){var XY=this["get"+PI+"Axis"]();var WH=e[Z2];var i=Z[Z2]/2;var v="dataTo"+PI;var k=XY.type==="category"?XY.getBandWidth():Math.abs(XY[v](WH-i)-XY[v](WH+i));if(PI==="Angle"){k=k*Math.PI/180}return k},this)}var Zv=function(e){var Z=e.getRadiusAxis();var k=e.getAngleAxis();var i=Z.getExtent();i[0]>i[1]&&i.reverse();return{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:i[1],r0:i[0]},api:{coord:b3(function(XY){var PI=Z.dataToRadius(XY[0]);var v=k.dataToAngle(XY[1]);var WH=e.coordToPoint([PI,v]);WH.push(PI,v*Math.PI/180);return WH}),size:b3(V,e)}}};var BV=function(Z){var e=Z.getRect();var i=Z.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:Z.getCellWidth(),cellHeight:Z.getCellHeight(),rangeInfo:{start:i.start,end:i.end,weeks:i.weeks,dayCount:i.allDay}},api:{coord:b3(Z.dataToPoint,Z)}}};var Do=["itemStyle","normal"];var AW=["itemStyle","emphasis"];var Ea=["label","normal"];var am=["label","emphasis"];var aj="e\0\0";var Ar={cartesian2d:ED,geo:X4,singleAxis:Fa,polar:Zv,calendar:BV};Q6({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:true},getInitialData:function(Z,e){return Um(Z.data,this,e)}});WQ({type:"custom",_data:null,render:function(i,e,PI){var Z=this._data;var WH=i.getData();var v=this.group;var k=Ph(i,WH,e,PI);WH.diff(Z).add(function(XY){WH.hasValue(XY)&&Ds(null,XY,k(XY),i,v,WH)}).update(function(Z2,cc){var XY=Z.getItemGraphicEl(cc);WH.hasValue(Z2)?Ds(XY,Z2,k(Z2),i,v,WH):(XY&&v.remove(XY))}).remove(function(Z2){var XY=Z.getItemGraphicEl(Z2);XY&&v.remove(XY)}).execute();this._data=WH},dispose:ed});function IQ(Z){var e=Z.type;var i;if(e==="path"){var v=Z.shape;i=IW(v.pathData,null,{x:v.x||0,y:v.y||0,width:v.width||0,height:v.height||0},"center");i.__customPathData=Z.pathData}else{if(e==="image"){i=new G4({});i.__customImagePath=Z.style.image}else{if(e==="text"){i=new FA({});i.__customText=Z.style.text}else{var k=RZ[e.charAt(0).toUpperCase()+e.slice(1)];if(Vo){Re(k,'graphic type "'+e+'" can not be found.')}i=new k()}}}i.__customGraphicType=e;i.name=Z.name;return i}function J7(v,WH,cc,k,i,e){var PI={};var Z2=cc.style||{};cc.shape&&(PI.shape=dp(cc.shape));cc.position&&(PI.position=cc.position.slice());cc.scale&&(PI.scale=cc.scale.slice());cc.origin&&(PI.origin=cc.origin.slice());cc.rotation&&(PI.rotation=cc.rotation);if(v.type==="image"&&cc.style){var Z=PI.style={};Dc(["x","y","width","height"],function(eF){aC(eF,Z,Z2,v.style,e)})}if(v.type==="text"&&cc.style){var Z=PI.style={};Dc(["x","y"],function(eF){aC(eF,Z,Z2,v.style,e)});!Z2.hasOwnProperty("textFill")&&Z2.fill&&(Z2.textFill=Z2.fill);!Z2.hasOwnProperty("textStroke")&&Z2.stroke&&(Z2.textStroke=Z2.stroke)}if(v.type!=="group"){v.useStyle(Z2);if(e){v.style.opacity=0;var XY=Z2.opacity;XY==null&&(XY=1);b0(v,{style:{opacity:XY}},k,WH)}}if(e){v.attr(PI)}else{Pr(v,PI,k,WH)}v.attr({z2:cc.z2||0,silent:cc.silent});cc.styleEmphasis!==false&&Ne(v,cc.styleEmphasis)}function aC(i,v,k,e,Z){if(k[i]!=null&&!Z){v[i]=k[i];k[i]=e[i]}}function Ph(eF,eN,i,cc){var eL=eF.get("renderItem");var eG=eF.coordinateSystem;var eO={};if(eG){if(Vo){Re(eL,"series.render is required.");Re(eG.prepareCustoms||Ar[eG.type],"This coordSys does not support custom series.")}eO=eG.prepareCustoms?eG.prepareCustoms():Ar[eG.type](eG)}var eH=Id({getWidth:cc.getWidth,getHeight:cc.getHeight,getZr:cc.getZr,getDevicePixelRatio:cc.getDevicePixelRatio,value:eP,style:Z2,styleEmphasis:PI,visual:v,barLayout:eK,currentSeriesIndices:WH,font:XY},eO.api||{});var eJ={context:{},seriesId:eF.id,seriesName:eF.name,seriesIndex:eF.seriesIndex,coordSys:eO.coordSys,dataInsideLength:eN.count(),encode:P3(eF.getData())};var eS;var e=true;var k;var eR;var eM;var Z;var eQ;return function(eT){eS=eT;e=true;return eL&&eL(Id({dataIndexInside:eT,dataIndex:eN.getRawIndex(eT)},eJ),eH)||{}};function eI(eT){eT==null&&(eT=eS);if(e){k=eN.getItemModel(eT);eR=k.getModel(Ea);eM=k.getModel(am);Z=To(eN);eQ=eN.getItemVisual(eT,"color");e=false}}function eP(eT,eU){eU==null&&(eU=eS);return eN.get(eN.getDimension(eT||0),eU)}function Z2(eU,eW){eW==null&&(eW=eS);eI(eW);var eV=k.getModel(Do).getItemStyle();eQ!=null&&(eV.fill=eQ);var eT=eN.getItemVisual(eW,"opacity");eT!=null&&(eV.opacity=eT);if(Z!=null){Dw(eV,eR,null,{autoColor:eQ,isRectText:true});eV.text=eR.getShallow("show")?TR(eF.getFormattedLabel(eW,"normal"),eN.get(Z,eW)):null}eU&&V8(eV,eU);return eV}function PI(eT,eV){eV==null&&(eV=eS);eI(eV);var eU=k.getModel(AW).getItemStyle();if(Z!=null){Dw(eU,eM,null,{isRectText:true},true);eU.text=eM.getShallow("show")?TQ(eF.getFormattedLabel(eV,"emphasis"),eF.getFormattedLabel(eV,"normal"),eN.get(Z,eV)):null}eT&&V8(eU,eT);return eU}function v(eT,eU){eU==null&&(eU=eS);return eN.getItemVisual(eU,eT)}function eK(eT){if(eG.getBaseAxis){var eU=eG.getBaseAxis();return Sx.getLayoutOnAxis(Id({axis:eU},eT),cc)}}function WH(){return i.getCurrentSeriesIndices()}function XY(eT){return Az(eT,i)}}function P3(e){var Z={};Dc(e.dimensions,function(v,k){var WH=e.getDimensionInfo(v);if(!WH.isExtraCoord){var PI=WH.coordDim;var i=Z[PI]=Z[PI]||[];i[WH.coordDimIndex]=k}});return Z}function Ds(Z,e,i,PI,v,k){Z=Bz(Z,e,i,PI,v,k);Z&&k.setItemGraphicEl(e,Z)}function Bz(PI,XY,eF,v,WH,i){var Z2=eF.type;if(PI&&Z2!==PI.__customGraphicType&&(Z2!=="path"||eF.pathData!==PI.__customPathData)&&(Z2!=="image"||eF.style.image!==PI.__customImagePath)&&(Z2!=="text"||eF.style.text!==PI.__customText)){WH.remove(PI);PI=null}if(Z2==null){return}var e=!PI;!PI&&(PI=IQ(eF));J7(PI,XY,eF,v,i,e);if(Z2==="group"){var Z=PI.children()||[];var k=eF.children||[];if(eF.diffChildrenByName){Nb({oldChildren:Z,newChildren:k,dataIndex:XY,animatableModel:v,group:PI,data:i})}else{var cc=0;for(;cc<k.length;cc++){Bz(PI.childAt(cc),XY,k[cc],v,PI,i)}for(;cc<Z.length;cc++){Z[cc]&&PI.remove(Z[cc])}}}WH.add(PI);return PI}function Nb(Z){(new U6(Z.oldChildren,Z.newChildren,GG,GG,Z)).add(CI).update(CI).remove(UY).execute()}function GG(Z,i){var e=Z&&Z.name;return e!=null?e:aj+i}function CI(v,i){var e=this.context;var k=v!=null?e.newChildren[v]:null;var Z=i!=null?e.oldChildren[i]:null;Bz(Z,e.dataIndex,k,e.animatableModel,e.group,e.data)}function UY(i){var e=this.context;var Z=e.oldChildren[i];Z&&e.group.remove(Z)}IL(function(Z){var e=Z.graphic;if(aO(e)){if(!e[0]||!e[0].elements){Z.graphic=[{elements:e}]}else{Z.graphic=[Z.graphic[0]]}}else{if(e&&!e.elements){Z.graphic=[{elements:[e]}]}}});var B2=GV({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(Z){var e=this.option.elements;this.option.elements=null;B2.superApply(this,"mergeOption",arguments);this.option.elements=e},optionUpdated:function(Z,k){var Z2=this.option;var WH=(k?Z2:Z).elements;var XY=Z2.elements=k?[]:Z2.elements;var cc=[];this._flatten(WH,cc);var v=Du(XY,cc);dm(v);var e=this._elOptionsToUpdate=[];Dc(v,function(eG,eF){var i=eG.option;if(Vo){Re(Q(i)||eG.exist,"Empty graphic option definition")}if(!i){return}e.push(i);C0(eG,i);Yl(XY,eF,i);al(XY[eF],i)},this);for(var PI=XY.length-1;PI>=0;PI--){if(XY[PI]==null){XY.splice(PI,1)}else{delete XY[PI].$action}}},_flatten:function(e,Z,i){Dc(e,function(k){if(!k){return}if(i){k.parentOption=i}Z.push(k);var v=k.children;if(k.type==="group"&&v){this._flatten(v,Z,k)}delete k.children},this)},useElOptionsToUpdate:function(){var Z=this._elOptionsToUpdate;this._elOptionsToUpdate=null;return Z}});bX({type:"graphic",init:function(Z,e){this._elMap=EY();this._lastGraphicModel},render:function(e,Z,i){if(e!==this._lastGraphicModel){this._clear()}this._lastGraphicModel=e;this._updateElements(e,i);this._relocate(e,i)},_updateElements:function(e,k){var v=e.useElOptionsToUpdate();if(!v){return}var i=this._elMap;var Z=this.group;Dc(v,function(eF){var WH=eF.$action;var cc=eF.id;var eH=i.get(cc);var Z2=eF.parentId;var XY=Z2!=null?i.get(Z2):Z;if(eF.type==="text"){var eG=eF.style;if(eF.hv&&eF.hv[1]){eG.textVerticalAlign=eG.textBaseline=null}!eG.hasOwnProperty("textFill")&&eG.fill&&(eG.textFill=eG.fill);!eG.hasOwnProperty("textStroke")&&eG.stroke&&(eG.textStroke=eG.stroke)}var eI=JE(eF);if(Vo){eH&&Re(XY===eH.parent,"Changing parent is not supported.")}if(!WH||WH==="merge"){eH?eH.attr(eI):Zm(cc,XY,eI,i)}else{if(WH==="replace"){TO(eH,i);Zm(cc,XY,eI,i)}else{if(WH==="remove"){TO(eH,i)}}}var PI=i.get(cc);if(PI){PI.__ecGraphicWidth=eF.width;PI.__ecGraphicHeight=eF.height}})},_relocate:function(Z,cc){var XY=Z.option.elements;var e=this.group;var Z2=this._elMap;for(var v=XY.length-1;v>=0;v--){var eF=XY[v];var k=Z2.get(eF.id);if(!k){continue}var PI=k.parent;var WH=PI===e?{width:cc.getWidth(),height:cc.getHeight()}:{width:PI.__ecGraphicWidth||0,height:PI.__ecGraphicHeight||0};VJ(k,eF,WH,null,{hv:eF.hv,boundingMode:eF.bounding})}},_clear:function(){var Z=this._elMap;Z.each(function(e){TO(e,Z)});this._elMap=EY()},dispose:function(){this._clear()}});function Zm(WH,Z,i,v){var e=i.type;if(Vo){Re(e,"graphic type MUST be set")}var k=RZ[e.charAt(0).toUpperCase()+e.slice(1)];if(Vo){Re(k,"graphic type can not be found")}var PI=new k(i);Z.add(PI);v.set(WH,PI);PI.__ecGraphicId=WH}function TO(i,e){var Z=i&&i.parent;if(Z){i.type==="group"&&i.traverse(function(k){TO(k,e)});e.removeKey(i.__ecGraphicId);Z.remove(i)}}function JE(Z){Z=V8({},Z);Dc(["id","parentId","$action","hv","bounding"].concat(Al),function(e){delete Z[e]});return Z}function ZO(Z,i){var e;Dc(i,function(k){Z[k]!=null&&Z[k]!=="auto"&&(e=true)});return e}function C0(i,e){var k=i.exist;e.id=i.keyInfo.id;!e.type&&k&&(e.type=k.type);if(e.parentId==null){var Z=e.parentOption;if(Z){e.parentId=Z.id}else{if(k){e.parentId=k.parentId}}}e.parentOption=null}function Yl(k,v,i){var Z=V8({},i);var WH=k[v];var e=i.$action||"merge";if(e==="merge"){if(WH){if(Vo){var PI=i.type;Re(!PI||WH.type===PI,'Please set $action: "replace" to change `type`')}KT(WH,Z,true);aW(WH,Z,{ignoreSize:true});R6(i,WH)}else{k[v]=Z}}else{if(e==="replace"){k[v]=Z}else{if(e==="remove"){WH&&(k[v]=null)}}}}function al(Z,e){if(!Z){return}Z.hv=e.hv=[ZO(e,["left","right"]),ZO(e,["top","bottom"])];if(Z.type==="group"){Z.width==null&&(Z.width=e.width=0);Z.height==null&&(Z.height=e.height=0)}}var PD=GV({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:true},init:function(Z,i,e){this.mergeDefaultAndTheme(Z,e);Z.selected=Z.selected||{}},mergeOption:function(Z){PD.superCall(this,"mergeOption",Z)},optionUpdated:function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&this.get("selectedMode")==="single"){var k=false;for(var Z=0;Z<e.length;Z++){var v=e[Z].get("name");if(this.isSelected(v)){this.select(v);k=true;break}}!k&&this.select(e[0].get("name"))}},_updateData:function(e){var Z=PK(this.get("data")||[],function(k){if(typeof k==="string"||typeof k==="number"){k={name:k}}return new dc(k,this,this.ecModel)},this);this._data=Z;var i=PK(e.getSeries(),function(k){return k.name});e.eachSeries(function(k){if(k.legendDataProvider){var v=k.legendDataProvider();i=i.concat(v.mapArray(v.getName))}});this._availableNames=i},getData:function(){return this._data},select:function(i){var k=this.option.selected;var Z=this.get("selectedMode");if(Z==="single"){var e=this._data;Dc(e,function(v){k[v.get("name")]=false})}k[i]=true},unSelect:function(Z){if(this.get("selectedMode")!=="single"){this.option.selected[Z]=false}},toggleSelected:function(Z){var e=this.option.selected;if(!e.hasOwnProperty(Z)){e[Z]=true}this[e[Z]?"unSelect":"select"](Z)},isSelected:function(Z){var e=this.option.selected;return !(e.hasOwnProperty(Z)&&!e[Z])&&Fx(this._availableNames,Z)>=0},defaultOption:{zlevel:0,z:4,show:true,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:true,tooltip:{show:false}}});function SY(i,k,e){var PI={};var Z=i==="toggleSelected";var v;e.eachComponent("legend",function(XY){if(Z&&v!=null){XY[v?"select":"unSelect"](k.name)}else{XY[i](k.name);v=XY.isSelected(k.name)}var WH=XY.getData();Dc(WH,function(eF){var cc=eF.get("name");if(cc==="\n"||cc===""){return}var Z2=XY.isSelected(cc);if(PI.hasOwnProperty(cc)){PI[cc]=PI[cc]&&Z2}else{PI[cc]=Z2}})});return{name:k.name,selected:PI}}R0("legendToggleSelect","legendselectchanged",aT(SY,"toggleSelected"));R0("legendSelect","legendselected",aT(SY,"select"));R0("legendUnSelect","legendunselected",aT(SY,"unSelect"));function NA(Z,v,WH){var i=v.getBoxLayoutParams();var e=v.get("padding");var k={width:WH.getWidth(),height:WH.getHeight()};var PI=CC(i,k,e);cP(v.get("orient"),Z,v.get("itemGap"),PI.width,PI.height);VJ(Z,i,k,e)}function LA(e,i){var Z=Q3(i.get("padding"));var k=i.getItemStyle(["color","opacity"]);k.fill=i.get("backgroundColor");var e=new BI({shape:{x:e.x-Z[3],y:e.y-Z[0],width:e.width+Z[1]+Z[3],height:e.height+Z[0]+Z[2],r:i.get("borderRadius")},style:k,silent:true,z2:-1});return e}var DQ=aT;var Ko=Dc;var ZM=TD;var dk=bX({type:"legend.plain",newlineDisabled:false,init:function(){this.group.add(this._contentGroup=new ZM());this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(Z2,i,cc){this.resetInner();if(!Z2.get("show",true)){return}var e=Z2.get("align");if(!e||e==="auto"){e=(Z2.get("left")==="right"&&Z2.get("orient")==="vertical")?"right":"left"}this.renderInner(e,Z2,i,cc);var v=Z2.getBoxLayoutParams();var XY={width:cc.getWidth(),height:cc.getHeight()};var k=Z2.get("padding");var Z=CC(v,XY,k);var WH=this.layoutInner(Z2,e,Z);var PI=CC(Id({width:WH.width,height:WH.height},v),XY,k);this.group.attr("position",[PI.x-WH.x,PI.y-WH.y]);this.group.add(this._backgroundEl=LA(WH,Z2))},resetInner:function(){this.getContentGroup().removeAll();this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(i,v,e,PI){var WH=this.getContentGroup();var Z=EY();var k=v.get("selectedMode");Ko(v.getData(),function(XY,eI){var Z2=XY.get("name");if(!this.newlineDisabled&&(Z2===""||Z2==="\n")){WH.add(new ZM({newline:true}));return}var eK=e.getSeriesByName(Z2)[0];if(Z.get(Z2)){return}if(eK){var cc=eK.getData();var eG=cc.getVisual("color");if(typeof eG==="function"){eG=eG(eK.getDataParams(0))}var eF=cc.getVisual("legendSymbol")||"roundRect";var eH=cc.getVisual("symbol");var eJ=this._createItem(Z2,eI,XY,v,eF,eH,i,eG,k);eJ.on("click",DQ(K3,Z2,PI)).on("mouseover",DQ(JL,eK,null,PI)).on("mouseout",DQ(RL,eK,null,PI));Z.set(Z2,true)}else{e.eachRawSeries(function(eL){if(Z.get(Z2)){return}if(eL.legendDataProvider){var eQ=eL.legendDataProvider();var eN=eQ.indexOfName(Z2);if(eN<0){return}var eP=eQ.getItemVisual(eN,"color");var eO="roundRect";var eM=this._createItem(Z2,eI,XY,v,eO,null,i,eP,k);eM.on("click",DQ(K3,Z2,PI)).on("mouseover",DQ(JL,eL,Z2,PI)).on("mouseout",DQ(RL,eL,Z2,PI));Z.set(Z2,true)}},this)}if(Vo){if(!Z.get(Z2)){console.warn(Z2+" series not exists. Legend data should be same with series name or data name.")}}},this)},_createItem:function(eQ,eP,PI,WH,eS,eI,eO,i,eF){var k=WH.get("itemWidth");var v=WH.get("itemHeight");var eR=WH.get("inactiveColor");var eH=WH.isSelected(eQ);var eL=new ZM();var eG=PI.getModel("textStyle");var eJ=PI.get("icon");var Z=PI.getModel("tooltip");var Z2=Z.parentModel;eS=eJ||eS;eL.add(Fq(eS,0,0,k,v,eH?i:eR,true));if(!eJ&&eI&&((eI!==eS)||eI=="none")){var XY=v*0.8;if(eI==="none"){eI="circle"}eL.add(Fq(eI,(k-XY)/2,(v-XY)/2,XY,XY,eH?i:eR))}var eM=eO==="left"?k+5:-5;var cc=eO;var e=WH.get("formatter");var eN=eQ;if(typeof e==="string"&&e){eN=e.replace("{name}",eQ!=null?eQ:"")}else{if(typeof e==="function"){eN=e(eQ)}}eL.add(new FA({style:Dw({},eG,{text:eN,x:eM,y:v/2,textFill:eH?eG.getTextColor():eR,textAlign:cc,textVerticalAlign:"middle"})}));var eK=new BI({shape:eL.getBoundingRect(),invisible:true,tooltip:Z.get("show")?V8({content:eQ,formatter:Z2.get("formatter",true)||function(){return eQ},formatterParams:{componentType:"legend",legendIndex:WH.componentIndex,name:eQ,$vars:["name"]}},Z.option):null});eL.add(eK);eL.eachChild(function(eT){eT.silent=true});eK.silent=!eF;this.getContentGroup().add(eL);Ne(eL);eL.__legendDataIndex=eP;return eL},layoutInner:function(k,i,Z){var v=this.getContentGroup();cP(k.get("orient"),v,k.get("itemGap"),Z.width,Z.height);var e=v.getBoundingRect();v.attr("position",[-e.x,-e.y]);return this.group.getBoundingRect()}});function K3(Z,e){e.dispatchAction({type:"legendToggleSelect",name:Z})}function JL(e,i,k){var Z=k.getZr().storage.getDisplayList()[0];if(!(Z&&Z.useHoverLayer)){e.get("legendHoverLink")&&k.dispatchAction({type:"highlight",seriesName:e.name,name:i})}}function RL(e,i,k){var Z=k.getZr().storage.getDisplayList()[0];if(!(Z&&Z.useHoverLayer)){e.get("legendHoverLink")&&k.dispatchAction({type:"downplay",seriesName:e.name,name:i})}}var dB=function(Z){var e=Z.findComponents({mainType:"legend"});if(e&&e.length){Z.filterSeries(function(v){for(var k=0;k<e.length;k++){if(!e[k].isSelected(v.name)){return false}}return true})}};bI(dB);C8.registerSubTypeDefaulter("legend",function(){return"plain"});var KV=PD.extend({type:"legend.scroll",setScrollDataIndex:function(Z){this.option.scrollDataIndex=Z},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(e,v,i,k){var Z=X2(e);KV.superCall(this,"init",e,v,i,k);Vr(this,e,Z)},mergeOption:function(Z,e){KV.superCall(this,"mergeOption",Z,e);Vr(this,this.option,Z)},getOrient:function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}});function Vr(k,i,v){var e=k.getOrient();var Z=[1,1];Z[e.index]=0;aW(i,v,{type:"box",ignoreSize:Z})}var ZP=TD;var LT=["width","height"];var MD=["x","y"];var CJ=dk.extend({type:"legend.scroll",newlineDisabled:true,init:function(){CJ.superCall(this,"init");this._currentIndex=0;this.group.add(this._containerGroup=new ZP());this._containerGroup.add(this.getContentGroup());this.group.add(this._controllerGroup=new ZP());this._showController},resetInner:function(){CJ.superCall(this,"resetInner");this._controllerGroup.removeAll();this._containerGroup.removeClipPath();this._containerGroup.__rectSize=null},renderInner:function(Z,XY,e,Z2){var PI=this;CJ.superCall(this,"renderInner",Z,XY,e,Z2);var v=this._controllerGroup;var WH=XY.get("pageIconSize",true);if(!aO(WH)){WH=[WH,WH]}k("pagePrev",0);var i=XY.getModel("pageTextStyle");v.add(new FA({name:"pageText",style:{textFill:i.getTextColor(),font:i.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:true}));k("pageNext",1);function k(eG,eF){var cc=eG+"DataIndex";var eH=Dp(XY.get("pageIcons",true)[XY.getOrient().name][eF],{onclick:b3(PI._pageGo,PI,cc,XY,Z2)},{x:-WH[0]/2,y:-WH[1]/2,width:WH[0],height:WH[1]});eH.name=eG;v.add(eH)}},layoutInner:function(WH,eM,i){var k=this.getContentGroup();var eJ=this._containerGroup;var e=this._controllerGroup;var Z2=WH.getOrient().index;var PI=LT[Z2];var eF=LT[1-Z2];var eO=MD[1-Z2];cP(WH.get("orient"),k,WH.get("itemGap"),!Z2?null:i.width,Z2?null:i.height);cP("horizontal",e,WH.get("pageButtonItemGap",true));var eG=k.getBoundingRect();var cc=e.getBoundingRect();var eP=this._showController=eG[PI]>i[PI];var eH=[-eG.x,-eG.y];eH[Z2]=k.position[Z2];var v=[0,0];var eL=[-cc.x,-cc.y];var eI=TR(WH.get("pageButtonGap",true),WH.get("itemGap",true));if(eP){var eK=WH.get("pageButtonPosition",true);if(eK==="end"){eL[Z2]+=i[PI]-cc[PI]}else{v[Z2]+=cc[PI]+eI}}eL[1-Z2]+=eG[eF]/2-cc[eF]/2;k.attr("position",eH);eJ.attr("position",v);e.attr("position",eL);var Z=this.group.getBoundingRect();var Z={x:0,y:0};Z[PI]=eP?i[PI]:eG[PI];Z[eF]=Math.max(eG[eF],cc[eF]);Z[eO]=Math.min(0,cc[eO]+eL[1-Z2]);eJ.__rectSize=i[PI];if(eP){var eN={x:0,y:0};eN[PI]=Math.max(i[PI]-cc[PI]-eI,0);eN[eF]=Z[eF];eJ.setClipPath(new BI({shape:eN}));eJ.__rectSize=eN[PI]}else{e.eachChild(function(eQ){eQ.attr({invisible:true,silent:true})})}var XY=this._getPageInfo(WH);XY.pageIndex!=null&&Pr(k,{position:XY.contentPosition},eP?WH:false);this._updatePageInfoView(WH,XY);return Z},_pageGo:function(Z,i,k){var e=this._getPageInfo(i)[Z];e!=null&&k.dispatchAction({type:"legendScroll",scrollDataIndex:e,legendId:i.id})},_updatePageInfoView:function(WH,i){var v=this._controllerGroup;Dc(["pagePrev","pageNext"],function(cc){var Z2=i[cc+"DataIndex"]!=null;var eF=v.childOfName(cc);if(eF){eF.setStyle("fill",Z2?WH.get("pageIconColor",true):WH.get("pageIconInactiveColor",true));eF.cursor=Z2?"pointer":"default"}});var XY=v.childOfName("pageText");var Z=WH.get("pageFormatter");var k=i.pageIndex;var e=k!=null?k+1:0;var PI=i.pageCount;XY&&Z&&XY.setStyle("text",DY(Z)?Z.replace("{current}",e).replace("{total}",PI):Z({current:e,total:PI}))},_getPageInfo:function(WH){var eO=WH.get("scrollDataIndex",true);var i=this.getContentGroup();var eK=i.getBoundingRect();var eR=this._containerGroup.__rectSize;var Z2=WH.getOrient().index;var PI=LT[Z2];var eI=LT[1-Z2];var k=MD[Z2];var eL=i.position.slice();var eP;var eN;var eM;var eG;if(this._showController){i.eachChild(function(eS){if(eS.__legendDataIndex===eO){eG=eS}})}else{eG=i.childAt(0)}var eF=eR?Math.ceil(eK[PI]/eR):0;if(eG){var cc=eG.getBoundingRect();var e=eG.position[Z2]+cc[k];eL[Z2]=-e-eK[k];eP=Math.floor(eF*(e+cc[k]+eR/2)/eK[PI]);eP=(eK[PI]&&eF)?Math.max(0,Math.min(eF-1,eP)):-1;var XY={x:0,y:0};XY[PI]=eR;XY[eI]=eK[eI];XY[k]=-eL[Z2]-eK[k];var eQ;var eJ=i.children();i.eachChild(function(eS,eU){var eT=v(eS);if(eT.intersect(XY)){eQ==null&&(eQ=eU);eM=eS.__legendDataIndex}if(eU===eJ.length-1&&eT[k]+eT[PI]<=XY[k]+XY[PI]){eM=null}});if(eQ!=null){var eH=eJ[eQ];var Z=v(eH);XY[k]=Z[k]+Z[PI]-XY[PI];if(eQ<=0&&Z[k]>=XY[k]){eN=null}else{while(eQ>0&&v(eJ[eQ-1]).intersect(XY)){eQ--}eN=eJ[eQ].__legendDataIndex}}}return{contentPosition:eL,pageIndex:eP,pageCount:eF,pagePrevDataIndex:eN,pageNextDataIndex:eM};function v(eS){var eT=eS.getBoundingRect().clone();eT[k]+=eS.position[Z2];return eT}}});R0("legendScroll","legendscroll",function(e,Z){var i=e.scrollDataIndex;i!=null&&Z.eachComponent({mainType:"legend",subType:"scroll",query:e},function(k){k.setScrollDataIndex(i)})});GV({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:true,showContent:true,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:false,displayMode:"single",confine:false,showDelay:0,hideDelay:100,transitionDuration:0.4,enterable:false,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var Yv=Dc;var Ay=MP;var EP=["","-webkit-","-moz-","-o-"];var Vj="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";function N2(e){var Z="cubic-bezier(0.23, 1, 0.32, 1)";var i="left "+e+"s "+Z+",top "+e+"s "+Z;return PK(EP,function(k){return k+"transition:"+i}).join(";")}function L4(Z){var i=[];var e=Z.get("fontSize");var k=Z.getTextColor();k&&i.push("color:"+k);i.push("font:"+Z.getFont());e&&i.push("line-height:"+Math.round(e*3/2)+"px");Yv(["decoration","align"],function(v){var PI=Z.get(v);PI&&i.push("text-"+v+":"+PI)});return i.join(";")}function dE(v){var PI=[];var e=v.get("transitionDuration");var Z=v.get("backgroundColor");var i=v.getModel("textStyle");var k=v.get("padding");e&&PI.push(N2(e));if(Z){if(PF.canvasSupported){PI.push("background-Color:"+Z)}else{PI.push("background-Color:#"+a4(Z));PI.push("filter:alpha(opacity=70)")}}Yv(["width","color","radius"],function(Z2){var WH="border-"+Z2;var cc=Ay(WH);var XY=v.get(cc);XY!=null&&PI.push(WH+":"+XY+(Z2==="color"?"":"px"))});PI.push(L4(i));if(k!=null){PI.push("padding:"+Q3(k).join("px ")+"px")}return PI.join(";")+";"}function bm(k,v){var Z=document.createElement("div");var e=this._zr=v.getZr();this.el=Z;this._x=v.getWidth()/2;this._y=v.getHeight()/2;k.appendChild(Z);this._container=k;this._show=false;this._hideTimeout;var i=this;Z.onmouseenter=function(){if(i._enterable){clearTimeout(i._hideTimeout);i._show=true}i._inContent=true};Z.onmousemove=function(PI){PI=PI||window.event;if(!i._enterable){var WH=e.handler;ML(k,PI,true);WH.dispatch("mousemove",PI)}};Z.onmouseleave=function(){if(i._enterable){if(i._show){i.hideLater(i._hideDelay)}}i._inContent=false}}bm.prototype={constructor:bm,_enterable:true,update:function(){var Z=this._container;var e=Z.currentStyle||document.defaultView.getComputedStyle(Z);var i=Z.style;if(i.position!=="absolute"&&e.position!=="absolute"){i.position="relative"}},show:function(e){clearTimeout(this._hideTimeout);var Z=this.el;Z.style.cssText=Vj+dE(e)+";left:"+this._x+"px;top:"+this._y+"px;"+(e.get("extraCssText")||"");Z.style.display=Z.innerHTML?"block":"none";this._show=true},setContent:function(Z){this.el.innerHTML=Z==null?"":Z},setEnterable:function(Z){this._enterable=Z},getSize:function(){var Z=this.el;return[Z.clientWidth,Z.clientHeight]},moveTo:function(i,k){var Z=this._zr;var v;if(Z&&Z.painter&&(v=Z.painter.getViewportRootOffset())){i+=v.offsetLeft;k+=v.offsetTop}var e=this.el.style;e.left=i+"px";e.top=k+"px";this._x=i;this._y=k},hide:function(){this.el.style.display="none";this._show=false},hideLater:function(Z){if(this._show&&!(this._inContent&&this._enterable)){if(Z){this._hideDelay=Z;this._show=false;this._hideTimeout=setTimeout(b3(this.hide,this),Z)}else{this.hide()}}},isShow:function(){return this._show}};var J6=b3;var Yu=Dc;var Y=OC;var K2=new BI({shape:{x:-1,y:-1,width:2,height:2}});bX({type:"tooltip",init:function(Z,i){if(PF.node){return}var e=new bm(i.getDom(),i);this._tooltipContent=e},render:function(e,Z,i){if(PF.node){return}this.group.removeAll();this._tooltipModel=e;this._ecModel=Z;this._api=i;this._lastDataByCoordSys=null;this._alwaysShowContent=e.get("alwaysShowContent");var k=this._tooltipContent;k.update();k.setEnterable(e.get("enterable"));this._initGlobalListener();this._keepShow()},_initGlobalListener:function(){var e=this._tooltipModel;var Z=e.get("triggerOn");WM("itemTooltip",this._api,J6(function(v,i,k){if(Z!=="none"){if(Z.indexOf(v)>=0){this._tryShow(i,k)}else{if(v==="leave"){this._hide(k)}}}},this))},_keepShow:function(){var i=this._tooltipModel;var e=this._ecModel;var k=this._api;if(this._lastX!=null&&this._lastY!=null&&i.get("triggerOn")!=="none"){var Z=this;clearTimeout(this._refreshUpdateTimeout);this._refreshUpdateTimeout=setTimeout(function(){Z.manuallyShowTip(i,e,k,{x:Z._lastX,y:Z._lastY})})}},manuallyShowTip:function(cc,e,XY,i){if(i.from===this.uid||PF.node){return}var Z=X8(i,XY);this._ticket="";var v=i.dataByCoordSys;if(i.tooltip&&i.x!=null&&i.y!=null){var WH=K2;WH.position=[i.x,i.y];WH.update();WH.tooltip=i.tooltip;this._tryShow({offsetX:i.x,offsetY:i.y,target:WH},Z)}else{if(v){this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,event:{},dataByCoordSys:i.dataByCoordSys,tooltipOption:i.tooltipOption},Z)}else{if(i.seriesIndex!=null){if(this._manuallyAxisShowTip(cc,e,XY,i)){return}var Z2=Qm(i,e);var PI=Z2.point[0];var k=Z2.point[1];if(PI!=null&&k!=null){this._tryShow({offsetX:PI,offsetY:k,position:i.position,target:Z2.el,event:{}},Z)}}else{if(i.x!=null&&i.y!=null){XY.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y});this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:XY.getZr().findHover(i.x,i.y).target,event:{}},Z)}}}}},manuallyHideTip:function(i,Z,k,e){var v=this._tooltipContent;if(!this._alwaysShowContent){v.hideLater(this._tooltipModel.get("hideDelay"))}this._lastX=this._lastY=null;if(e.from!==this.uid){this._hide(X8(e,k))}},_manuallyAxisShowTip:function(v,Z,XY,e){var k=e.seriesIndex;var WH=e.dataIndex;var PI=Z.getComponent("axisPointer").coordSysAxesInfo;if(k==null||WH==null||PI==null){return}var Z2=Z.getSeriesByIndex(k);if(!Z2){return}var i=Z2.getData();var v=ez([i.getItemModel(WH),Z2,(Z2.coordinateSystem||{}).model,v]);if(v.get("trigger")!=="axis"){return}XY.dispatchAction({type:"updateAxisPointer",seriesIndex:k,dataIndex:WH,position:e.position});return true},_tryShow:function(k,PI){var Z=k.target;var v=this._tooltipModel;if(!v){return}this._lastX=k.offsetX;this._lastY=k.offsetY;var i=k.dataByCoordSys;if(i&&i.length){this._showAxisTooltip(i,k)}else{if(Z&&Z.dataIndex!=null){this._lastDataByCoordSys=null;this._showSeriesItemTooltip(k,Z,PI)}else{if(Z&&Z.tooltip){this._lastDataByCoordSys=null;this._showComponentItemTooltip(k,Z,PI)}else{this._lastDataByCoordSys=null;this._hide(PI)}}}},_showOrMove:function(e,Z){var i=e.get("showDelay");Z=b3(Z,this);clearTimeout(this._showTimout);i>0?(this._showTimout=setTimeout(Z,i)):Z()},_showAxisTooltip:function(WH,Z){var k=this._ecModel;var i=this._tooltipModel;var cc=[Z.offsetX,Z.offsetY];var Z2=[];var PI=[];var XY=ez([Z.tooltipOption,i]);Yu(WH,function(e){Yu(e.dataByAxis,function(eI){var eH=k.getComponent(eI.axisDim+"Axis",eI.axisIndex);var eF=eI.value;var eK=[];if(!eH||eF==null){return}var eG=IY(eF,eH.axis,k,eI.seriesDataIndices,eI.valueLabelOpt);Dc(eI.seriesDataIndices,function(eN){var eO=k.getSeriesByIndex(eN.seriesIndex);var eM=eN.dataIndexInside;var eL=eO&&eO.getDataParams(eM);eL.axisDim=eI.axisDim;eL.axisIndex=eI.axisIndex;eL.axisType=eI.axisType;eL.axisId=eI.axisId;eL.axisValue=AP(eH.axis,eF);eL.axisValueLabel=eG;if(eL){PI.push(eL);eK.push(eO.formatTooltip(eM,true))}});var eJ=eG;Z2.push((eJ?Pp(eJ)+"<br />":"")+eK.join("<br />"))})},this);Z2.reverse();Z2=Z2.join("<br /><br />");var v=Z.position;this._showOrMove(XY,function(){if(this._updateContentNotChangedOnAxis(WH)){this._updatePosition(XY,v,cc[0],cc[1],this._tooltipContent,PI)}else{this._showTooltipContent(XY,Z2,PI,Math.random(),cc[0],cc[1],v)}})},_showSeriesItemTooltip:function(v,XY,Z){var i=this._ecModel;var WH=XY.seriesIndex;var eK=i.getSeriesByIndex(WH);var eI=XY.dataModel||eK;var eF=XY.dataIndex;var k=XY.dataType;var PI=eI.getData();var eJ=ez([PI.getItemModel(eF),eI,eK&&(eK.coordinateSystem||{}).model,this._tooltipModel]);var Z2=eJ.get("trigger");if(Z2!=null&&Z2!=="item"){return}var cc=eI.getDataParams(eF,k);var eH=eI.formatTooltip(eF,false,k);var eG="item_"+eI.name+"_"+eF;this._showOrMove(eJ,function(){this._showTooltipContent(eJ,eH,cc,eG,v.offsetX,v.offsetY,v.position,v.target)});Z({type:"showTip",dataIndexInside:eF,dataIndex:PI.getRawIndex(eF),seriesIndex:WH,from:this.uid})},_showComponentItemTooltip:function(i,WH,Z){var v=WH.tooltip;if(typeof v==="string"){var Z2=v;v={content:Z2,formatter:Z2}}var PI=new dc(v,this._tooltipModel,this._ecModel);var XY=PI.get("content");var k=Math.random();this._showOrMove(PI,function(){this._showTooltipContent(PI,XY,PI.get("formatterParams")||{},k,i.offsetX,i.offsetY,i.position,WH)});Z({type:"showTip",from:this.uid})},_showTooltipContent:function(v,eF,WH,i,Z2,cc,k,Z){this._ticket="";if(!v.get("showContent")||!v.get("show")){return}var XY=this._tooltipContent;var PI=v.get("formatter");k=k||v.get("position");var eG=eF;if(PI&&typeof PI==="string"){eG=Jw(PI,WH,true)}else{if(typeof PI==="function"){var e=J6(function(eI,eH){if(eI===this._ticket){XY.setContent(eH);this._updatePosition(v,k,Z2,cc,XY,WH,Z)}},this);this._ticket=i;eG=PI(WH,i,e)}}XY.setContent(eG);XY.show(v);this._updatePosition(v,k,Z2,cc,XY,WH,Z)},_updatePosition:function(XY,PI,eG,eH,eJ,Z2,Z){var cc=this._api.getWidth();var e=this._api.getHeight();PI=PI||XY.get("position");var k=eJ.getSize();var WH=XY.get("align");var eI=XY.get("verticalAlign");var i=Z&&Z.getBoundingRect().clone();Z&&i.applyTransform(Z.transform);if(typeof PI==="function"){PI=PI([eG,eH],Z2,eJ.el,i,{viewSize:[cc,e],contentSize:k.slice()})}if(aO(PI)){eG=Y(PI[0],cc);eH=Y(PI[1],e)}else{if(Q(PI)){PI.width=k[0];PI.height=k[1];var eF=CC(PI,{width:cc,height:e});eG=eF.x;eH=eF.y;WH=null;eI=null}else{if(typeof PI==="string"&&Z){var v=Qr(PI,i,k);eG=v[0];eH=v[1]}else{var v=H9(eG,eH,eJ.el,cc,e,WH?null:20,eI?null:20);eG=v[0];eH=v[1]}}}WH&&(eG-=Mp(WH)?k[0]/2:WH==="right"?k[0]:0);eI&&(eH-=Mp(eI)?k[1]/2:eI==="bottom"?k[1]:0);if(XY.get("confine")){var v=Qg(eG,eH,eJ.el,cc,e);eG=v[0];eH=v[1]}eJ.moveTo(eG,eH)},_updateContentNotChangedOnAxis:function(Z){var i=this._lastDataByCoordSys;var e=!!i&&i.length===Z.length;e&&Yu(i,function(PI,XY){var k=PI.dataByAxis||{};var v=Z[XY]||{};var WH=v.dataByAxis||[];e&=k.length===WH.length;e&&Yu(k,function(eG,eH){var Z2=WH[eH]||{};var cc=eG.seriesDataIndices||[];var eF=Z2.seriesDataIndices||[];e&=eG.value===Z2.value&&eG.axisType===Z2.axisType&&eG.axisId===Z2.axisId&&cc.length===eF.length;e&&Yu(cc,function(eK,eJ){var eI=eF[eJ];e&=eK.seriesIndex===eI.seriesIndex&&eK.dataIndex===eI.dataIndex})})});this._lastDataByCoordSys=Z;return !!e},_hide:function(Z){this._lastDataByCoordSys=null;Z({type:"hideTip",from:this.uid})},dispose:function(Z,e){if(PF.node){return}this._tooltipContent.hide();Ie("itemTooltip",e)}});function ez(i){var Z=i.pop();while(i.length){var e=i.pop();if(e){if(e instanceof dc){e=e.get("tooltip",true)}if(typeof e==="string"){e={formatter:e}}Z=new dc(e,Z,Z.ecModel)}}return Z}function X8(Z,e){return Z.dispatchAction||b3(e.dispatchAction,e)}function H9(XY,Z2,Z,v,cc,k,i){var PI=Oz(Z);var WH=PI.width;var e=PI.height;if(k!=null){if(XY+WH+k>v){XY-=WH+k}else{XY+=k}}if(i!=null){if(Z2+e+i>cc){Z2-=e+i}else{Z2+=i}}return[XY,Z2]}function Qg(PI,WH,Z,k,XY){var i=Oz(Z);var v=i.width;var e=i.height;PI=Math.min(PI+v,k)-v;WH=Math.min(WH+e,XY)-e;PI=Math.max(PI,0);WH=Math.max(WH,0);return[PI,WH]}function Oz(Z){var k=Z.clientWidth;var e=Z.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var i=document.defaultView.getComputedStyle(Z);if(i){k+=parseInt(i.paddingLeft,10)+parseInt(i.paddingRight,10)+parseInt(i.borderLeftWidth,10)+parseInt(i.borderRightWidth,10);e+=parseInt(i.paddingTop,10)+parseInt(i.paddingBottom,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)}}return{width:k,height:e}}function Qr(PI,i,e){var Z=e[0];var Z2=e[1];var cc=5;var WH=0;var XY=0;var k=i.width;var v=i.height;switch(PI){case"inside":WH=i.x+k/2-Z/2;XY=i.y+v/2-Z2/2;break;case"top":WH=i.x+k/2-Z/2;XY=i.y-Z2-cc;break;case"bottom":WH=i.x+k/2-Z/2;XY=i.y+v+cc;break;case"left":WH=i.x-Z-cc;XY=i.y+v/2-Z2/2;break;case"right":WH=i.x+k+cc;XY=i.y+v/2-Z2/2}return[WH,XY]}function Mp(Z){return Z==="center"||Z==="middle"}R0({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){});R0({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});function XI(Z){return Z.get("stack")||"__ec_stack_"+Z.seriesIndex}function WK(Z){return Z.dim}function Yg(WH,e,XY){var PI=XY.getWidth();var i=XY.getHeight();var k={};var v={};var Z=Fb(Zs(e.getSeriesByType(WH),function(Z2){return !e.isSeriesFiltered(Z2)&&Z2.coordinateSystem&&Z2.coordinateSystem.type==="polar"}));e.eachSeriesByType(WH,function(eH){if(eH.coordinateSystem.type!=="polar"){return}var eS=eH.getData();var eG=eH.coordinateSystem;var eU=eG.getAngleAxis();var Z2=eG.getBaseAxis();var eM=XI(eH);var eO=Z[WK(Z2)][eM];var eT=eO.offset;var eW=eO.width;var eN=eG.getOtherAxis(Z2);var eV=eH.get("center")||["50%","50%"];var cc=OC(eV[0],PI);var eP=OC(eV[1],i);var eR=eH.get("barMinHeight")||0;var eK=eH.get("barMinAngle")||0;var eJ=eN.getExtent()[0];var eQ=eN.model.get("max");var eL=eN.model.get("min");var eI=[eH.coordDimToDataDim("radius")[0],eH.coordDimToDataDim("angle")[0]];var eF=eS.mapArray(eI,function(eX,eY){return eG.dataToPoint([eX,eY])},true);k[eM]=k[eM]||[];v[eM]=v[eM]||[];eS.each(eH.coordDimToDataDim(eN.dim)[0],function(e1,eZ){if(isNaN(e1)){return}if(!k[eM][eZ]){k[eM][eZ]={p:eJ,n:eJ};v[eM][eZ]={p:eJ,n:eJ}}var e6=e1>=0?"p":"n";var e3=eG.pointToCoord(eF[eZ]);var e0=v[eM][eZ][e6];var e7;var eX;var e8;var eY;if(eN.dim==="radius"){e7=e0;eX=e3[0];e8=(-e3[1]+eT)*Math.PI/180;eY=e8+eW*Math.PI/180;if(Math.abs(eX)<eR){eX=e7+(eX<0?-1:1)*eR}v[eM][eZ][e6]=eX}else{e7=e3[0]+eT;eX=e7+eW;if(eQ!=null){e1=Math.min(e1,eQ)}if(eL!=null){e1=Math.max(e1,eL)}var e4=eU.dataToAngle(e1);if(Math.abs(e4-e0)<eK){e4=e0-(e1<0?-1:1)*eK}e8=-e0*Math.PI/180;eY=-e4*Math.PI/180;var e2=eU.getExtent();var e5=e4;if(e5===e2[0]&&e1>0){e5=e2[1]}else{if(e5===e2[1]&&e1<0){e5=e2[0]}}v[eM][eZ][e6]=e5}eS.setItemLayout(eZ,{cx:cc,cy:eP,r0:e7,r:eX,startAngle:e8,endAngle:eY})},true)},this)}function Fb(e,k){var Z={};Dc(e,function(eM,Z2){var WH=eM.getData();var PI=eM.coordinateSystem;var eK=PI.getBaseAxis();var eI=eK.getExtent();var v=eK.type==="category"?eK.getBandWidth():(Math.abs(eI[1]-eI[0])/WH.count());var eJ=Z[WK(eK)]||{bandWidth:v,remainedWidth:v,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}};var eH=eJ.stacks;Z[WK(eK)]=eJ;var eG=XI(eM);if(!eH[eG]){eJ.autoWidthCount++}eH[eG]=eH[eG]||{width:0,maxWidth:0};var XY=OC(eM.get("barWidth"),v);var cc=OC(eM.get("barMaxWidth"),v);var eF=eM.get("barGap");var eL=eM.get("barCategoryGap");if(XY&&!eH[eG].width){XY=Math.min(eJ.remainedWidth,XY);eH[eG].width=XY;eJ.remainedWidth-=XY}cc&&(eH[eG].maxWidth=cc);(eF!=null)&&(eJ.gap=eF);(eL!=null)&&(eJ.categoryGap=eL)});var i={};Dc(Z,function(eH,WH){i[WH]={};var eF=eH.stacks;var v=eH.bandWidth;var XY=OC(eH.categoryGap,v);var PI=OC(eH.gap,1);var Z2=eH.remainedWidth;var cc=eH.autoWidthCount;var eJ=(Z2-XY)/(cc+(cc-1)*PI);eJ=Math.max(eJ,0);Dc(eF,function(eN,eL){var eM=eN.maxWidth;if(eM&&eM<eJ){eM=Math.min(eM,Z2);if(eN.width){eM=Math.min(eM,eN.width)}Z2-=eM;eN.width=eM;cc--}});eJ=(Z2-XY)/(cc+(cc-1)*PI);eJ=Math.max(eJ,0);var eI=0;var eK;Dc(eF,function(eM,eL){if(!eM.width){eM.width=eJ}eK=eM;eI+=eM.width*(1+PI)});if(eK){eI-=eK.width*PI}var eG=-eI/2;Dc(eF,function(eM,eL){i[WH][eL]=i[WH][eL]||{offset:eG,width:eM.width};eG+=eM.width*(1+PI)})});return i}function JA(e,Z){T1.call(this,"radius",e,Z);this.type="category"}JA.prototype={constructor:JA,pointToData:function(Z,e){return this.polar.pointToData(Z,e)[this.dim==="radius"?0:1]},dataToRadius:T1.prototype.dataToCoord,radiusToData:T1.prototype.coordToData};JO(JA,T1);function Ev(e,Z){Z=Z||[0,360];T1.call(this,"angle",e,Z);this.type="category"}Ev.prototype={constructor:Ev,pointToData:function(Z,e){return this.polar.pointToData(Z,e)[this.dim==="radius"?0:1]},dataToAngle:T1.prototype.dataToCoord,angleToData:T1.prototype.coordToData};JO(Ev,T1);var Bv=function(Z){this.name=Z||"";this.cx=0;this.cy=0;this._radiusAxis=new JA();this._angleAxis=new Ev();this._radiusAxis.polar=this._angleAxis.polar=this};Bv.prototype={type:"polar",axisPointerEnabled:true,constructor:Bv,dimensions:["radius","angle"],model:null,containPoint:function(Z){var e=this.pointToCoord(Z);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},containData:function(Z){return this._radiusAxis.containData(Z[0])&&this._angleAxis.containData(Z[1])},getAxis:function(Z){return this["_"+Z+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(e){var Z=[];var i=this._angleAxis;var k=this._radiusAxis;i.scale.type===e&&Z.push(i);k.scale.type===e&&Z.push(k);return Z},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(e){var Z=this._angleAxis;return e===Z?this._radiusAxis:Z},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(Z){var e=(Z!=null&&Z!=="auto")?this.getAxis(Z):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},dataToPoint:function(e,Z){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],Z),this._angleAxis.dataToAngle(e[1],Z)])},pointToData:function(Z,e){var i=this.pointToCoord(Z);return[this._radiusAxis.radiusToData(i[0],e),this._angleAxis.angleToData(i[1],e)]},pointToCoord:function(Z2){var XY=Z2[0]-this.cx;var PI=Z2[1]-this.cy;var e=this.getAngleAxis();var k=e.getExtent();var cc=Math.min(k[0],k[1]);var i=Math.max(k[0],k[1]);e.inverse?(cc=i-360):(i=cc+360);var WH=Math.sqrt(XY*XY+PI*PI);XY/=WH;PI/=WH;var v=Math.atan2(-PI,XY)/Math.PI*180;var Z=v<cc?1:-1;while(v<cc||v>i){v+=Z*360}return[WH,v]},coordToPoint:function(Z){var i=Z[0];var e=Z[1]/180*Math.PI;var k=Math.cos(e)*i+this.cx;var v=-Math.sin(e)*i+this.cy;return[k,v]}};var D0=C8.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});KT(D0.prototype,Lz);var YE={angle:{startAngle:90,clockwise:true,splitNumber:12,axisLabel:{rotate:false}},radius:{splitNumber:5}};function CF(e,Z){return Z.type||(Z.data?"category":"value")}Pc("angle",D0,CF,YE.angle);Pc("radius",D0,CF,YE.radius);GV({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(i){var Z;var e=this.ecModel;e.eachComponent(i,function(k){if(k.getCoordSysModel()===this){Z=k}},this);return Z},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});function Ck(e,Z2,XY){var Z=Z2.get("center");var WH=XY.getWidth();var i=XY.getHeight();e.cx=OC(Z[0],WH);e.cy=OC(Z[1],i);var k=e.getRadiusAxis();var v=Math.min(WH,i)/2;var PI=OC(Z2.get("radius"),v);k.inverse?k.setExtent(PI,0):k.setExtent(0,PI)}function Zu(e,PI){var WH=this;var v=WH.getAngleAxis();var i=WH.getRadiusAxis();v.scale.setExtent(Infinity,-Infinity);i.scale.setExtent(Infinity,-Infinity);e.eachSeries(function(XY){if(XY.coordinateSystem===WH){var Z2=XY.getData();i.scale.unionExtentFromData(Z2,"radius");v.scale.unionExtentFromData(Z2,"angle")}});U0(v.scale,v.model);U0(i.scale,i.model);if(v.type==="category"&&!v.onBand){var k=v.getExtent();var Z=360/v.scale.count();v.inverse?(k[1]+=Z):(k[1]-=Z);v.setExtent(k[0],k[1])}}function Cl(i,Z){i.type=Z.get("type");i.scale=Xz(Z);i.onBand=Z.get("boundaryGap")&&i.type==="category";i.inverse=Z.get("inverse");if(Z.mainType==="angleAxis"){i.inverse^=Z.get("clockwise");var e=Z.get("startAngle");i.setExtent(e,e+(i.inverse?-360:360))}Z.axis=i;i.model=Z}var YL={dimensions:Bv.prototype.dimensions,create:function(e,i){var Z=[];e.eachComponent("polar",function(Z2,XY){var cc=new Bv(XY);cc.update=Zu;var v=cc.getRadiusAxis();var k=cc.getAngleAxis();var PI=Z2.findAxisModel("radiusAxis");var WH=Z2.findAxisModel("angleAxis");Cl(v,PI);Cl(k,WH);Ck(cc,Z2,i);Z.push(cc);Z2.coordinateSystem=cc;cc.model=Z2});e.eachSeries(function(k){if(k.get("coordinateSystem")==="polar"){var v=e.queryComponents({mainType:"polar",index:k.get("polarIndex"),id:k.get("polarId")})[0];if(Vo){if(!v){throw new Error('Polar "'+Ew(k.get("polarIndex"),k.get("polarId"),0)+'" not found')}}k.coordinateSystem=v.coordinateSystem}});return Z}};Ql.register("polar",YL);var LD=["axisLine","axisLabel","axisTick","splitLine","splitArea"];function GH(v,e,Z){e[1]>e[0]&&(e=e.slice().reverse());var k=v.coordToPoint([e[0],Z]);var i=v.coordToPoint([e[1],Z]);return{x1:k[0],y1:k[1],x2:i[0],y2:i[1]}}function Cn(e){var Z=e.getRadiusAxis();return Z.inverse?0:1}Oe.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(k,e){this.group.removeAll();if(!k.get("show")){return}var v=k.axis;var PI=v.polar;var i=PI.getRadiusAxis().getExtent();var Z=v.getTicksCoords();if(v.type!=="category"){Z.pop()}Dc(LD,function(WH){if(k.get(WH+".show")&&(!v.scale.isBlank()||WH==="axisLine")){this["_"+WH](k,PI,Z,i)}},this)},_axisLine:function(i,PI,e,k){var v=i.getModel("axisLine.lineStyle");var Z=new aA({shape:{cx:PI.cx,cy:PI.cy,r:k[Cn(PI)]},style:v.getLineStyle(),z2:1,silent:true});Z.style.fill=null;this.group.add(Z)},_axisTick:function(XY,e,Z,k){var PI=XY.getModel("axisTick");var v=(PI.get("inside")?-1:1)*PI.get("length");var WH=k[Cn(e)];var i=PK(Z,function(Z2){return new S7({shape:GH(e,[WH,WH+v],Z2)})});this.group.add(Hu(i,{style:Id(PI.getModel("lineStyle").getLineStyle(),{stroke:XY.get("axisLine.lineStyle.color")})}))},_axisLabel:function(eK,XY,cc,eN){var eH=eK.axis;var eF=eK.get("data");var e=eK.getModel("axisLabel");var Z=eK.getFormattedLabels();var Z2=e.get("margin");var eG=eH.getLabelsCoords();for(var WH=0;WH<cc.length;WH++){var eI=eN[Cn(XY)];var k=XY.coordToPoint([eI+Z2,eG[WH]]);var v=XY.cx;var eJ=XY.cy;var PI=Math.abs(k[0]-v)/eI<0.3?"center":(k[0]>v?"left":"right");var eL=Math.abs(k[1]-eJ)/eI<0.3?"middle":(k[1]>eJ?"top":"bottom");if(eF&&eF[WH]&&eF[WH].textStyle){e=new dc(eF[WH].textStyle,e,e.ecModel)}var eM=new FA({silent:true});this.group.add(eM);Dw(eM.style,e,{x:k[0],y:k[1],textFill:e.getTextColor()||eK.get("axisLine.lineStyle.color"),text:Z[WH],textAlign:PI,textVerticalAlign:eL})}},_splitLine:function(eF,e,Z,PI){var WH=eF.getModel("splitLine");var k=WH.getModel("lineStyle");var v=k.get("color");var XY=0;v=v instanceof Array?v:[v];var eG=[];for(var Z2=0;Z2<Z.length;Z2++){var cc=(XY++)%v.length;eG[cc]=eG[cc]||[];eG[cc].push(new S7({shape:GH(e,PI,Z[Z2])}))}for(var Z2=0;Z2<eG.length;Z2++){this.group.add(Hu(eG[Z2],{style:Id({stroke:v[Z2%v.length]},k.getLineStyle()),silent:true,z:eF.get("z")}))}},_splitArea:function(eJ,e,Z,XY){var Z2=eJ.getModel("splitArea");var v=Z2.getModel("areaStyle");var eH=v.get("color");var eF=0;eH=eH instanceof Array?eH:[eH];var k=[];var PI=Math.PI/180;var eG=-Z[0]*PI;var eK=Math.min(XY[0],XY[1]);var eL=Math.max(XY[0],XY[1]);var WH=eJ.get("clockwise");for(var eI=1;eI<Z.length;eI++){var cc=(eF++)%eH.length;k[cc]=k[cc]||[];k[cc].push(new KS({shape:{cx:e.cx,cy:e.cy,r0:eK,r:eL,startAngle:eG,endAngle:-Z[eI]*PI,clockwise:WH},silent:true}));eG=-Z[eI]*PI}for(var eI=0;eI<k.length;eI++){this.group.add(Hu(k[eI],{style:Id({fill:eH[eI%eH.length]},v.getAreaStyle()),silent:true}))}}});var AL=["axisLine","axisTickLabel","axisName"];var Ht=["splitLine","splitArea"];Oe.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(WH,e){this.group.removeAll();if(!WH.get("show")){return}var v=WH.axis;var Z=v.polar;var k=Z.getAngleAxis();var Z2=v.getTicksCoords();var cc=k.getExtent()[0];var PI=v.getExtent();var XY=ZQ(Z,WH,cc);var i=new W8(WH,XY);Dc(AL,i.add,i);this.group.add(i.getGroup());Dc(Ht,function(eF){if(WH.get(eF+".show")&&!v.scale.isBlank()){this["_"+eF](WH,Z,cc,PI,Z2)}},this)},_splitLine:function(XY,Z,eG,PI,eF){var WH=XY.getModel("splitLine");var k=WH.getModel("lineStyle");var v=k.get("color");var Z2=0;v=v instanceof Array?v:[v];var eH=[];for(var cc=0;cc<eF.length;cc++){var e=(Z2++)%v.length;eH[e]=eH[e]||[];eH[e].push(new aA({shape:{cx:Z.cx,cy:Z.cy,r:eF[cc]},silent:true}))}for(var cc=0;cc<eH.length;cc++){this.group.add(Hu(eH[cc],{style:Id({stroke:v[cc%v.length],fill:null},k.getLineStyle()),silent:true}))}},_splitArea:function(XY,e,eH,PI,eG){var WH=XY.getModel("splitArea");var v=WH.getModel("areaStyle");var eF=v.get("color");var Z2=0;eF=eF instanceof Array?eF:[eF];var k=[];var Z=eG[0];for(var cc=1;cc<eG.length;cc++){var eI=(Z2++)%eF.length;k[eI]=k[eI]||[];k[eI].push(new KS({shape:{cx:e.cx,cy:e.cy,r0:Z,r:eG[cc],startAngle:0,endAngle:Math.PI*2},silent:true}));Z=eG[cc]}for(var cc=0;cc<k.length;cc++){this.group.add(Hu(k[cc],{style:Id({fill:eF[cc%eF.length]},v.getAreaStyle()),silent:true}))}}});function ZQ(i,e,Z){return{position:[i.cx,i.cy],rotation:Z/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}var Qe=K1.extend({makeElOption:function(eI,Z2,PI,k,eH){var i=PI.axis;if(i.dim==="angle"){this.animationThreshold=Math.PI/18}var e=i.polar;var v=e.getOtherAxis(i);var eF=v.getExtent();var eG;eG=i["dataTo"+FK(i.dim)](Z2);var cc=k.get("type");if(cc&&cc!=="none"){var Z=ek(k);var XY=Ud[cc](i,e,eG,eF,Z);XY.style=Z;eI.graphicKey=XY.type;eI.pointer=XY}var WH=k.get("label.margin");var eJ=dh(Z2,PI,k,e,WH);aH(eI,PI,k,eH,eJ)}});function dh(eL,Z2,e,v,WH){var eF=Z2.axis;var cc=eF.dataToCoord(eL);var Z=v.getAngleAxis().getExtent()[0];Z=Z/180*Math.PI;var eM=v.getRadiusAxis().getExtent();var eJ;var k;var eI;if(eF.dim==="radius"){var PI=Hx();cF(PI,PI,Z);Xo(PI,PI,[v.cx,v.cy]);eJ=Bg([cc,-WH],PI);var XY=Z2.getModel("axisLabel").get("rotate")||0;var eK=W8.innerTextLayout(Z,XY*Math.PI/180,-1);k=eK.textAlign;eI=eK.textVerticalAlign}else{var eG=eM[1];eJ=v.coordToPoint([eG+WH,cc]);var i=v.cx;var eH=v.cy;k=Math.abs(eJ[0]-i)/eG<0.3?"center":(eJ[0]>i?"left":"right");eI=Math.abs(eJ[1]-eH)/eG<0.3?"middle":(eJ[1]>eH?"top":"bottom")}return{position:eJ,align:k,verticalAlign:eI}}var Ud={line:function(v,Z,k,i,e){return v.dim==="angle"?{type:"Line",shape:dX(Z.coordToPoint([i[0],k]),Z.coordToPoint([i[1],k]))}:{type:"Circle",shape:{cx:Z.cx,cy:Z.cy,r:k}}},shadow:function(WH,Z,PI,k,i){var v=WH.getBandWidth();var e=Math.PI/180;return WH.dim==="angle"?{type:"Sector",shape:UV(Z.cx,Z.cy,k[0],k[1],(-PI-v/2)*e,(-PI+v/2)*e)}:{type:"Sector",shape:UV(Z.cx,Z.cy,PI-v/2,PI+v/2,0,Math.PI*2)}}};Oe.registerAxisPointerClass("PolarAxisPointer",Qe);el(aT(Yg,"bar"));bX({type:"polar"});var Fu=C8.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(Z){C8.prototype.init.apply(this,arguments);V4(Z.label,["show"])},optionUpdated:function(){var Z=this.option;var e=this;Z.regions=Zf.getFilledRegions(Z.regions,Z.map,Z.nameMap);this._optionModelMap=EB(Z.regions||[],function(i,k){if(k.name){i.set(k.name,new dc(k,e))}return i},EY());this.updateSelectedMap(Z.regions)},defaultOption:{zlevel:0,z:0,show:true,left:"center",top:"center",aspectScale:0.75,silent:false,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:false,color:"#000"},emphasis:{show:true,color:"rgb(100,0,0)"}},itemStyle:{normal:{borderWidth:0.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(Z){return this._optionModelMap.get(Z)||new dc(null,this,this.ecModel)},getFormattedLabel:function(i,v){var e=this.getRegionModel(i);var Z=e.get("label."+v+".formatter");var k={name:i};if(typeof Z==="function"){k.status=v;return Z(k)}else{if(typeof Z==="string"){return Z.replace("{a}",i!=null?i:"")}}},setZoom:function(Z){this.option.zoom=Z},setCenter:function(Z){this.option.center=Z}});cq(Fu,PO);bX({type:"geo",init:function(Z,i){var e=new Y0(i,true);this._mapDraw=e;this.group.add(e.group)},render:function(e,Z,v,i){if(i&&i.type==="geoToggleSelect"&&i.from===this.uid){return}var k=this._mapDraw;if(e.get("show")){k.draw(e,Z,v,this,i)}else{this._mapDraw.group.removeAll()}this.group.silent=e.get("silent")},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});function WC(Z,e){e.update="updateView";R0(e,function(k,i){var v={};i.eachComponent({mainType:"geo",query:k},function(PI){PI[Z](k.name);var WH=PI.coordinateSystem;Dc(WH.regions,function(XY){v[XY.name]=PI.isSelected(XY.name)||false})});return{selected:v,name:k.name}})}WC("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"});WC("select",{type:"geoSelect",event:"geoselected"});WC("unSelect",{type:"geoUnSelect",event:"geounselected"});var HP=["rect","polygon","keep","clear"];var d8=function(v,PI){var e=v&&v.brush;if(!aO(e)){e=e?[e]:[]}if(!e.length){return}var XY=[];Dc(e,function(cc){var Z2=cc.hasOwnProperty("toolbox")?cc.toolbox:[];if(Z2 instanceof Array){XY=XY.concat(Z2)}});var WH=v&&v.toolbox;if(aO(WH)){WH=WH[0]}if(!WH){WH={feature:{}};v.toolbox=[WH]}var i=(WH.feature||(WH.feature={}));var Z=i.brush||(i.brush={});var k=Z.type||(Z.type=[]);k.push.apply(k,XY);Vy(k);if(PI&&!k.length){k.push.apply(k,HP)}};function Vy(Z){var e={};Dc(Z,function(i){e[i]=1});Z.length=0;Dc(e,function(k,i){Z.push(i)})}var Yw=Dc;function WT(Z){if(Z){for(var e in Z){if(Z.hasOwnProperty(e)){return true}}}}function d(Z,k,i){var e={};Yw(k,function(WH){var PI=e[WH]=v();Yw(Z[WH],function(cc,Z2){if(!Np.isValidType(Z2)){return}var XY={type:Z2,visual:cc};i&&i(XY,WH);PI[Z2]=new Np(XY);if(Z2==="opacity"){XY=dp(XY);XY.type="colorAlpha";PI.__hidden.__alphaForOpacity=new Np(XY)}})});return e;function v(){var WH=function(){};WH.prototype.__hidden=WH.prototype;var PI=new WH();return PI}}function Zc(k,i,e){var Z;Dc(e,function(v){if(i.hasOwnProperty(v)&&WT(i[v])){Z=true}});Z&&Dc(e,function(v){if(i.hasOwnProperty(v)&&WT(i[v])){k[v]=dp(i[v])}else{delete k[v]}})}function Ci(Z2,eF,e,WH,k,i){var v={};Dc(Z2,function(eH){var eG=Np.prepareVisualTypes(eF[eH]);v[eH]=eG});var cc;function Z(eG){return e.getItemVisual(cc,eG)}function PI(eG,eH){e.setItemVisual(cc,eG,eH)}if(i==null){e.each(XY,true)}else{e.each([i],XY,true)}function XY(eH,eI){cc=i==null?eH:eI;var eO=e.getRawDataItem(cc);if(eO&&eO.visualMap===false){return}var eM=WH.call(k,eH);var eL=eF[eM];var eK=v[eM];for(var eJ=0,eG=eK.length;eJ<eG;eJ++){var eN=eK[eJ];eL[eN]&&eL[eN].applyVisual(eH,Z,PI)}}}var FV={lineX:Ml(0),lineY:Ml(1),rect:{point:function(e,Z,i){return e&&i.boundingRect.contain(e[0],e[1])},rect:function(e,Z,i){return e&&i.boundingRect.intersect(e)}},polygon:{point:function(e,Z,i){return e&&i.boundingRect.contain(e[0],e[1])&&P5(i.range,e[0],e[1])},rect:function(XY,Z2,k){var i=k.range;if(!XY||i.length<=1){return false}var PI=XY.x;var WH=XY.y;var v=XY.width;var e=XY.height;var Z=i[0];if(P5(i,PI,WH)||P5(i,PI+v,WH)||P5(i,PI,WH+e)||P5(i,PI+v,WH+e)||FC.create(XY).contain(Z[0],Z[1])||Nx(PI,WH,PI+v,WH,i)||Nx(PI,WH,PI,WH+e,i)||Nx(PI+v,WH,PI+v,WH+e,i)||Nx(PI,WH+e,PI+v,WH+e,i)){return true}}}};function Ml(e){var Z=["x","y"];var i=["width","height"];return{point:function(PI,v,XY){if(PI){var WH=XY.range;var k=PI[e];return Yf(k,WH)}},rect:function(PI,k,XY){if(PI){var WH=XY.range;var v=[PI[Z[e]],PI[Z[e]]+PI[i[e]]];v[1]<v[0]&&v.reverse();return Yf(v[0],WH)||Yf(v[1],WH)||Yf(WH[0],v)||Yf(WH[1],v)}}}}function Yf(Z,e){return e[0]<=Z&&Z<=e[1]}function Nx(k,e,XY,Z2,WH){for(var v=0,PI=WH[WH.length-1];v<WH.length;v++){var Z=WH[v];if(TH(k,e,XY,Z2,Z[0],Z[1],PI[0],PI[1])){return true}PI=Z}}function TH(k,eF,WH,PI,e,i,v,XY){var cc=A3(WH-k,e-v,PI-eF,i-XY);if(H6(cc)){return false}var Z2=A3(e-k,e-v,i-eF,i-XY)/cc;if(Z2<0||Z2>1){return false}var Z=A3(WH-k,e-k,PI-eF,i-eF)/cc;if(Z<0||Z>1){return false}return true}function H6(Z){return Z<=(1e-06)&&Z>=-(1e-06)}function A3(i,k,Z,e){return i*e-k*Z}var Yx=Dc;var E7=Fx;var Ti=aT;var Q8=["dataToPoint","pointToData"];var BC=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function m(Z,i,e){var k=this._targetInfoList=[];var v={};var PI=JC(i,Z);Yx(N8,function(XY,WH){if(!e||!e.include||E7(e.include,WH)>=0){XY(PI,k,v)}})}var M1=m.prototype;M1.setOutputRanges=function(Z,e){this.matchOutputRanges(Z,e,function(PI,i,v){(PI.coordRanges||(PI.coordRanges=[])).push(i);if(!PI.coordRange){PI.coordRange=i;var k=O5[PI.brushType](0,v,i);PI.__rangeOffset={offset:Hk[PI.brushType](k.values,PI.range,[1,1]),xyMinMax:k.xyMinMax}}})};M1.matchOutputRanges=function(e,i,Z){Yx(e,function(v){var k=this.findTargetInfo(v,i);if(k&&k!==true){Dc(k.coordSyses,function(WH){var PI=O5[v.brushType](1,WH,v.range);Z(v,PI.values,WH,i)})}},this)};M1.setInputRanges=function(Z,e){Yx(Z,function(PI){var v=this.findTargetInfo(PI,e);if(Vo){Re(!v||v===true||PI.coordRange,"coordRange must be specified when coord index specified.");Re(!v||v!==true||PI.range,"range must be specified in global brush.")}PI.range=PI.range||[];if(v&&v!==true){PI.panelId=v.panelId;var i=O5[PI.brushType](0,v.coordSys,PI.coordRange);var k=PI.__rangeOffset;PI.range=k?Hk[PI.brushType](i.values,k.offset,GL(i.xyMinMax,k.xyMinMax)):i.values}},this)};M1.makePanelOpts=function(Z,e){return PK(this._targetInfoList,function(k){var i=k.getPanelRect();return{panelId:k.panelId,defaultBrushType:e&&e(k),clipPath:XM(i),isTargetByCursor:QL(i,Z,k.coordSysModel),getLinearBrushOtherExtent:KK(i)}})};M1.controlSeries=function(k,Z,e){var i=this.findTargetInfo(k,e);return i===true||(i&&E7(i.coordSyses,Z.coordinateSystem)>=0)};M1.findTargetInfo=function(XY,k){var v=this._targetInfoList;var e=JC(k,XY);for(var Z=0;Z<v.length;Z++){var WH=v[Z];var PI=XY.panelId;if(PI){if(WH.panelId===PI){return WH}}else{for(var Z=0;Z<VU.length;Z++){if(VU[Z](e,WH)){return WH}}}}return true};function K0(Z){Z[0]>Z[1]&&Z.reverse();return Z}function JC(e,Z){return IG(e,Z,{includeMainTypes:BC})}var N8={grid:function(v,i){var XY=v.xAxisModels;var WH=v.yAxisModels;var k=v.gridModels;var PI=EY();var Z={};var e={};if(!XY&&!WH&&!k){return}Yx(XY,function(cc){var Z2=cc.axis.grid.model;PI.set(Z2.id,Z2);Z[Z2.id]=true});Yx(WH,function(cc){var Z2=cc.axis.grid.model;PI.set(Z2.id,Z2);e[Z2.id]=true});Yx(k,function(Z2){PI.set(Z2.id,Z2);Z[Z2.id]=true;e[Z2.id]=true});PI.each(function(Z2){var eF=Z2.coordinateSystem;var cc=[];Yx(eF.getCartesians(),function(eH,eG){if(E7(XY,eH.getAxis("x").model)>=0||E7(WH,eH.getAxis("y").model)>=0){cc.push(eH)}});i.push({panelId:"grid--"+Z2.id,gridModel:Z2,coordSysModel:Z2,coordSys:cc[0],coordSyses:cc,getPanelRect:PU.grid,xAxisDeclared:Z[Z2.id],yAxisDeclared:e[Z2.id]})})},geo:function(Z,e){Yx(Z.geoModels,function(i){var k=i.coordinateSystem;e.push({panelId:"geo--"+i.id,geoModel:i,coordSysModel:i,coordSys:k,coordSyses:[k],getPanelRect:PU.geo})})}};var VU=[function(i,k){var v=i.xAxisModel;var Z=i.yAxisModel;var e=i.gridModel;!e&&v&&(e=v.axis.grid.model);!e&&Z&&(e=Z.axis.grid.model);return e&&e===k.gridModel},function(Z,i){var e=Z.geoModel;return e&&e===i.geoModel}];var PU={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var Z=this.coordSys;var e=Z.getBoundingRect().clone();e.applyTransform(h(Z));return e}};var O5={lineX:Ti(Y5,0),lineY:Ti(Y5,1),rect:function(e,i,k){var Z=i[Q8[e]]([k[0][0],k[1][0]]);var PI=i[Q8[e]]([k[0][1],k[1][1]]);var v=[K0([Z[0],PI[0]]),K0([Z[1],PI[1]])];return{values:v,xyMinMax:v}},polygon:function(Z,e,i){var v=[[Infinity,-Infinity],[Infinity,-Infinity]];var k=PK(i,function(WH){var PI=e[Q8[Z]](WH);v[0][0]=Math.min(v[0][0],PI[0]);v[1][0]=Math.min(v[1][0],PI[1]);v[0][1]=Math.max(v[0][1],PI[0]);v[1][1]=Math.max(v[1][1],PI[1]);return PI});return{values:k,xyMinMax:v}}};function Y5(k,e,i,v){if(Vo){Re(i.type==="cartesian2d","lineX/lineY brush is available only in cartesian2d.")}var WH=i.getAxis(["x","y"][k]);var PI=K0(PK([0,1],function(XY){return e?WH.coordToData(WH.toLocalCoord(v[XY])):WH.toGlobalCoord(WH.dataToCoord(v[XY]))}));var Z=[];Z[k]=PI;Z[1-k]=[NaN,NaN];return{values:PI,xyMinMax:Z}}var Hk={lineX:Ti(Vt,0),lineY:Ti(Vt,1),rect:function(i,e,Z){return[[i[0][0]-Z[0]*e[0][0],i[0][1]-Z[0]*e[0][1]],[i[1][0]-Z[1]*e[1][0],i[1][1]-Z[1]*e[1][1]]]},polygon:function(i,e,Z){return PK(i,function(k,v){return[k[0]-Z[0]*e[v][0],k[1]-Z[1]*e[v][1]]})}};function Vt(e,i,k,Z){return[i[0]-Z[e]*k[0],i[1]-Z[e]*k[1]]}function GL(v,Z){var k=D4(v);var e=D4(Z);var i=[k[0]/e[0],k[1]/e[1]];isNaN(i[0])&&(i[0]=1);isNaN(i[1])&&(i[1]=1);return i}function D4(Z){return Z?[Z[0][1]-Z[0][0],Z[1][1]-Z[1][0]]:[NaN,NaN]}var Av=["inBrush","outOfBrush"];var Yt="__ecBrushSelect";var XC="__ecInBrushSelectEvent";var E2=cu.VISUAL.BRUSH;el(E2,function(Z,i,e){Z.eachComponent({mainType:"brush"},function(v){e&&e.type==="takeGlobalCursor"&&v.setBrushOption(e.key==="brush"?e.brushOption:{brushType:false});var k=v.brushTargetManager=new m(v.option,Z);k.setInputRanges(v.areas,Z)})});Ai(E2,function(e,PI,i){var v=[];var Z;var k;e.eachComponent({mainType:"brush"},function(eM,cc){var eG={brushId:eM.id,brushIndex:cc,brushName:eM.name,areas:dp(eM.areas),selected:[]};v.push(eG);var eN=eM.option;var eI=eN.brushLink;var WH=[];var eL=[];var eH=[];var eO=0;if(!cc){Z=eN.throttleType;k=eN.throttleDelay}var eK=PK(eM.areas,function(eQ){return Xx(Id({boundingRect:ZC[eQ.brushType](eQ)},eQ))});var eP=d(eM.option,Av,function(eQ){eQ.mappingMethod="fixed"});aO(eI)&&Dc(eI,function(eQ){WH[eQ]=1});function eJ(eQ){return eI==="all"||WH[eQ]}function eF(eQ){return !!eQ.length}e.eachSeries(function(eQ,eR){var eS=eH[eR]=[];eQ.subType==="parallel"?Z2(eQ,eR,eS):XY(eQ,eR,eS)});function Z2(eQ,eR){var eS=eQ.coordinateSystem;eO|=eS.hasAxisBrushed();eJ(eR)&&eS.eachActiveState(eQ.getData(),function(eT,eU){eT==="active"&&(eL[eU]=1)})}function XY(eQ,eR,eT){var eS=Nu(eQ);if(!eS||VE(eM,eR)){return}Dc(eK,function(eV){eS[eV.brushType]&&eM.brushTargetManager.controlSeries(eV,eQ,e)&&eT.push(eV);eO|=eF(eT)});if(eJ(eR)&&eF(eT)){var eU=eQ.getData();eU.each(function(eV){if(AA(eS,eT,eU,eV)){eL[eV]=1}})}}e.eachSeries(function(eR,eS){var eT={seriesId:eR.id,seriesIndex:eS,seriesName:eR.name,dataIndex:[]};eG.selected.push(eT);var eU=Nu(eR);var eV=eH[eS];var eW=eR.getData();var eQ=eJ(eS)?function(eX){return eL[eX]?(eT.dataIndex.push(eW.getRawIndex(eX)),"inBrush"):"outOfBrush"}:function(eX){return AA(eU,eV,eW,eX)?(eT.dataIndex.push(eW.getRawIndex(eX)),"inBrush"):"outOfBrush"};(eJ(eS)?eO:eF(eV))&&Ci(Av,eP,eW,eQ)})});Kq(PI,Z,k,v,i)});function Kq(WH,Z,v,PI,k){if(!k){return}var e=WH.getZr();if(e[XC]){return}if(!e[Yt]){e[Yt]=GO}var i=W3(e,Yt,v,Z);i(WH,PI)}function GO(i,e){if(!i.isDisposed()){var Z=i.getZr();Z[XC]=true;i.dispatchAction({type:"brushSelect",batch:e});Z[XC]=false}}function AA(PI,WH,XY,Z){for(var e=0,v=WH.length;e<v;e++){var k=WH[e];if(PI[k.brushType](Z,XY,k.selectors,k)){return true}}}function Nu(Z){var i=Z.brushSelector;if(DY(i)){var e=[];Dc(FV,function(v,PI){e[PI]=function(WH,eF,Z2,XY){var cc=eF.getItemLayout(WH);return v[i](cc,Z2,XY)}});return e}else{if(dU(i)){var k={};Dc(FV,function(v,PI){k[PI]=i});return k}}return i}function VE(e,Z){var i=e.option.seriesIndex;return i!=null&&i!=="all"&&(aO(i)?Fx(i,Z)<0:Z!==i)}function Xx(e){var Z=e.selectors={};Dc(FV[e.brushType],function(k,i){Z[i]=function(v){return k(v,Z,e)}});return e}var ZC={lineX:ed,lineY:ed,rect:function(Z){return YW(Z.range)},polygon:function(WH){var e;var PI=WH.range;for(var Z=0,v=PI.length;Z<v;Z++){e=e||[[Infinity,-Infinity],[Infinity,-Infinity]];var k=PI[Z];k[0]<e[0][0]&&(e[0][0]=k[0]);k[0]>e[0][1]&&(e[0][1]=k[0]);k[1]<e[1][0]&&(e[1][0]=k[1]);k[1]>e[1][1]&&(e[1][1]=k[1])}return e&&YW(e)}};function YW(Z){return new FC(Z[0][0],Z[1][0],Z[0][1]-Z[0][0],Z[1][1]-Z[1][0])}var IE=["#ddd"];var ZV=GV({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:true,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:true,z:10000},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(Z,e){var i=this.option;!e&&Zc(i,Z,["inBrush","outOfBrush"]);i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:IE}},setAreas:function(Z){if(Vo){Re(aO(Z));Dc(Z,function(e){Re(e.brushType,"Illegal areas")})}if(!Z){return}this.areas=PK(Z,function(e){return T5(this.option,e)},this)},setBrushOption:function(Z){this.brushOption=T5(this.option,Z);this.brushType=this.brushOption.brushType}});function T5(Z,e){return KT({brushType:Z.brushType,brushMode:Z.brushMode,transformable:Z.transformable,brushStyle:new dc(Z.brushStyle).getItemStyle(),removeOnClick:Z.removeOnClick,z:Z.z},e,true)}bX({type:"brush",init:function(Z,e){this.ecModel=Z;this.api=e;this.model;(this._brushController=new WS(e.getZr())).on("brush",b3(this._onBrush,this)).mount()},render:function(Z){this.model=Z;return FS.apply(this,arguments)},updateView:FS,updateLayout:FS,updateVisual:FS,dispose:function(){this._brushController.dispose()},_onBrush:function(Z,e){var i=this.model.id;this.model.brushTargetManager.setOutputRanges(Z,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:i,areas:dp(Z),$from:i})}});function FS(i,e,k,Z){(!Z||Z.$from!==i.id)&&this._brushController.setPanels(i.brushTargetManager.makePanelOpts(k)).enableBrush(i.brushOption).updateCovers(i.areas.slice())}R0({type:"brush",event:"brush",update:"updateView"},function(e,Z){Z.eachComponent({mainType:"brush",query:e},function(i){i.setAreas(e.areas)})});R0({type:"brushSelect",event:"brushSelected",update:"none"},function(){});var ds={};function EZ(e,Z){ds[e]=Z}function QV(Z){return ds[Z]}var CN={toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}}};var CD=CN.toolbox.brush;function a2(i,Z,e){this.model=i;this.ecModel=Z;this.api=e;this._brushType;this._brushMode}a2.defaultOption={show:true,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:dp(CD.title)};var Eo=a2.prototype;Eo.render=Eo.updateView=Eo.updateLayout=function(v,Z,PI){var e;var k;var i;Z.eachComponent({mainType:"brush"},function(WH){e=WH.brushType;k=WH.brushOption.brushMode||"single";i|=WH.areas.length});this._brushType=e;this._brushMode=k;Dc(v.get("type",true),function(WH){v.setIconStatus(WH,(WH==="keep"?k==="multiple":WH==="clear"?i:WH===e)?"emphasis":"normal")})};Eo.getIcons=function(){var e=this.model;var i=e.get("icon",true);var Z={};Dc(e.get("type",true),function(k){if(i[k]){Z[k]=i[k]}});return Z};Eo.onclick=function(e,v,Z){var k=this._brushType;var i=this._brushMode;if(Z==="clear"){v.dispatchAction({type:"axisAreaSelect",intervals:[]});v.dispatchAction({type:"brush",command:"clear",areas:[]})}else{v.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:Z==="keep"?k:(k===Z?false:Z),brushMode:Z==="keep"?(i==="multiple"?"single":"multiple"):i}})}};EZ("brush",a2);IL(d8);var z=86400000;function Vp(Z,e,i){this._model=Z}Vp.prototype={constructor:Vp,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"}]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(v){v=AS(v);var k=v.getFullYear();var i=v.getMonth()+1;i=i<10?"0"+i:i;var Z=v.getDate();Z=Z<10?"0"+Z:Z;var e=v.getDay();e=Math.abs((e+7-this.getFirstDayOfWeek())%7);return{y:k,m:i,d:Z,day:e,time:v.getTime(),formatedDate:k+"-"+i+"-"+Z,date:v}},getNextNDay:function(e,Z){Z=Z||0;if(Z===0){return this.getDateInfo(e)}e=new Date(this.getDateInfo(e).time);e.setDate(e.getDate()+Z);return this.getDateInfo(e)},update:function(e,Z2){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay");this._orient=this._model.get("orient");this._lineWidth=this._model.getModel("itemStyle.normal").getItemStyle().lineWidth||0;this._rangeInfo=this._getRangeInfo(this._initRangeOption());var PI=this._rangeInfo.weeks||1;var Z=["width","height"];var i=this._model.get("cellSize").slice();var WH=this._model.getBoxLayoutParams();var cc=this._orient==="horizontal"?[PI,7]:[7,PI];Dc([0,1],function(eF){if(v(i,eF)){WH[Z[eF]]=i[eF]*cc[eF]}});var XY={width:Z2.getWidth(),height:Z2.getHeight()};var k=this._rect=CC(WH,XY);Dc([0,1],function(eF){if(!v(i,eF)){i[eF]=k[Z[eF]]/cc[eF]}});function v(eF,eG){return eF[eG]!=null&&eF[eG]!=="auto"}this._sw=i[0];this._sh=i[1]},dataToPoint:function(WH,i){aO(WH)&&(WH=WH[0]);i==null&&(i=true);var e=this.getDateInfo(WH);var PI=this._rangeInfo;var v=e.formatedDate;if(i&&!(e.time>=PI.start.time&&e.time<=PI.end.time)){return[NaN,NaN]}var Z=e.day;var k=this._getRangeInfo([PI.start.time,v]).nthWeek;if(this._orient==="vertical"){return[this._rect.x+Z*this._sw+this._sw/2,this._rect.y+k*this._sh+this._sh/2]}return[this._rect.x+k*this._sw+this._sw/2,this._rect.y+Z*this._sh+this._sh/2]},pointToData:function(Z){var e=this.pointToDate(Z);return e&&e.time},dataToRect:function(i,e){var Z=this.dataToPoint(i,e);return{contentShape:{x:Z[0]-(this._sw-this._lineWidth)/2,y:Z[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:Z,tl:[Z[0]-this._sw/2,Z[1]-this._sh/2],tr:[Z[0]+this._sw/2,Z[1]-this._sh/2],br:[Z[0]+this._sw/2,Z[1]+this._sh/2],bl:[Z[0]-this._sw/2,Z[1]+this._sh/2]}},pointToDate:function(e){var Z=Math.floor((e[0]-this._rect.x)/this._sw)+1;var i=Math.floor((e[1]-this._rect.y)/this._sh)+1;var k=this._rangeInfo.range;if(this._orient==="vertical"){return this._getDateByWeeksAndDay(i,Z-1,k)}return this._getDateByWeeksAndDay(Z,i-1,k)},convertToPixel:aT(Gf,"dataToPoint"),convertFromPixel:aT(Gf,"pointToData"),_initRangeOption:function(){var v=this._model.get("range");var i=v;if(aO(i)&&i.length===1){i=i[0]}if(/^\d{4}$/.test(i)){v=[i+"-01-01",i+"-12-31"]}if(/^\d{4}[\/|-]\d{1,2}$/.test(i)){var PI=this.getDateInfo(i);var e=PI.date;e.setMonth(e.getMonth()+1);var k=this.getNextNDay(e,-1);v=[PI.formatedDate,k.formatedDate]}if(/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(i)){v=[i,i]}var Z=this._getRangeInfo(v);if(Z.start.time>Z.end.time){v.reverse()}return v},_getRangeInfo:function(XY){XY=[this.getDateInfo(XY[0]),this.getDateInfo(XY[1])];var v;if(XY[0].time>XY[1].time){v=true;XY.reverse()}var Z2=Math.floor(XY[1].time/z)-Math.floor(XY[0].time/z)+1;var i=new Date(XY[0].time);var k=i.getDate();var e=XY[1].date.getDate();i.setDate(k+Z2-1);if(i.getDate()!==e){var PI=i.getTime()-XY[1].time>0?1:-1;while(i.getDate()!==e&&(i.getTime()-XY[1].time)*PI>0){Z2-=PI;i.setDate(k+Z2-1)}}var WH=Math.floor((Z2+XY[0].day+6)/7);var Z=v?-WH+1:WH-1;v&&XY.reverse();return{range:[XY[0].formatedDate,XY[1].formatedDate],start:XY[0],end:XY[1],allDay:Z2,weeks:WH,nthWeek:Z,fweek:XY[0].day,lweek:XY[1].day}},_getDateByWeeksAndDay:function(k,i,PI){var v=this._getRangeInfo(PI);if(k>v.weeks||(k===0&&i<v.fweek)||(k===v.weeks&&i>v.lweek)){return false}var Z=(k-1)*7-v.fweek+i;var e=new Date(v.start.time);e.setDate(v.start.d+Z);return this.getDateInfo(e)}};Vp.dimensions=Vp.prototype.dimensions;Vp.getDimensionsInfo=Vp.prototype.getDimensionsInfo;Vp.create=function(Z,i){var e=[];Z.eachComponent("calendar",function(v){var k=new Vp(v,Z,i);e.push(k);v.coordinateSystem=k});Z.eachSeries(function(k){if(k.get("coordinateSystem")==="calendar"){k.coordinateSystem=e[k.get("calendarIndex")||0]}});return e};function Gf(i,e,PI,v){var Z=PI.calendarModel;var k=PI.seriesModel;var WH=Z?Z.coordinateSystem:k?k.coordinateSystem:null;return WH===this?WH[i](v):null}Ql.register("calendar",Vp);var LF=C8.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:true,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{normal:{color:"#fff",borderWidth:1,borderColor:"#ccc"}},dayLabel:{show:true,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:true,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:true,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(e,v,i,k){var Z=X2(e);LF.superApply(this,"init",arguments);Wp(e,Z)},mergeOption:function(Z,e){LF.superApply(this,"mergeOption",arguments);Wp(this.option,Z)}});function Wp(i,k){var e=i.cellSize;if(!aO(e)){e=i.cellSize=[e,e]}else{if(e.length===1){e[1]=e[0]}}var Z=PK([0,1],function(v){if(Tq(k,v)){e[v]="auto"}return e[v]!=null&&e[v]!=="auto"});aW(i,k,{type:"box",ignoreSize:Z})}var FZ={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["","","","","","","","","","","",""]};var B5={EN:["S","M","T","W","T","F","S"],CN:["","","","","","",""]};bX({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(Z,i,PI){var v=this.group;v.removeAll();var k=Z.coordinateSystem;var e=k.getRangeInfo();var WH=k.getOrient();this._renderDayRect(Z,e,v);this._renderLines(Z,e,WH,v);this._renderYearText(Z,e,WH,v);this._renderMonthText(Z,WH,v);this._renderWeekText(Z,e,WH,v)},_renderDayRect:function(v,k,WH){var Z=v.coordinateSystem;var XY=v.getModel("itemStyle.normal").getItemStyle();var PI=Z.getCellWidth();var cc=Z.getCellHeight();for(var Z2=k.start.time;Z2<=k.end.time;Z2=Z.getNextNDay(Z2,1).time){var eF=Z.dataToRect([Z2],false).tl;var e=new BI({shape:{x:eF[0],y:eF[1],width:PI,height:cc},cursor:"default",style:XY});WH.add(e)}},_renderLines:function(v,k,Z2,XY){var eG=this;var Z=v.coordinateSystem;var e=v.getModel("splitLine.lineStyle").getLineStyle();var eI=v.get("splitLine.show");var cc=e.lineWidth;this._tlpoints=[];this._blpoints=[];this._firstDayOfMonth=[];this._firstDayPoints=[];var PI=k.start;for(var WH=0;PI.time<=k.end.time;WH++){eF(PI.formatedDate);if(WH===0){PI=Z.getDateInfo(k.start.y+"-"+k.start.m)}var eH=PI.date;eH.setMonth(eH.getMonth()+1);PI=Z.getDateInfo(eH)}eF(Z.getNextNDay(k.end.time,1).formatedDate);function eF(eJ){eG._firstDayOfMonth.push(Z.getDateInfo(eJ));eG._firstDayPoints.push(Z.dataToRect([eJ],false).tl);var i=eG._getLinePointsOfOneWeek(v,eJ,Z2);eG._tlpoints.push(i[0]);eG._blpoints.push(i[i.length-1]);eI&&eG._drawSplitline(i,e,XY)}eI&&this._drawSplitline(eG._getEdgesPoints(eG._tlpoints,cc,Z2),e,XY);eI&&this._drawSplitline(eG._getEdgesPoints(eG._blpoints,cc,Z2),e,XY)},_getEdgesPoints:function(i,k,v){var Z=[i[0].slice(),i[i.length-1].slice()];var e=v==="horizontal"?0:1;Z[0][e]=Z[0][e]-k/2;Z[1][e]=Z[1][e]+k/2;return Z},_drawSplitline:function(i,e,Z){var k=new I3({z2:20,shape:{points:i},style:e});Z.add(k)},_getLinePointsOfOneWeek:function(e,Z2,v){var Z=e.coordinateSystem;Z2=Z.getDateInfo(Z2);var PI=[];for(var k=0;k<7;k++){var XY=Z.getNextNDay(Z2.time,k);var WH=Z.dataToRect([XY.time],false);PI[2*XY.day]=WH.tl;PI[2*XY.day+1]=WH[v==="horizontal"?"bl":"tr"]}return PI},_formatterLabel:function(Z,e){if(typeof Z==="string"&&Z){return F1(Z,e)}if(typeof Z==="function"){return Z(e)}return e.nameMap},_yearTextPositionControl:function(WH,i,PI,k,Z){i=i.slice();var e=["center","bottom"];if(k==="bottom"){i[1]+=Z;e=["center","top"]}else{if(k==="left"){i[0]-=Z}else{if(k==="right"){i[0]+=Z;e=["center","top"]}else{i[1]-=Z}}}var v=0;if(k==="left"||k==="right"){v=Math.PI/2}return{rotation:v,position:i,style:{textAlign:e[0],textVerticalAlign:e[1]}}},_renderYearText:function(WH,Z2,XY,eI){var v=WH.getModel("yearLabel");if(!v.get("show")){return}var PI=v.get("margin");var eK=v.get("position");if(!eK){eK=XY!=="horizontal"?"top":"left"}var cc=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]];var i=(cc[0][0]+cc[1][0])/2;var k=(cc[0][1]+cc[1][1])/2;var eL=XY==="horizontal"?0:1;var eF={top:[i,cc[eL][1]],bottom:[i,cc[1-eL][1]],left:[cc[1-eL][0],k],right:[cc[eL][0],k]};var eJ=Z2.start.y;if(+Z2.end.y>+Z2.start.y){eJ=eJ+"-"+Z2.end.y}var e=v.get("formatter");var eH={start:Z2.start.y,end:Z2.end.y,nameMap:eJ};var eG=this._formatterLabel(e,eH);var Z=new FA({z2:30});Dw(Z.style,v,{text:eG}),Z.attr(this._yearTextPositionControl(Z,eF[eK],XY,eK,PI));eI.add(Z)},_monthTextPositionControl:function(XY,e,k,v,Z){var i="left";var Z2="top";var PI=XY[0];var WH=XY[1];if(k==="horizontal"){WH=WH+Z;if(e){i="center"}if(v==="start"){Z2="bottom"}}else{PI=PI+Z;if(e){Z2="middle"}if(v==="start"){i="right"}}return{x:PI,y:WH,textAlign:i,textVerticalAlign:Z2}},_renderMonthText:function(eF,Z2,eK){var eQ=eF.getModel("monthLabel");if(!eQ.get("show")){return}var cc=eQ.get("nameMap");var PI=eQ.get("margin");var eN=eQ.get("position");var k=eQ.get("align");var Z=[this._tlpoints,this._blpoints];if(DY(cc)){cc=FZ[cc.toUpperCase()]||[]}var eO=eN==="start"?0:1;var eI=Z2==="horizontal"?0:1;PI=eN==="start"?-PI:PI;var eH=(k==="center");for(var XY=0;XY<Z[eO].length-1;XY++){var e=Z[eO][XY].slice();var WH=this._firstDayOfMonth[XY];if(eH){var eL=this._firstDayPoints[XY];e[eI]=(eL[eI]+Z[0][XY+1][eI])/2}var eG=eQ.get("formatter");var eM=cc[+WH.m-1];var eJ={yyyy:WH.y,yy:(WH.y+"").slice(2),MM:WH.m,M:+WH.m,nameMap:eM};var v=this._formatterLabel(eG,eJ);var eP=new FA({z2:30});V8(Dw(eP.style,eQ,{text:v}),this._monthTextPositionControl(e,eH,Z2,eN,PI));eK.add(eP)}},_weekTextPositionControl:function(XY,k,v,Z,i){var e="center";var cc="middle";var PI=XY[0];var WH=XY[1];var Z2=v==="start";if(k==="horizontal"){PI=PI+Z+(Z2?1:-1)*i[0]/2;e=Z2?"right":"left"}else{WH=WH+Z+(Z2?1:-1)*i[1]/2;cc=Z2?"bottom":"top"}return{x:PI,y:WH,textAlign:e,textVerticalAlign:cc}},_renderWeekText:function(PI,eF,XY,eI){var eJ=PI.getModel("dayLabel");if(!eJ.get("show")){return}var eG=PI.coordinateSystem;var eL=eJ.get("position");var cc=eJ.get("nameMap");var v=eJ.get("margin");var Z=eG.getFirstDayOfWeek();if(DY(cc)){cc=B5[cc.toUpperCase()]||[]}var eM=eG.getNextNDay(eF.end.time,(7-eF.lweek)).time;var e=[eG.getCellWidth(),eG.getCellHeight()];v=OC(v,e[XY==="horizontal"?0:1]);if(eL==="start"){eM=eG.getNextNDay(eF.start.time,-(7+eF.fweek)).time;v=-v}for(var WH=0;WH<7;WH++){var eH=eG.getNextNDay(eM,WH);var k=eG.dataToRect([eH.time],false).center;var eK=WH;eK=Math.abs((WH+Z)%7);var Z2=new FA({z2:30});V8(Dw(Z2.style,eJ,{text:cc[eK]}),this._weekTextPositionControl(k,XY,eL,v,e));eI.add(Z2)}}});GV({type:"title",layoutMode:{type:"box",ignoreSize:true},defaultOption:{zlevel:0,z:6,show:true,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}});bX({type:"title",render:function(eF,i,v){this.group.removeAll();if(!eF.get("show")){return}var eI=this.group;var Z2=eF.getModel("textStyle");var eL=eF.getModel("subtextStyle");var WH=eF.get("textAlign");var e=eF.get("textBaseline");var eM=new FA({style:Dw({},Z2,{text:eF.get("text"),textFill:Z2.getTextColor()},{disableBox:true}),z2:10});var eP=eM.getBoundingRect();var eN=eF.get("subtext");var eK=new FA({style:Dw({},eL,{text:eN,textFill:eL.getTextColor(),y:eP.height+eF.get("itemGap"),textVerticalAlign:"top"},{disableBox:true}),z2:10});var eG=eF.get("link");var eJ=eF.get("sublink");eM.silent=!eG;eK.silent=!eJ;if(eG){eM.on("click",function(){window.open(eG,"_"+eF.get("target"))})}if(eJ){eK.on("click",function(){window.open(eJ,"_"+eF.get("subtarget"))})}eI.add(eM);eN&&eI.add(eK);var k=eI.getBoundingRect();var XY=eF.getBoxLayoutParams();XY.width=k.width;XY.height=k.height;var eH=CC(XY,{width:v.getWidth(),height:v.getHeight()},eF.get("padding"));if(!WH){WH=eF.get("left")||eF.get("right");if(WH==="middle"){WH="center"}if(WH==="right"){eH.x+=eH.width}else{if(WH==="center"){eH.x+=eH.width/2}}}if(!e){e=eF.get("top")||eF.get("bottom");if(e==="center"){e="middle"}if(e==="bottom"){eH.y+=eH.height}else{if(e==="middle"){eH.y+=eH.height/2}}e=e||"top"}eI.attr("position",[eH.x,eH.y]);var Z={textAlign:WH,textVerticalAlign:e};eM.setStyle(Z);eK.setStyle(Z);k=eI.getBoundingRect();var cc=eH.margin;var eO=eF.getItemStyle(["color","opacity"]);eO.fill=eF.get("backgroundColor");var PI=new BI({shape:{x:k.x-cc[3],y:k.y-cc[0],width:k.width+cc[1]+cc[3],height:k.height+cc[0]+cc[2],r:eF.get("borderRadius")},style:eO,silent:true});Bb(PI);eI.add(PI)}});C8.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var Cs=["x","y","z","radius","angle","single"];var S8=["cartesian2d","polar","singleAxis"];function GE(Z){return Fx(S8,Z)>=0}function Rg(i,Z){i=i.slice();var e=PK(i,FK);Z=(Z||[]).slice();var k=PK(Z,FK);return function(v,PI){Dc(i,function(XY,Z2){var WH={name:XY,capital:e[Z2]};for(var cc=0;cc<Z.length;cc++){WH[Z[cc]]=XY+k[cc]}v.call(PI,WH)})}}var IO=Rg(Cs,["axisIndex","axis","index","id"]);function DB(Z,k,e){return function(WH){var XY={nodes:[],records:{}};k(function(eF){XY.records[eF.name]={}});if(!WH){return XY}PI(WH,XY);var cc;do{cc=false;Z(Z2)}while(cc);function Z2(eF){if(!i(eF,XY)&&v(eF,XY)){PI(eF,XY);cc=true}}return XY};function i(XY,WH){return Fx(WH.nodes,XY)>=0}function v(XY,WH){var Z2=false;k(function(cc){Dc(e(XY,cc)||[],function(eF){WH.records[cc.name][eF]&&(Z2=true)})});return Z2}function PI(XY,WH){WH.nodes.push(XY);k(function(Z2){Dc(e(XY,Z2)||[],function(cc){WH.records[Z2.name][cc]=true})})}}var Yz=Dc;var I4=FB;var x=function(e,k,i,Z){this._dimName=e;this._axisIndex=k;this._valueWindow;this._percentWindow;this._dataExtent;this._minMaxSpan;this.ecModel=Z;this._dataZoomModel=i};x.prototype={constructor:x,hostedBy:function(Z){return this._dataZoomModel===Z},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var e=[];var Z=this.ecModel;Z.eachSeries(function(i){if(GE(i.get("coordinateSystem"))){var v=this._dimName;var k=Z.queryComponents({mainType:v+"Axis",index:i.get(v+"AxisIndex"),id:i.get(v+"AxisId")})[0];if(this._axisIndex===(k&&k.componentIndex)){e.push(i)}}},this);return e},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var PI=this._dimName;var i=this.ecModel;var k=this.getAxisModel();var v=PI==="x"||PI==="y";var e;var Z;if(v){Z="gridIndex";e=PI==="x"?"y":"x"}else{Z="polarIndex";e=PI==="angle"?"radius":"angle"}var WH;i.eachComponent(e+"Axis",function(XY){if((XY.get(Z)||0)===(k.get(Z)||0)){WH=XY}});return WH},getMinMaxSpan:function(){return dp(this._minMaxSpan)},calculateDataWindow:function(e){var i=this._dataExtent;var k=this.getAxisModel();var Z=k.axis.scale;var PI=this._dataZoomModel.getRangePropMode();var v=[0,100];var WH=[e.start,e.end];var XY=[];Yz(["startValue","endValue"],function(Z2){XY.push(e[Z2]!=null?Z.parse(e[Z2]):null)});Yz([0,1],function(cc){var Z2=XY[cc];var eF=WH[cc];if(PI[cc]==="percent"){if(eF==null){eF=v[cc]}Z2=Z.parse(WL(eF,v,i,true))}else{eF=WL(Z2,i,v,true)}XY[cc]=Z2;WH[cc]=eF});return{valueWindow:I4(XY),percentWindow:I4(WH)}},reset:function(e){if(e!==this._dataZoomModel){return}this._dataExtent=RQ(this,this._dimName,this.getTargetSeriesModels());var Z=this.calculateDataWindow(e.option);this._valueWindow=Z.valueWindow;this._percentWindow=Z.percentWindow;E(this);PN(this)},restore:function(Z){if(Z!==this._dataZoomModel){return}this._valueWindow=this._percentWindow=null;PN(this,true)},filterData:function(PI){if(PI!==this._dataZoomModel){return}var e=this._dimName;var i=this.getTargetSeriesModels();var v=PI.get("filterMode");var Z=this._valueWindow;if(v==="none"){return}var WH=this.getOtherAxisModel();if(PI.get("$fromToolbox")&&WH&&WH.get("type")==="category"){v="empty"}Yz(i,function(Z2){var cc=Z2.getData();var XY=Z2.coordDimToDataDim(e);if(v==="weakFilter"){cc&&cc.filterSelf(function(eL){var eF;var eI;var eM;for(var eK=0;eK<XY.length;eK++){var eJ=cc.get(XY[eK],eL);var eH=!isNaN(eJ);var eN=eJ<Z[0];var eG=eJ>Z[1];if(eH&&!eN&&!eG){return true}eH&&(eM=true);eN&&(eF=true);eG&&(eI=true)}return eM&&eF&&eI})}else{cc&&Yz(XY,function(eF){if(v==="empty"){Z2.setData(cc.map(eF,function(eG){return !k(eG)?NaN:eG}))}else{cc.filterSelf(eF,k)}})}});function k(XY){return XY>=Z[0]&&XY<=Z[1]}}};function RQ(e,i,Z){var k=[Infinity,-Infinity];Yz(Z,function(v){var PI=v.getData();if(PI){Yz(v.coordDimToDataDim(i),function(WH){var XY=PI.getDataExtent(WH);XY[0]<k[0]&&(k[0]=XY[0]);XY[1]>k[1]&&(k[1]=XY[1])})}});if(k[1]<k[0]){k=[NaN,NaN]}bV(e,k);return k}function bV(v,PI){var i=v.getAxisModel();var Z=i.getMin(true);var k=i.get("type")==="category";var e=k&&(i.get("data")||[]).length;if(Z!=null&&Z!=="dataMin"&&typeof Z!=="function"){PI[0]=Z}else{if(k){PI[0]=e>0?0:NaN}}var WH=i.getMax(true);if(WH!=null&&WH!=="dataMax"&&typeof WH!=="function"){PI[1]=WH}else{if(k){PI[1]=e>0?e-1:NaN}}if(!i.get("scale",true)){PI[0]>0&&(PI[0]=0);PI[1]<0&&(PI[1]=0)}return PI}function PN(v,WH){var i=v.getAxisModel();var k=v._percentWindow;var Z=v._valueWindow;if(!k){return}var e=a6(Z,[0,500]);e=Math.min(e,20);var PI=WH||(k[0]===0&&k[1]===100);i.setRange(PI?null:+Z[0].toFixed(e),PI?null:+Z[1].toFixed(e))}function E(e){var Z=e._minMaxSpan={};var i=e._dataZoomModel;Yz(["min","max"],function(k){Z[k+"Span"]=i.get(k+"Span");var PI=i.get(k+"ValueSpan");if(PI!=null){Z[k+"ValueSpan"]=PI;PI=e.getAxisModel().axis.scale.parse(PI);if(PI!=null){var v=e._dataExtent;Z[k+"Span"]=WL(v[0]+PI,v,[0,100],true)}}})}var Yy=Dc;var n=IO;var av=GV({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(Z,k,i){this._dataIntervalByAxis={};this._dataInfo={};this._axisProxies={};this.textStyleModel;this._autoThrottle=true;this._rangePropMode=["percent","percent"];var e=Py(Z);this.mergeDefaultAndTheme(Z,i);this.doInit(e)},mergeOption:function(e){var Z=Py(e);KT(this.option,e,true);this.doInit(Z)},doInit:function(Z){var e=this.option;if(!PF.canvasSupported){e.realtime=false}this._setDefaultThrottle(Z);QS(this,Z);Yy([["start","startValue"],["end","endValue"]],function(k,i){if(this._rangePropMode[i]==="value"){e[k[0]]=null}},this);this.textStyleModel=this.getModel("textStyle");this._resetTarget();this._giveAxisProxies()},_giveAxisProxies:function(){var Z=this._axisProxies;this.eachTargetAxis(function(v,WH,PI,i){var k=this.dependentModels[v.axis][WH];var e=k.__dzAxisProxy||(k.__dzAxisProxy=new x(v.name,WH,this,i));Z[v.name+"_"+WH]=e},this)},_resetTarget:function(){var e=this.option;var Z=this._judgeAutoMode();n(function(i){var k=i.axisIndex;e[k]=Xf(e[k])},this);if(Z==="axisIndex"){this._autoSetAxisIndex()}else{if(Z==="orient"){this._autoSetOrient()}}},_judgeAutoMode:function(){var i=this.option;var Z=false;n(function(k){if(i[k.axisIndex]!=null){Z=true}},this);var e=i.orient;if(e==null&&Z){return"orient"}else{if(!Z){if(e==null){i.orient="horizontal"}return"axisIndex"}}},_autoSetAxisIndex:function(){var i=true;var k=this.get("orient",true);var v=this.option;var Z=this.dependentModels;if(i){var e=k==="vertical"?"y":"x";if(Z[e+"Axis"].length){v[e+"AxisIndex"]=[0];i=false}else{Yy(Z.singleAxis,function(PI){if(i&&PI.get("orient",true)===k){v.singleAxisIndex=[PI.componentIndex];i=false}})}}if(i){n(function(XY){if(!i){return}var PI=[];var cc=this.dependentModels[XY.axis];if(cc.length&&!PI.length){for(var WH=0,Z2=cc.length;WH<Z2;WH++){if(cc[WH].get("type")==="category"){PI.push(WH)}}}v[XY.axisIndex]=PI;if(PI.length){i=false}},this)}if(i){this.ecModel.eachSeries(function(PI){if(this._isSeriesHasAllAxesTypeOf(PI,"value")){n(function(Z2){var WH=v[Z2.axisIndex];var eF=PI.get(Z2.axisIndex);var cc=PI.get(Z2.axisId);var XY=PI.ecModel.queryComponents({mainType:Z2.axis,index:eF,id:cc})[0];if(Vo){if(!XY){throw new Error(Z2.axis+' "'+Ew(eF,cc,0)+'" not found')}}eF=XY.componentIndex;if(Fx(WH,eF)<0){WH.push(eF)}})}},this)}},_autoSetOrient:function(){var Z;this.eachTargetAxis(function(e){!Z&&(Z=e.name)},this);this.option.orient=Z==="y"?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(e,i){var Z=true;n(function(PI){var k=e.get(PI.axisIndex);var v=this.dependentModels[PI.axis][k];if(!v||v.get("type")!==i){Z=false}},this);return Z},_setDefaultThrottle:function(Z){if(Z.hasOwnProperty("throttle")){this._autoThrottle=false}if(this._autoThrottle){var e=this.ecModel.option;this.option.throttle=(e.animation&&e.animationDurationUpdate>0)?100:20}},getFirstTargetAxisModel:function(){var Z;n(function(i){if(Z==null){var e=this.get(i.axisIndex);if(e.length){Z=this.dependentModels[i.axis][e[0]]}}},this);return Z},eachTargetAxis:function(Z,e){var i=this.ecModel;n(function(k){Yy(this.get(k.axisIndex),function(v){Z.call(e,k,v,this,i)},this)},this)},getAxisProxy:function(Z,e){return this._axisProxies[Z+"_"+e]},getAxisModel:function(Z,i){var e=this.getAxisProxy(Z,i);return e&&e.getAxisModel()},setRawRange:function(e,i){var Z=this.option;Yy([["start","startValue"],["end","endValue"]],function(k){if(e[k[0]]!=null||e[k[1]]!=null){Z[k[0]]=e[k[0]];Z[k[1]]=e[k[1]]}},this);!i&&QS(this,e)},getPercentRange:function(){var Z=this.findRepresentativeAxisProxy();if(Z){return Z.getDataPercentWindow()}},getValueRange:function(i,Z){if(i==null&&Z==null){var e=this.findRepresentativeAxisProxy();if(e){return e.getDataValueWindow()}}else{return this.getAxisProxy(i,Z).getDataValueWindow()}},findRepresentativeAxisProxy:function(e){if(e){return e.__dzAxisProxy}var i=this._axisProxies;for(var Z in i){if(i.hasOwnProperty(Z)&&i[Z].hostedBy(this)){return i[Z]}}for(var Z in i){if(i.hasOwnProperty(Z)&&!i[Z].hostedBy(this)){return i[Z]}}},getRangePropMode:function(){return this._rangePropMode.slice()}});function Py(Z){var e={};Yy(["start","end","startValue","endValue","throttle"],function(i){Z.hasOwnProperty(i)&&(e[i]=Z[i])});return e}function QS(k,e){var i=k._rangePropMode;var Z=k.get("rangeMode");Yy([["start","startValue"],["end","endValue"]],function(WH,PI){var v=e[WH[0]]!=null;var XY=e[WH[1]]!=null;if(v&&!XY){i[PI]="percent"}else{if(!v&&XY){i[PI]="value"}else{if(Z){i[PI]=Z[PI]}else{if(v){i[PI]="percent"}}}}})}var O6=Ok.extend({type:"dataZoom",render:function(i,Z,k,e){this.dataZoomModel=i;this.ecModel=Z;this.api=k},getTargetCoordInfo:function(){var k=this.dataZoomModel;var e=this.ecModel;var i={};k.eachTargetAxis(function(WH,XY){var PI=e.getComponent(WH.axis,XY);if(PI){var v=PI.getCoordSysModel();v&&Z(v,PI,i[v.mainType]||(i[v.mainType]=[]),v.componentIndex)}},this);function Z(WH,XY,v,cc){var Z2;for(var PI=0;PI<v.length;PI++){if(v[PI].model===WH){Z2=v[PI];break}}if(!Z2){v.push(Z2={model:WH,axisModels:[],coordIndex:cc})}Z2.axisModels.push(XY)}return i}});var GM=av.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:true,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:0.5,opacity:0.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:0.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:true,showDataShadow:"auto",realtime:true,zoomLock:false,textStyle:{color:"#333"}}});var Cx=BI;var UN=WL;var I5=FB;var Dv=b3;var YA=Dc;var aN=7;var Ej=1;var Ms=30;var Uq="horizontal";var ZA="vertical";var a=5;var OP=["line","bar","candlestick","scatter"];var ZW=O6.extend({type:"dataZoom.slider",init:function(Z,e){this._displayables={};this._orient;this._range;this._handleEnds;this._size;this._handleWidth;this._handleHeight;this._location;this._dragging;this._dataShadowInfo;this.api=e},render:function(i,Z,k,e){ZW.superApply(this,"render",arguments);W3(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate");this._orient=i.get("orient");if(this.dataZoomModel.get("show")===false){this.group.removeAll();return}if(!e||e.type!=="dataZoom"||e.from!==this.uid){this._buildView()}this._updateView()},remove:function(){ZW.superApply(this,"remove",arguments);ee(this,"_dispatchZoomAction")},dispose:function(){ZW.superApply(this,"dispose",arguments);ee(this,"_dispatchZoomAction")},_buildView:function(){var e=this.group;e.removeAll();this._resetLocation();this._resetInterval();var Z=this._displayables.barGroup=new TD();this._renderBackground();this._renderHandle();this._renderDataShadow();e.add(Z);this._positionGroup()},_resetLocation:function(){var v=this.dataZoomModel;var PI=this.api;var Z=this._findCoordRect();var WH={width:PI.getWidth(),height:PI.getHeight()};var i=this._orient===Uq?{right:WH.width-Z.x-Z.width,top:(WH.height-Ms-aN),width:Z.width,height:Ms}:{right:aN,top:Z.y,width:Ms,height:Z.height};var e=X2(v.option);Dc(["right","top","width","height"],function(XY){if(e[XY]==="ph"){e[XY]=i[XY]}});var k=CC(e,WH,v.padding);this._location={x:k.x,y:k.y};this._size=[k.width,k.height];this._orient===ZA&&this._size.reverse()},_positionGroup:function(){var XY=this.group;var PI=this._location;var v=this._orient;var k=this.dataZoomModel.getFirstTargetAxisModel();var WH=k&&k.get("inverse");var Z=this._displayables.barGroup;var e=(this._dataShadowInfo||{}).otherAxisInverse;Z.attr((v===Uq&&!WH)?{scale:e?[1,1]:[1,-1]}:(v===Uq&&WH)?{scale:e?[-1,1]:[-1,-1]}:(v===ZA&&!WH)?{scale:e?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:e?[-1,-1]:[-1,1],rotation:Math.PI/2});var i=XY.getBoundingRect([Z]);XY.attr("position",[PI.x-i.x,PI.y-i.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var e=this.dataZoomModel;var Z=this._size;var i=this._displayables.barGroup;i.add(new Cx({silent:true,shape:{x:0,y:0,width:Z[0],height:Z[1]},style:{fill:e.get("backgroundColor")},z2:-40}));i.add(new Cx({shape:{x:0,y:0,width:Z[0],height:Z[1]},style:{fill:"transparent"},z2:0,onclick:b3(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var eF=this._dataShadowInfo=this._prepareDataShadowInfo();if(!eF){return}var WH=this._size;var PI=eF.series;var e=PI.getRawData();var k=PI.getShadowDim?PI.getShadowDim():eF.otherDim;if(k==null){return}var eK=e.getDataExtent(k);var eI=(eK[1]-eK[0])*0.3;eK=[eK[0]-eI,eK[1]+eI];var Z=[0,WH[1]];var v=[0,WH[0]];var eH=[[WH[0],0],[0,0]];var Z2=[];var cc=v[1]/(e.count()-1);var eG=0;var eJ=Math.round(e.count()/WH[0]);var i;e.each([k],function(eN,eM){if(eJ>0&&(eM%eJ)){eG+=cc;return}var eL=eN==null||isNaN(eN)||eN==="";var eO=eL?0:UN(eN,eK,Z,true);if(eL&&!i&&eM){eH.push([eH[eH.length-1][0],0]);Z2.push([Z2[Z2.length-1][0],0])}else{if(!eL&&i){eH.push([eG,0]);Z2.push([eG,0])}}eH.push([eG,eO]);Z2.push([eG,eO]);eG+=cc;i=eL});var XY=this.dataZoomModel;this._displayables.barGroup.add(new GN({shape:{points:eH},style:Id({fill:XY.get("dataBackgroundColor")},XY.getModel("dataBackground.areaStyle").getAreaStyle()),silent:true,z2:-20}));this._displayables.barGroup.add(new I3({shape:{points:Z2},style:XY.getModel("dataBackground.lineStyle").getLineStyle(),silent:true,z2:-19}))},_prepareDataShadowInfo:function(){var i=this.dataZoomModel;var k=i.get("showDataShadow");if(k===false){return}var Z;var e=this.ecModel;i.eachTargetAxis(function(PI,WH){var v=i.getAxisProxy(PI.name,WH).getTargetSeriesModels();Dc(v,function(XY){if(Z){return}if(k!==true&&Fx(OP,XY.get("type"))<0){return}var eF=e.getComponent(PI.axis,WH).axis;var eG=br(PI.name);var Z2;var cc=XY.coordinateSystem;if(eG!=null&&cc.getOtherAxis){Z2=cc.getOtherAxis(eF).inverse}Z={thisAxis:eF,series:XY,thisDim:PI.name,otherDim:eG,otherAxisInverse:Z2}},this)},this);return Z},_renderHandle:function(){var e=this._displayables;var i=e.handles=[];var v=e.handleLabels=[];var PI=this._displayables.barGroup;var Z=this._size;var k=this.dataZoomModel;PI.add(e.filler=new Cx({draggable:true,cursor:TF(this._orient),drift:Dv(this._onDragMove,this,"all"),onmousemove:function(WH){Gj(WH.event)},ondragstart:Dv(this._showDataInfo,this,true),ondragend:Dv(this._onDragEnd,this),onmouseover:Dv(this._showDataInfo,this,true),onmouseout:Dv(this._showDataInfo,this,false),style:{fill:k.get("fillerColor"),textPosition:"inside"}}));PI.add(new Cx(Bb({silent:true,shape:{x:0,y:0,width:Z[0],height:Z[1]},style:{stroke:k.get("dataBackgroundColor")||k.get("borderColor"),lineWidth:Ej,fill:"rgba(0,0,0,0)"}})));YA([0,1],function(Z2){var eF=Dp(k.get("handleIcon"),{cursor:TF(this._orient),draggable:true,drift:Dv(this._onDragMove,this,Z2),onmousemove:function(eG){Gj(eG.event)},ondragend:Dv(this._onDragEnd,this),onmouseover:Dv(this._showDataInfo,this,true),onmouseout:Dv(this._showDataInfo,this,false)},{x:-1,y:0,width:2,height:2});var XY=eF.getBoundingRect();this._handleHeight=OC(k.get("handleSize"),this._size[1]);this._handleWidth=XY.width/XY.height*this._handleHeight;eF.setStyle(k.getModel("handleStyle").getItemStyle());var cc=k.get("handleColor");if(cc!=null){eF.style.fill=cc}PI.add(i[Z2]=eF);var WH=k.textStyleModel;this.group.add(v[Z2]=new FA({silent:true,invisible:true,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:WH.getTextColor(),textFont:WH.getFont()},z2:10}))},this)},_resetInterval:function(){var Z=this._range=this.dataZoomModel.getPercentRange();var e=this._getViewExtent();this._handleEnds=[UN(Z[0],[0,100],e,true),UN(Z[1],[0,100],e,true)]},_updateInterval:function(k,e){var WH=this.dataZoomModel;var Z=this._handleEnds;var v=this._getViewExtent();var i=WH.findRepresentativeAxisProxy().getMinMaxSpan();var PI=[0,100];JK(e,Z,v,WH.get("zoomLock")?"all":k,i.minSpan!=null?UN(i.minSpan,PI,v,true):null,i.maxSpan!=null?UN(i.maxSpan,PI,v,true):null);this._range=I5([UN(Z[0],v,PI,true),UN(Z[1],v,PI,true)])},_updateView:function(e){var i=this._displayables;var Z=this._handleEnds;var v=I5(Z.slice());var k=this._size;YA([0,1],function(XY){var PI=i.handles[XY];var WH=this._handleHeight;PI.attr({scale:[WH/2,WH/2],position:[Z[XY],k[1]/2-WH/2]})},this);i.filler.setShape({x:v[0],y:0,width:v[1]-v[0],height:k[1]});this._updateDataInfo(e)},_updateDataInfo:function(Z){var XY=this.dataZoomModel;var e=this._displayables;var Z2=e.handleLabels;var cc=this._orient;var WH=["",""];if(XY.get("showDetail")){var k=XY.findRepresentativeAxisProxy();if(k){var i=k.getAxisModel().axis;var eG=this._range;var eF=Z?k.calculateDataWindow({start:eG[0],end:eG[1]}).valueWindow:k.getDataValueWindow();WH=[this._formatLabel(eF[0],i),this._formatLabel(eF[1],i)]}}var v=I5(this._handleEnds.slice());PI.call(this,0);PI.call(this,1);function PI(eJ){var eL=h(e.handles[eJ].parent,this.group);var eI=ai(eJ===0?"right":"left",eL);var eH=this._handleWidth/2+a;var eK=Bg([v[eJ]+(eJ===0?-eH:eH),this._size[1]/2],eL);Z2[eJ].setStyle({x:eK[0],y:eK[1],textVerticalAlign:cc===Uq?"middle":eI,textAlign:cc===Uq?eI:"center",text:WH[eJ]})}},_formatLabel:function(k,PI){var v=this.dataZoomModel;var e=v.get("labelFormatter");var i=v.get("labelPrecision");if(i==null||i==="auto"){i=PI.getPixelPrecision()}var Z=(k==null||isNaN(k))?"":(PI.type==="category"||PI.type==="time")?PI.scale.getLabel(Math.round(k)):k.toFixed(Math.min(i,20));return dU(e)?e(k,Z):DY(e)?e.replace("{value}",Z):Z},_showDataInfo:function(Z){Z=this._dragging||Z;var e=this._displayables.handleLabels;e[0].attr("invisible",!Z);e[1].attr("invisible",!Z)},_onDragMove:function(e,Z,i){this._dragging=true;var v=this._displayables.barGroup.getLocalTransform();var k=Bg([Z,i],v,true);this._updateInterval(e,k[0]);var PI=this.dataZoomModel.get("realtime");this._updateView(!PI);if(PI){PI&&this._dispatchZoomAction()}},_onDragEnd:function(){this._dragging=false;this._showDataInfo(false);this._dispatchZoomAction()},_onClickPanelClick:function(i){var Z=this._size;var PI=this._displayables.barGroup.transformCoordToLocal(i.offsetX,i.offsetY);if(PI[0]<0||PI[0]>Z[0]||PI[1]<0||PI[1]>Z[1]){return}var v=this._handleEnds;var k=(v[0]+v[1])/2;this._updateInterval("all",PI[0]-k);this._updateView();this._dispatchZoomAction()},_dispatchZoomAction:function(){var Z=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:Z[0],end:Z[1]})},_findCoordRect:function(){var e;YA(this.getTargetCoordInfo(),function(v){if(!e&&v.length){var k=v[0].model.coordinateSystem;e=k.getRect&&k.getRect()}});if(!e){var i=this.api.getWidth();var Z=this.api.getHeight();e={x:i*0.2,y:Z*0.2,width:i*0.6,height:Z*0.6}}return e}});function br(Z){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[Z]}function TF(Z){return Z==="vertical"?"ns-resize":"ew-resize"}av.extend({type:"dataZoom.inside",defaultOption:{disabled:false,zoomLock:false,zoomOnMouseWheel:true,moveOnMouseMove:true,preventDefaultMouseMove:true}});var Tf=aT;var FH="\0_ec_dataZoom_roams";function AM(WH,i){var e=Fw(WH);var Z=i.dataZoomId;var k=i.coordId;Dc(e,function(XY,Z2){var cc=XY.dataZoomInfos;if(cc[Z]&&Fx(i.allCoordIds,k)<0){delete cc[Z];XY.count--}});C6(e);var PI=e[k];if(!PI){PI=e[k]={coordId:k,dataZoomInfos:{},count:0};PI.controller=A7(WH,PI);PI.dispatchAction=aT(Ox,WH)}!(PI.dataZoomInfos[Z])&&PI.count++;PI.dataZoomInfos[Z]=i;var v=Lt(PI.dataZoomInfos);PI.controller.enable(v.controlType,v.opt);PI.controller.setPointerChecker(i.containsPoint);W3(PI,"dispatchAction",i.throttleRate,"fixRate")}function QP(i,e){var Z=Fw(i);Dc(Z,function(k){k.controller.dispose();var v=k.dataZoomInfos;if(v[e]){delete v[e];k.count--}});C6(Z)}function LL(k,e){if(k&&k.type==="dataZoom"&&k.batch){for(var Z=0,v=k.batch.length;Z<v;Z++){if(k.batch[Z].dataZoomId===e){return false}}}return true}function Hh(Z){return Z.type+"\0_"+Z.id}function Fw(e){var Z=e.getZr();return Z[FH]||(Z[FH]={})}function A7(e,Z){var i=new CQ(e.getZr());i.on("pan",Tf(S5,Z));i.on("zoom",Tf(Ll,Z));return i}function C6(Z){Dc(Z,function(e,i){if(!e.count){e.controller.dispose();delete Z[i]}})}function S5(k,i,v,Z,WH,e,PI){Zi(k,function(XY){return XY.panGetRange(k.controller,i,v,Z,WH,e,PI)})}function Ll(Z,i,e,k){Zi(Z,function(v){return v.zoomGetRange(Z.controller,i,e,k)})}function Zi(Z,i){var e=[];Dc(Z.dataZoomInfos,function(k){var v=i(k);!k.disabled&&v&&e.push({dataZoomId:k.dataZoomId,start:v[0],end:v[1]})});Z.dispatchAction(e)}function Ox(e,Z){e.dispatchAction({type:"dataZoom",batch:Z})}function Lt(k){var i;var e={};var Z={"true":2,"move":1,"false":0,"undefined":-1};Dc(k,function(v){var PI=v.disabled?false:v.zoomLock?"move":true;Z[PI]>Z[i]&&(i=PI);V8(e,v.roamControllerOpt)});return{controlType:i,opt:e}}var HE=b3;var Qa=O6.extend({type:"dataZoom.inside",init:function(Z,e){this._range},render:function(i,Z,k,e){Qa.superApply(this,"render",arguments);if(LL(e,i.id)){this._range=i.getPercentRange()}Dc(this.getTargetCoordInfo(),function(WH,v){var PI=PK(WH,function(XY){return Hh(XY.model)});Dc(WH,function(cc){var XY=cc.model;var Z2=i.option;AM(k,{coordId:Hh(XY),allCoordIds:PI,containsPoint:function(eF,eG,eH){return XY.coordinateSystem.containPoint([eG,eH])},dataZoomId:i.id,throttleRate:i.get("throttle",true),panGetRange:HE(this._onPan,this,cc,v),zoomGetRange:HE(this._onZoom,this,cc,v),zoomLock:Z2.zoomLock,disabled:Z2.disabled,roamControllerOpt:{zoomOnMouseWheel:Z2.zoomOnMouseWheel,moveOnMouseMove:Z2.moveOnMouseMove,preventDefaultMouseMove:Z2.preventDefaultMouseMove}})},this)},this)},dispose:function(){QP(this.api,this.dataZoomModel.id);Qa.superApply(this,"dispose",arguments);this._range=null},_onPan:function(PI,i,v,Z2,WH,Z,eG,eH,eF){var cc=this._range.slice();var k=PI.axisModels[0];if(!k){return}var XY=cC[i]([Z,eG],[eH,eF],k,v,PI);var e=XY.signal*(cc[1]-cc[0])*XY.pixel/XY.pixelLength;JK(e,cc,[0,100],"all");return(this._range=cc)},_onZoom:function(WH,Z,PI,i,Z2,XY){var cc=this._range.slice();var k=WH.axisModels[0];if(!k){return}var v=cC[Z](null,[Z2,XY],k,PI,WH);var e=(v.signal>0?(v.pixelStart+v.pixelLength-v.pixel):(v.pixel-v.pixelStart))/v.pixelLength*(cc[1]-cc[0])+cc[0];i=Math.max(1/i,0);cc[0]=(cc[0]-e)*i+e;cc[1]=(cc[1]-e)*i+e;var eF=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();JK(0,cc,[0,100],0,eF.minSpan,eF.maxSpan);return(this._range=cc)}});var cC={grid:function(WH,Z,k,v,PI){var e=k.axis;var XY={};var i=PI.model.coordinateSystem.getRect();WH=WH||[0,0];if(e.dim==="x"){XY.pixel=Z[0]-WH[0];XY.pixelLength=i.width;XY.pixelStart=i.x;XY.signal=e.inverse?1:-1}else{XY.pixel=Z[1]-WH[1];XY.pixelLength=i.height;XY.pixelStart=i.y;XY.signal=e.inverse?-1:1}return XY},polar:function(Z2,Z,v,WH,XY){var i=v.axis;var cc={};var e=XY.model.coordinateSystem;var PI=e.getRadiusAxis().getExtent();var k=e.getAngleAxis().getExtent();Z2=Z2?e.pointToCoord(Z2):[0,0];Z=e.pointToCoord(Z);if(v.mainType==="radiusAxis"){cc.pixel=Z[0]-Z2[0];cc.pixelLength=PI[1]-PI[0];cc.pixelStart=PI[0];cc.signal=i.inverse?1:-1}else{cc.pixel=Z[1]-Z2[1];cc.pixelLength=k[1]-k[0];cc.pixelStart=k[0];cc.signal=i.inverse?-1:1}return cc},singleAxis:function(WH,Z,k,v,PI){var e=k.axis;var i=PI.model.coordinateSystem.getRect();var XY={};WH=WH||[0,0];if(e.orient==="horizontal"){XY.pixel=Z[0]-WH[0];XY.pixelLength=i.width;XY.pixelStart=i.x;XY.signal=e.inverse?1:-1}else{XY.pixel=Z[1]-WH[1];XY.pixelLength=i.height;XY.pixelStart=i.y;XY.signal=e.inverse?-1:1}return XY}};bI(function(Z,e){Z.eachComponent("dataZoom",function(i){i.eachTargetAxis(N1);i.eachTargetAxis(OL)});Z.eachComponent("dataZoom",function(PI){var v=PI.findRepresentativeAxisProxy();var i=v.getDataPercentWindow();var k=v.getDataValueWindow();PI.setRawRange({start:i[0],end:i[1],startValue:k[0],endValue:k[1]},true)})});function N1(Z,i,e){e.getAxisProxy(Z.name,i).reset(e)}function OL(Z,i,e){e.getAxisProxy(Z.name,i).filterData(e)}R0("dataZoom",function(k,i){var e=DB(b3(i.eachComponent,i,"dataZoom"),IO,function(PI,v){return PI.get(v.axisIndex)});var Z=[];i.eachComponent({mainType:"dataZoom",query:k},function(PI,v){Z.push.apply(Z,e(PI).nodes)});Dc(Z,function(PI,v){PI.setRawRange({start:k.start,end:k.end,startValue:k.startValue,endValue:k.endValue})})});var YB=Dc;var cD=function(Z){var e=Z&&Z.visualMap;if(!aO(e)){e=e?[e]:[]}YB(e,function(i){if(!i){return}if(Ic(i,"splitList")&&!Ic(i,"pieces")){i.pieces=i.splitList;delete i.splitList}var k=i.pieces;if(k&&aO(k)){YB(k,function(v){if(Q(v)){if(Ic(v,"start")&&!Ic(v,"min")){v.min=v.start}if(Ic(v,"end")&&!Ic(v,"max")){v.max=v.end}}})}})};function Ic(Z,e){return Z&&Z.hasOwnProperty&&Z.hasOwnProperty(e)}C8.registerSubTypeDefaulter("visualMap",function(Z){return(!Z.categories&&(!(Z.pieces?Z.pieces.length>0:Z.splitNumber>0)||Z.calculable))?"continuous":"piecewise"});Ai(cu.VISUAL.COMPONENT,function(Z){Z.eachComponent("visualMap",function(e){Tu(e,Z)});CE(Z)});function Tu(e,Z){e.eachTargetSeries(function(i){var k=i.getData();Ci(e.stateList,e.targetVisuals,k,e.getValueState,e,e.getDataDimension(k))})}function CE(Z){Z.eachSeries(function(i){var k=i.getData();var e=[];Z.eachComponent("visualMap",function(PI){if(PI.isTargetSeries(i)){var v=PI.getVisualMeta(b3(M5,null,i,PI))||{stops:[],outerColors:[]};v.dimension=PI.getDataDimension(k);e.push(v)}});i.getData().setVisual("visualMeta",e)})}function M5(eI,eG,WH,PI){var eF=eG.targetVisuals[PI];var cc=Np.prepareVisualTypes(eF);var e={color:eI.getData().getVisual("color")};for(var XY=0,Z=cc.length;XY<Z;XY++){var eH=cc[XY];var Z2=eF[eH==="opacity"?"__alphaForOpacity":eH];Z2&&Z2.applyVisual(WH,k,v)}return e.color;function k(i){return e[i]}function v(i,eJ){e[i]=eJ}}var HF={get:function(i,Z,e){var k=dp((T9[i]||{})[Z]);return e?(aO(k)?k[k.length-1]:k):k}};var T9={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[0.3,1],inactive:[0,0]},colorLightness:{active:[0.9,0.5],inactive:[0,0]},colorAlpha:{active:[0.3,1],inactive:[0,0]},opacity:{active:[0.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};var Oq=Np.mapVisual;var bp=Np.eachVisual;var Mb=aO;var Yr=Dc;var Ef=FB;var UO=WL;var If=ed;var ba=["#f6efa6","#d88273","#bf444c"];var XE=GV({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-Infinity,Infinity],layoutMode:{type:"box",ignoreSize:true},defaultOption:{show:true,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:false,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(Z,i,e){this._dataExtent;this.targetVisuals={};this.controllerVisuals={};this.textStyleModel;this.itemSize;this.mergeDefaultAndTheme(Z,e)},optionUpdated:function(Z,e){var i=this.option;if(!PF.canvasSupported){i.realtime=false}!e&&Zc(i,Z,this.replacableOptionKeys);this.textStyleModel=this.getModel("textStyle");this.resetItemSize();this.completeVisualOption()},resetVisual:function(Z){var e=this.stateList;Z=b3(Z,this);this.controllerVisuals=d(this.option.controller,e,Z);this.targetVisuals=d(this.option.target,e,Z)},getTargetSeriesIndices:function(){var Z=this.option.seriesIndex;var e=[];if(Z==null||Z==="all"){this.ecModel.eachSeries(function(i,k){e.push(k)})}else{e=Xf(Z)}return e},eachTargetSeries:function(Z,e){Dc(this.getTargetSeriesIndices(),function(i){Z.call(e,this.ecModel.getSeriesByIndex(i))},this)},isTargetSeries:function(e){var Z=false;this.eachTargetSeries(function(i){i===e&&(Z=true)});return Z},formatValueText:function(k,PI,Z){var Z2=this.option;var e=Z2.precision;var i=this.dataBound;var XY=Z2.formatter;var cc;var WH;Z=Z||["<",">"];if(aO(k)){k=k.slice();cc=true}WH=PI?k:(cc?[v(k[0]),v(k[1])]:v(k));if(DY(XY)){return XY.replace("{value}",cc?WH[0]:WH).replace("{value2}",cc?WH[1]:WH)}else{if(dU(XY)){return cc?XY(k[0],k[1]):XY(k)}}if(cc){if(k[0]===i[0]){return Z[0]+" "+WH[1]}else{if(k[1]===i[1]){return Z[1]+" "+WH[0]}else{return WH[0]+" - "+WH[1]}}}else{return WH}function v(eF){return eF===i[0]?"min":eF===i[1]?"max":(+eF).toFixed(Math.min(e,20))}},resetExtent:function(){var e=this.option;var Z=Ef([e.min,e.max]);this._dataExtent=Z},getDataDimension:function(e){var Z=this.option.dimension;return Z!=null?Z:e.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var XY=this.option;var Z={inRange:XY.inRange,outOfRange:XY.outOfRange};var PI=XY.target||(XY.target={});var k=XY.controller||(XY.controller={});KT(PI,Z);KT(k,Z);var v=this.isCategory();i.call(this,PI);i.call(this,k);WH.call(this,PI,"inRange","outOfRange");e.call(this,k);function i(Z2){if(Mb(XY.color)&&!Z2.inRange){Z2.inRange={color:XY.color.slice().reverse()}}Z2.inRange=Z2.inRange||{color:ba};Yr(this.stateList,function(eG){var cc=Z2[eG];if(DY(cc)){var eF=HF.get(cc,"active",v);if(eF){Z2[eG]={};Z2[eG][cc]=eF}else{delete Z2[eG]}}},this)}function WH(eH,Z2,eG){var eF=eH[Z2];var cc=eH[eG];if(eF&&!cc){cc=eH[eG]={};Yr(eF,function(eK,eI){if(!Np.isValidType(eI)){return}var eJ=HF.get(eI,"inactive",v);if(eJ!=null){cc[eI]=eJ;if(eI==="color"&&!cc.hasOwnProperty("opacity")&&!cc.hasOwnProperty("colorAlpha")){cc.opacity=[0,0]}}})}}function e(eG){var eF=(eG.inRange||{}).symbol||(eG.outOfRange||{}).symbol;var cc=(eG.inRange||{}).symbolSize||(eG.outOfRange||{}).symbolSize;var Z2=this.get("inactiveColor");Yr(this.stateList,function(eL){var eI=this.itemSize;var eJ=eG[eL];if(!eJ){eJ=eG[eL]={color:v?Z2:[Z2]}}if(eJ.symbol==null){eJ.symbol=eF&&dp(eF)||(v?"roundRect":["roundRect"])}if(eJ.symbolSize==null){eJ.symbolSize=cc&&dp(cc)||(v?eI[0]:[eI[0],eI[0]])}eJ.symbol=Oq(eJ.symbol,function(eM){return(eM==="none"||eM==="square")?"roundRect":eM});var eK=eJ.symbolSize;if(eK!=null){var eH=-Infinity;bp(eK,function(eM){eM>eH&&(eH=eM)});eJ.symbolSize=Oq(eK,function(eM){return UO(eM,[0,eH],[0,eI[0]],true)})}},this)}},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return !!this.option.categories},setSelected:If,getValueState:If,getVisualMeta:If});var DK=[20,140];var Qv=XE.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:false,range:null,realtime:true,itemHeight:null,itemWidth:null,hoverLink:true,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(Z,e){Qv.superApply(this,"optionUpdated",arguments);this.resetExtent();this.resetVisual(function(i){i.mappingMethod="linear";i.dataExtent=this.getExtent()});this._resetRange()},resetItemSize:function(){Qv.superApply(this,"resetItemSize",arguments);var Z=this.itemSize;this._orient==="horizontal"&&Z.reverse();(Z[0]==null||isNaN(Z[0]))&&(Z[0]=DK[0]);(Z[1]==null||isNaN(Z[1]))&&(Z[1]=DK[1])},_resetRange:function(){var e=this.getExtent();var Z=this.option.range;if(!Z||Z.auto){e.auto=1;this.option.range=e}else{if(aO(Z)){if(Z[0]>Z[1]){Z.reverse()}Z[0]=Math.max(Z[0],e[0]);Z[1]=Math.min(Z[1],e[1])}}},completeVisualOption:function(){XE.prototype.completeVisualOption.apply(this,arguments);Dc(this.stateList,function(e){var Z=this.option.controller[e].symbolSize;if(Z&&Z[0]!==Z[1]){Z[0]=0}},this)},setSelected:function(Z){this.option.range=Z.slice();this._resetRange()},getSelected:function(){var e=this.getExtent();var Z=FB((this.get("range")||[]).slice());Z[0]>e[1]&&(Z[0]=e[1]);Z[1]>e[1]&&(Z[1]=e[1]);Z[0]<e[0]&&(Z[0]=e[0]);Z[1]<e[0]&&(Z[1]=e[0]);return Z},getValueState:function(e){var i=this.option.range;var Z=this.getExtent();return((i[0]<=Z[0]||i[0]<=e)&&(i[1]>=Z[1]||e<=i[1]))?"inRange":"outOfRange"},findTargetDataIndices:function(e){var Z=[];this.eachTargetSeries(function(i){var v=[];var k=i.getData();k.each(this.getDataDimension(k),function(WH,PI){e[0]<=WH&&WH<=e[1]&&v.push(PI)},true,this);Z.push({seriesId:i.id,dataIndex:v})},this);return Z},getVisualMeta:function(v){var PI=FT(this,"outOfRange",this.getExtent());var e=FT(this,"inRange",this.option.range.slice());var Z2=[];function XY(eH,eG){Z2.push({value:eH,color:v(eH,eG)})}var i=0;var k=0;var Z=e.length;var eF=PI.length;for(;k<eF&&(!e.length||PI[k]<=e[0]);k++){if(PI[k]<e[i]){XY(PI[k],"outOfRange")}}for(var WH=1;i<Z;i++,WH=0){WH&&Z2.length&&XY(e[i],"outOfRange");XY(e[i],"inRange")}for(var WH=1;k<eF;k++){if(!e.length||e[e.length-1]<PI[k]){if(WH){Z2.length&&XY(Z2[Z2.length-1].value,"outOfRange");WH=0}XY(PI[k],"outOfRange")}}var cc=Z2.length;return{stops:Z2,outerColors:[cc?Z2[0].color:"transparent",cc?Z2[cc-1].color:"transparent"]}}});function FT(Z2,Z,v){if(v[0]===v[1]){return v.slice()}var k=200;var PI=(v[1]-v[0])/k;var WH=v[0];var e=[];for(var XY=0;XY<=k&&WH<v[1];XY++){e.push(WH);WH+=PI}e.push(v[1]);return e}var r=bX({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(Z,e){this.ecModel=Z;this.api=e;this.visualMapModel},render:function(i,e,k,Z){this.visualMapModel=i;if(i.get("show")===false){this.group.removeAll();return}this.doRender.apply(this,arguments)},renderBackground:function(Z){var k=this.visualMapModel;var e=Q3(k.get("padding")||0);var i=Z.getBoundingRect();Z.add(new BI({z2:-1,silent:true,shape:{x:i.x-e[3],y:i.y-e[0],width:i.width+e[3]+e[1],height:i.height+e[0]+e[2]},style:{fill:k.get("backgroundColor"),stroke:k.get("borderColor"),lineWidth:k.get("borderWidth")}}))},getControllerVisual:function(XY,Z,v){v=v||{};var e=v.forceState;var Z2=this.visualMapModel;var cc={};if(Z==="symbol"){cc.symbol=Z2.get("itemSymbol")}if(Z==="color"){var eF=Z2.get("contentColor");cc.color=eF}function i(eG){return cc[eG]}function k(eG,eH){cc[eG]=eH}var WH=Z2.controllerVisuals[e||Z2.getValueState(XY)];var PI=Np.prepareVisualTypes(WH);Dc(PI,function(eG){var eH=WH[eG];if(v.convertOpacityToAlpha&&eG==="opacity"){eG="colorAlpha";eH=WH.__alphaForOpacity}if(Np.dependsOn(eG,Z)){eH&&eH.applyVisual(XY,i,k)}});return cc[Z]},positionGroup:function(Z){var i=this.visualMapModel;var e=this.api;VJ(Z,i.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})},doRender:ed});function M(eG,eH,k){var v=eG.option;var Z=v.align;if(Z!=null&&Z!=="auto"){return Z}var XY={width:eH.getWidth(),height:eH.getHeight()};var eI=v.orient==="horizontal"?1:0;var WH=[["left","right","width"],["top","bottom","height"]];var Z2=WH[eI];var e=[0,null,10];var cc={};for(var eF=0;eF<3;eF++){cc[WH[1-eI][eF]]=e[eF];cc[Z2[eF]]=eF===2?k[0]:v[Z2[eF]]}var eJ=[["x","width",3],["y","height",0]][eI];var PI=CC(cc,XY,v.padding);return Z2[(PI.margin[eJ[2]]||0)+PI[eJ[0]]+PI[eJ[1]]*0.5<XY[eJ[1]]*0.5?0:1]}function GT(Z){Dc(Z||[],function(e){if(Z.dataIndex!=null){Z.dataIndexInside=Z.dataIndex;Z.dataIndex=null}});return Z}var UL=WL;var Ys=Dc;var LS=Math.min;var Bj=Math.max;var Dg=12;var Ny=6;var PT=r.extend({type:"visualMap.continuous",init:function(){PT.superApply(this,"init",arguments);this._shapes={};this._dataInterval=[];this._handleEnds=[];this._orient;this._useHandle;this._hoverLinkDataIndices=[];this._dragging;this._hovering},doRender:function(i,e,k,Z){if(!Z||Z.type!=="selectDataRange"||Z.from!==this.uid){this._buildView()}},_buildView:function(){this.group.removeAll();var Z=this.visualMapModel;var e=this.group;this._orient=Z.get("orient");this._useHandle=Z.get("calculable");this._resetInterval();this._renderBar(e);var i=Z.get("text");this._renderEndsText(e,i,0);this._renderEndsText(e,i,1);this._updateView(true);this.renderBackground(e);this._updateView();this._enableHoverLinkToSeries();this._enableHoverLinkFromSeries();this.positionGroup(e)},_renderEndsText:function(PI,eG,Z2){if(!eG){return}var WH=eG[1-Z2];WH=WH!=null?WH+"":"";var cc=this.visualMapModel;var i=cc.get("textGap");var eF=cc.itemSize;var Z=this._shapes.barGroup;var XY=this._applyTransform([eF[0]/2,Z2===0?-i:eF[1]+i],Z);var v=this._applyTransform(Z2===0?"bottom":"top",Z);var e=this._orient;var k=this.visualMapModel.textStyleModel;this.group.add(new FA({style:{x:XY[0],y:XY[1],textVerticalAlign:e==="horizontal"?"middle":v,textAlign:e==="horizontal"?v:"center",text:WH,textFont:k.getFont(),textFill:k.getTextColor()}}))},_renderBar:function(k){var XY=this.visualMapModel;var cc=this._shapes;var Z2=XY.itemSize;var PI=this._orient;var Z=this._useHandle;var e=M(XY,this.api,Z2);var WH=cc.barGroup=this._createBarGroup(e);WH.add(cc.outOfRange=d2());WH.add(cc.inRange=d2(null,Z?Dn(this._orient):null,b3(this._dragHandle,this,"all",false),b3(this._dragHandle,this,"all",true)));var i=XY.textStyleModel.getTextRect("");var v=Bj(i.width,i.height);if(Z){cc.handleThumbs=[];cc.handleLabels=[];cc.handleLabelPoints=[];this._createHandle(WH,0,Z2,v,PI,e);this._createHandle(WH,1,Z2,v,PI,e)}this._createIndicator(WH,Z2,v,PI);k.add(WH)},_createHandle:function(Z,v,eF,PI,XY){var WH=b3(this._dragHandle,this,v,false);var i=b3(this._dragHandle,this,v,true);var k=d2(F8(v,PI),Dn(this._orient),WH,i);k.position[0]=eF[0];Z.add(k);var eG=this.visualMapModel.textStyleModel;var cc=new FA({draggable:true,drift:WH,onmousemove:function(eH){Gj(eH.event)},ondragend:i,style:{x:0,y:0,text:"",textFont:eG.getFont(),textFill:eG.getTextColor()}});this.group.add(cc);var Z2=[XY==="horizontal"?PI/2:PI*1.5,XY==="horizontal"?(v===0?-(PI*1.5):(PI*1.5)):(v===0?-PI/2:PI/2)];var e=this._shapes;e.handleThumbs[v]=k;e.handleLabelPoints[v]=Z2;e.handleLabels[v]=cc},_createIndicator:function(Z,WH,k,v){var XY=d2([[0,0]],"move");XY.position[0]=WH[0];XY.attr({invisible:true,silent:true});Z.add(XY);var Z2=this.visualMapModel.textStyleModel;var PI=new FA({silent:true,invisible:true,style:{x:0,y:0,text:"",textFont:Z2.getFont(),textFill:Z2.getTextColor()}});this.group.add(PI);var e=[v==="horizontal"?k/2:Ny+3,0];var i=this._shapes;i.indicator=XY;i.indicatorLabel=PI;i.indicatorLabelPoint=e},_dragHandle:function(e,k,Z,i){if(!this._useHandle){return}this._dragging=!k;if(!k){var v=this._applyTransform([Z,i],this._shapes.barGroup,true);this._updateInterval(e,v[1]);this._updateView()}if(k===!this.visualMapModel.get("realtime")){this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()})}if(k){!this._hovering&&this._clearHoverLinkToSeries()}else{if(Bf(this.visualMapModel)){this._doHoverLinkToSeries(this._handleEnds[e],false)}}},_resetInterval:function(){var Z=this.visualMapModel;var e=this._dataInterval=Z.getSelected();var k=Z.getExtent();var i=[0,Z.itemSize[1]];this._handleEnds=[UL(e[0],k,i,true),UL(e[1],k,i,true)]},_updateInterval:function(k,e){e=e||0;var v=this.visualMapModel;var Z=this._handleEnds;var PI=[0,v.itemSize[1]];JK(e,Z,PI,k,0);var i=v.getExtent();this._dataInterval=[UL(Z[0],PI,i,true),UL(Z[1],PI,i,true)]},_updateView:function(v){var k=this.visualMapModel;var i=k.getExtent();var XY=this._shapes;var PI=[0,k.itemSize[1]];var Z=v?PI:this._handleEnds;var e=this._createBarVisual(this._dataInterval,i,Z,"inRange");var WH=this._createBarVisual(i,i,PI,"outOfRange");XY.inRange.setStyle({fill:e.barColor,opacity:e.opacity}).setShape("points",e.barPoints);XY.outOfRange.setStyle({fill:WH.barColor,opacity:WH.opacity}).setShape("points",WH.barPoints);this._updateHandle(Z,e)},_createBarVisual:function(PI,e,WH,Z){var v={forceState:Z,convertOpacityToAlpha:true};var k=this._makeColorGradient(PI,v);var XY=[this.getControllerVisual(PI[0],"symbolSize",v),this.getControllerVisual(PI[1],"symbolSize",v)];var i=this._createBarPoints(WH,XY);return{barColor:new bb(0,0,0,1,k),barPoints:i,handlesColor:[k[0].color,k[k.length-1].color]}},_makeColorGradient:function(v,k){var PI=100;var WH=[];var Z=(v[1]-v[0])/PI;WH.push({color:this.getControllerVisual(v[0],"color",k),offset:0});for(var e=1;e<PI;e++){var XY=v[0]+Z*e;if(XY>v[1]){break}WH.push({color:this.getControllerVisual(XY,"color",k),offset:e/PI})}WH.push({color:this.getControllerVisual(v[1],"color",k),offset:1});return WH},_createBarPoints:function(Z,i){var e=this.visualMapModel.itemSize;return[[e[0]-i[0],Z[0]],[e[0],Z[0]],[e[0],Z[1]],[e[0]-i[1],Z[1]]]},_createBarGroup:function(e){var i=this._orient;var Z=this.visualMapModel.get("inverse");return new TD((i==="horizontal"&&!Z)?{scale:e==="bottom"?[1,1]:[-1,1],rotation:Math.PI/2}:(i==="horizontal"&&Z)?{scale:e==="bottom"?[-1,1]:[1,1],rotation:-Math.PI/2}:(i==="vertical"&&!Z)?{scale:e==="left"?[1,-1]:[-1,-1]}:{scale:e==="left"?[1,1]:[-1,1]})},_updateHandle:function(Z,e){if(!this._useHandle){return}var i=this._shapes;var k=this.visualMapModel;var v=i.handleThumbs;var PI=i.handleLabels;Ys([0,1],function(XY){var Z2=v[XY];Z2.setStyle("fill",e.handlesColor[XY]);Z2.position[1]=Z[XY];var WH=Bg(i.handleLabelPoints[XY],h(Z2,this.group));PI[XY].setStyle({x:WH[0],y:WH[1],text:k.formatValueText(this._dataInterval[XY]),textVerticalAlign:"middle",textAlign:this._applyTransform(this._orient==="horizontal"?(XY===0?"bottom":"top"):"left",i.barGroup)})},this)},_showIndicator:function(Z2,eF,WH,eG){var e=this.visualMapModel;var XY=e.getExtent();var cc=e.itemSize;var Z=[0,cc[1]];var eJ=UL(Z2,XY,Z,true);var eL=this._shapes;var eK=eL.indicator;if(!eK){return}eK.position[1]=eJ;eK.attr("invisible",false);eK.setShape("points",Fe(!!WH,eG,eJ,cc[1]));var eH={convertOpacityToAlpha:true};var PI=this.getControllerVisual(Z2,"color",eH);eK.setStyle("fill",PI);var eI=Bg(eL.indicatorLabelPoint,h(eK,this.group));var k=eL.indicatorLabel;k.attr("invisible",false);var i=this._applyTransform("left",eL.barGroup);var v=this._orient;k.setStyle({text:(WH?WH:"")+e.formatValueText(eF),textVerticalAlign:v==="horizontal"?i:"middle",textAlign:v==="horizontal"?"center":i,x:eI[0],y:eI[1]})},_enableHoverLinkToSeries:function(){var Z=this;this._shapes.barGroup.on("mousemove",function(i){Z._hovering=true;if(!Z._dragging){var v=Z.visualMapModel.itemSize;var k=Z._applyTransform([i.offsetX,i.offsetY],Z._shapes.barGroup,true,true);k[1]=LS(Bj(0,k[1]),v[1]);Z._doHoverLinkToSeries(k[1],0<=k[0]&&k[0]<=v[0])}}).on("mouseout",function(){Z._hovering=false;!Z._dragging&&Z._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var Z=this.api.getZr();if(this.visualMapModel.option.hoverLink){Z.on("mouseover",this._hoverLinkFromSeriesMouseOver,this);Z.on("mouseout",this._hideIndicator,this)}else{this._clearHoverLinkFromSeries()}},_doHoverLinkToSeries:function(v,eH){var eG=this.visualMapModel;var cc=eG.itemSize;if(!eG.option.hoverLink){return}var Z2=[0,cc[1]];var k=eG.getExtent();v=LS(Bj(Z2[0],v),Z2[1]);var i=Ly(eG,k,Z2);var WH=[v-i,v+i];var Z=UL(v,Z2,k,true);var eF=[UL(WH[0],Z2,k,true),UL(WH[1],Z2,k,true)];WH[0]<Z2[0]&&(eF[0]=-Infinity);WH[1]>Z2[1]&&(eF[1]=Infinity);if(eH){if(eF[0]===-Infinity){this._showIndicator(Z,eF[1],"< ",i)}else{if(eF[1]===Infinity){this._showIndicator(Z,eF[0],"> ",i)}else{this._showIndicator(Z,Z," ",i)}}}var XY=this._hoverLinkDataIndices;var PI=[];if(eH||Bf(eG)){PI=this._hoverLinkDataIndices=eG.findTargetDataIndices(eF)}var e=FO(XY,PI);this._dispatchHighDown("downplay",GT(e[0]));this._dispatchHighDown("highlight",GT(e[1]))},_hoverLinkFromSeriesMouseOver:function(i){var Z=i.target;var PI=this.visualMapModel;if(!Z||Z.dataIndex==null){return}var WH=this.ecModel.getSeriesByIndex(Z.seriesIndex);if(!PI.isTargetSeries(WH)){return}var XY=WH.getData(Z.dataType);var k=XY.getDimension(PI.getDataDimension(XY));var v=XY.get(k,Z.dataIndex,true);if(!isNaN(v)){this._showIndicator(v,v)}},_hideIndicator:function(){var Z=this._shapes;Z.indicator&&Z.indicator.attr("invisible",true);Z.indicatorLabel&&Z.indicatorLabel.attr("invisible",true)},_clearHoverLinkToSeries:function(){this._hideIndicator();var Z=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",GT(Z));Z.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var Z=this.api.getZr();Z.off("mouseover",this._hoverLinkFromSeriesMouseOver);Z.off("mouseout",this._hideIndicator)},_applyTransform:function(e,k,Z,i){var v=h(k,i?null:this.group);return RZ[aO(e)?"applyTransform":"transformDirection"](e,v,Z)},_dispatchHighDown:function(Z,e){e&&e.length&&this.api.dispatchAction({type:Z,batch:e})},dispose:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()}});function d2(e,Z,i,k){return new GN({shape:{points:e},draggable:!!i,cursor:Z,drift:i,onmousemove:function(v){Gj(v.event)},ondragend:k})}function F8(Z,e){return Z===0?[[0,0],[e,0],[e,-e]]:[[0,0],[e,0],[e,e]]}function Fe(Z,k,e,i){return Z?[[0,-LS(k,Bj(e,0))],[Ny,0],[0,LS(k,Bj(i-e,0))]]:[[0,0],[5,-5],[5,5]]}function Ly(Z,k,e){var i=Dg/2;var v=Z.get("hoverLinkDataSize");if(v){i=UL(v,k,e,true)/2}return i}function Bf(Z){var e=Z.get("hoverLinkOnHandle");return !!(e==null?Z.get("realtime"):e)}function Dn(Z){return Z==="vertical"?"ns-resize":"ew-resize"}var Ou={type:"selectDataRange",event:"dataRangeSelected",update:"update"};R0(Ou,function(e,Z){Z.eachComponent({mainType:"visualMap",query:e},function(i){i.setSelected(e.selected)})});IL(cD);var NW=XE.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:false,maxOpen:false,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:true,showLabel:null},optionUpdated:function(e,i){NW.superApply(this,"optionUpdated",arguments);this._pieceList=[];this.resetExtent();var Z=this._mode=this._determineMode();ZG[this._mode].call(this);this._resetSelected(e,i);var k=this.option.categories;this.resetVisual(function(v,PI){if(Z==="categories"){v.mappingMethod="category";v.categories=dp(k)}else{v.dataExtent=this.getExtent();v.mappingMethod="piecewise";v.pieceList=PK(this._pieceList,function(WH){var WH=dp(WH);if(PI!=="inRange"){WH.visual=null}return WH})}})},completeVisualOption:function(){var Z=this.option;var i={};var k=Np.listVisualTypes();var e=this.isCategory();Dc(Z.pieces,function(PI){Dc(k,function(WH){if(PI.hasOwnProperty(WH)){i[WH]=1}})});Dc(i,function(WH,PI){var XY=0;Dc(this.stateList,function(Z2){XY|=v(Z,Z2,PI)||v(Z.target,Z2,PI)},this);!XY&&Dc(this.stateList,function(Z2){(Z[Z2]||(Z[Z2]={}))[PI]=HF.get(PI,Z2==="inRange"?"active":"inactive",e)})},this);function v(PI,XY,WH){return PI&&PI[XY]&&(Q(PI[XY])?PI[XY].hasOwnProperty(WH):PI[XY]===WH)}XE.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(k,v){var PI=this.option;var i=this._pieceList;var e=(v?PI:k).selected||{};PI.selected=e;Dc(i,function(XY,Z2){var WH=this.getSelectedMapKey(XY);if(!e.hasOwnProperty(WH)){e[WH]=true}},this);if(PI.selectedMode==="single"){var Z=false;Dc(i,function(XY,Z2){var WH=this.getSelectedMapKey(XY);if(e[WH]){Z?(e[WH]=false):(Z=true)}},this)}},getSelectedMapKey:function(Z){return this._mode==="categories"?Z.value+"":Z.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var Z=this.option;return Z.pieces&&Z.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(Z){this.option.selected=dp(Z)},getValueState:function(e){var Z=Np.findPieceIndex(e,this._pieceList);return Z!=null?(this.option.selected[this.getSelectedMapKey(this._pieceList[Z])]?"inRange":"outOfRange"):"outOfRange"},findTargetDataIndices:function(e){var Z=[];this.eachTargetSeries(function(i){var v=[];var k=i.getData();k.each(this.getDataDimension(k),function(XY,PI){var WH=Np.findPieceIndex(XY,this._pieceList);WH===e&&v.push(PI)},true,this);Z.push({seriesId:i.id,dataIndex:v})},this);return Z},getRepresentValue:function(e){var Z;if(this.isCategory()){Z=e.value}else{if(e.value!=null){Z=e.value}else{var i=e.interval||[];Z=(i[0]===-Infinity&&i[1]===Infinity)?0:(i[0]+i[1])/2}}return Z},getVisualMeta:function(k){if(this.isCategory()){return}var i=[];var Z=[];var WH=this;function XY(cc,eF){var Z2=WH.getRepresentValue({interval:cc});if(!eF){eF=WH.getValueState(Z2)}var eG=k(Z2,eF);if(cc[0]===-Infinity){Z[0]=eG}else{if(cc[1]===Infinity){Z[1]=eG}else{i.push({value:cc[0],color:eG},{value:cc[1],color:eG})}}}var e=this._pieceList.slice();if(!e.length){e.push({interval:[-Infinity,Infinity]})}else{var PI=e[0].interval[0];PI!==-Infinity&&e.unshift({interval:[-Infinity,PI]});PI=e[e.length-1].interval[1];PI!==Infinity&&e.push({interval:[PI,Infinity]})}var v=-Infinity;Dc(e,function(cc){var Z2=cc.interval;if(Z2){Z2[0]>v&&XY([v,Z2[0]],"outOfRange");XY(Z2.slice());v=Z2[1]}},this);return{stops:i,outerColors:Z}}});var ZG={splitNumber:function(){var XY=this.option;var Z2=this._pieceList;var Z=Math.min(XY.precision,20);var i=this.getExtent();var PI=XY.splitNumber;PI=Math.max(parseInt(PI,10),1);XY.splitNumber=PI;var k=(i[1]-i[0])/PI;while(+k.toFixed(Z)!==k&&Z<5){Z++}XY.precision=Z;k=+k.toFixed(Z);var e=0;if(XY.minOpen){Z2.push({index:e++,interval:[-Infinity,i[0]],close:[0,0]})}for(var v=i[0],WH=e+PI;e<WH;v+=k){var cc=e===PI-1?i[1]:(v+k);Z2.push({index:e++,interval:[v,cc],close:[1,1]})}if(XY.maxOpen){Z2.push({index:e++,interval:[i[1],Infinity],close:[0,0]})}Gy(Z2);Dc(Z2,function(eF){eF.text=this.formatValueText(eF.interval)},this)},categories:function(){var Z=this.option;Dc(Z.categories,function(e){this._pieceList.push({text:this.formatValueText(e,true),value:e})},this);Yk(Z,this._pieceList)},pieces:function(){var e=this.option;var Z=this._pieceList;Dc(e.pieces,function(eJ,v){if(!Q(eJ)){eJ={value:eJ}}var eF={text:"",index:v};if(eJ.label!=null){eF.text=eJ.label}if(eJ.hasOwnProperty("value")){var WH=eF.value=eJ.value;eF.interval=[WH,WH];eF.close=[1,1]}else{var cc=eF.interval=[];var PI=eF.close=[0,0];var eI=[1,0,1];var k=[-Infinity,Infinity];var Z2=[];for(var eH=0;eH<2;eH++){var eG=[["gte","gt","min"],["lte","lt","max"]][eH];for(var XY=0;XY<3&&cc[eH]==null;XY++){cc[eH]=eJ[eG[XY]];PI[eH]=eI[XY];Z2[eH]=XY===2}cc[eH]==null&&(cc[eH]=k[eH])}Z2[0]&&cc[1]===Infinity&&(PI[0]=0);Z2[1]&&cc[0]===-Infinity&&(PI[1]=0);if(Vo){if(cc[0]>cc[1]){console.warn("Piece "+v+"is illegal: "+cc+" lower bound should not greater then uppper bound.")}}if(cc[0]===cc[1]&&PI[0]&&PI[1]){eF.value=cc[0]}}eF.visual=Np.retrieveVisuals(eJ);Z.push(eF)},this);Yk(e,Z);Gy(Z);Dc(Z,function(k){var v=k.close;var i=[["<",""][v[1]],[">",""][v[0]]];k.text=k.text||this.formatValueText(k.value!=null?k.value:k.interval,false,i)},this)}};function Yk(i,e){var Z=i.inverse;if(i.orient==="vertical"?!Z:Z){e.reverse()}}var Hd=r.extend({type:"visualMap.piecewise",doRender:function(){var eG=this.group;eG.removeAll();var XY=this.visualMapModel;var i=XY.get("textGap");var WH=XY.textStyleModel;var k=WH.getFont();var PI=WH.getTextColor();var e=this._getItemAlign();var Z2=XY.itemSize;var eF=this._getViewData();var v=eF.endsText;var Z=Ew(XY.get("showLabel",true),!v);v&&this._renderEndsText(eG,v[0],Z2,Z,e);Dc(eF.viewPieceList,cc,this);v&&this._renderEndsText(eG,v[1],Z2,Z,e);cP(XY.get("orient"),eG,XY.get("itemGap"));this.renderBackground(eG);this.positionGroup(eG);function cc(eK){var eJ=eK.piece;var eI=new TD();eI.onclick=b3(this._onItemClick,this,eJ);this._enableHoverLink(eI,eK.indexInModelPieceList);var eH=XY.getRepresentValue(eJ);this._createItemSymbol(eI,eH,[0,0,Z2[0],Z2[1]]);if(Z){var eL=this.visualMapModel.getValueState(eH);eI.add(new FA({style:{x:e==="right"?-i:Z2[0]+i,y:Z2[1]/2,text:eJ.text,textVerticalAlign:"middle",textAlign:e,textFont:k,textFill:PI,opacity:eL==="outOfRange"?0.5:1}}))}eG.add(eI)}},_enableHoverLink:function(Z,i){Z.on("mouseover",b3(e,this,"highlight")).on("mouseout",b3(e,this,"downplay"));function e(v){var k=this.visualMapModel;k.option.hoverLink&&this.api.dispatchAction({type:v,batch:GT(k.findTargetDataIndices(i))})}},_getItemAlign:function(){var e=this.visualMapModel;var Z=e.option;if(Z.orient==="vertical"){return M(e,this.api,e.itemSize)}else{var i=Z.align;if(!i||i==="auto"){i="left"}return i}},_renderEndsText:function(e,v,PI,WH,k){if(!v){return}var i=new TD();var Z=this.visualMapModel.textStyleModel;i.add(new FA({style:{x:WH?(k==="right"?PI[0]:0):PI[0]/2,y:PI[1]/2,textVerticalAlign:"middle",textAlign:WH?k:"center",text:v,textFont:Z.getFont(),textFill:Z.getTextColor()}}));e.add(i)},_getViewData:function(){var e=this.visualMapModel;var v=PK(e.getPieceList(),function(PI,WH){return{piece:PI,indexInModelPieceList:WH}});var k=e.get("text");var i=e.get("orient");var Z=e.get("inverse");if(i==="horizontal"?Z:!Z){v.reverse()}else{if(k){k=k.slice().reverse()}}return{viewPieceList:v,endsText:k}},_createItemSymbol:function(Z,e,i){Z.add(Fq(this.getControllerVisual(e,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(e,"color")))},_onItemClick:function(e){var i=this.visualMapModel;var Z=i.option;var v=dp(Z.selected);var k=i.getSelectedMapKey(e);if(Z.selectedMode==="single"){v[k]=true;Dc(v,function(WH,PI){v[PI]=PI===k})}else{v[k]=!v[k]}this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:v})}});IL(cD);var Le=Mi;var OU=Pp;function TU(Z){V4(Z.label,["show"])}var DM=GV({type:"marker",dependencies:["series","grid","polar","geo"],init:function(Z,k,e,i){if(Vo){if(this.type==="marker"){throw new Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.")}}this.mergeDefaultAndTheme(Z,e);this.mergeOption(Z,e,i.createdBySelf,true)},isAnimationEnabled:function(){if(PF.node){return false}var Z=this.__hostSeries;return this.getShallow("animation")&&Z&&Z.isAnimationEnabled()},mergeOption:function(Z,e,v,k){var PI=this.constructor;var i=this.mainType+"Model";if(!v){e.eachSeries(function(WH){var XY=WH.get(this.mainType);var Z2=WH[i];if(!XY||!XY.data){WH[i]=null;return}if(!Z2){if(k){TU(XY)}Dc(XY.data,function(cc){if(cc instanceof Array){TU(cc[0]);TU(cc[1])}else{TU(cc)}});Z2=new PI(XY,this,e);V8(Z2,{mainType:this.mainType,seriesIndex:WH.seriesIndex,name:WH.name,createdBySelf:true});Z2.__hostSeries=WH}else{Z2.mergeOption(XY,e,true)}WH[i]=Z2},this)}},formatTooltip:function(e){var PI=this.getData();var v=this.getRawValue(e);var i=aO(v)?PK(v,Le).join(", "):Le(v);var k=PI.getName(e);var Z=OU(this.name);if(v!=null||k){Z+="<br />"}if(k){Z+=OU(k);if(v!=null){Z+=" : "}}if(v!=null){Z+=OU(i)}return Z},getData:function(){return this._data},setData:function(Z){this._data=Z}});cq(DM,GR);DM.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:true,position:"inside"},emphasis:{show:true}},itemStyle:{normal:{borderWidth:2}}}});var E6=Fx;function ID(Z){return !(isNaN(parseFloat(Z.x))&&isNaN(parseFloat(Z.y)))}function VL(Z){return !isNaN(parseFloat(Z.x))&&!isNaN(parseFloat(Z.y))}function Au(k,e,Z){var i=-1;do{i=Math.max(bD(k.get(e,Z)),i);k=k.stackedOn}while(k);return i}function dn(XY,k,Z2,PI,Z,cc){var e=[];var v=PP(k,PI,XY);var WH=k.indicesOfNearest(PI,v,true)[0];e[Z]=k.get(Z2,WH,true);e[cc]=k.get(PI,WH,true);var i=Au(k,PI,WH);i=Math.min(i,20);if(i>=0){e[cc]=+e[cc].toFixed(i)}return e}var Tg=aT;var JU={min:Tg(dn,"min"),max:Tg(dn,"max"),average:Tg(dn,"average")};function SF(WH,eG){var v=WH.getData();var k=WH.coordinateSystem;if(eG&&!VL(eG)&&!aO(eG.coord)&&k){var PI=k.dimensions;var cc=Xh(eG,v,k,WH);eG=dp(eG);if(eG.type&&JU[eG.type]&&cc.baseAxis&&cc.valueAxis){var Z=E6(PI,cc.baseAxis.dim);var eF=E6(PI,cc.valueAxis.dim);eG.coord=JU[eG.type](v,cc.baseDataDim,cc.valueDataDim,Z,eF);eG.value=eG.coord[eF]}else{var Z2=[eG.xAxis!=null?eG.xAxis:eG.radiusAxis,eG.yAxis!=null?eG.yAxis:eG.angleAxis];for(var XY=0;XY<2;XY++){if(JU[Z2[XY]]){var e=WH.coordDimToDataDim(PI[XY])[0];Z2[XY]=PP(v,e,Z2[XY])}}eG.coord=Z2}}return eG}function Xh(i,v,e,Z){var k={};if(i.valueIndex!=null||i.valueDim!=null){k.valueDataDim=i.valueIndex!=null?v.getDimension(i.valueIndex):i.valueDim;k.valueAxis=e.getAxis(Z.dataDimToCoordDim(k.valueDataDim));k.baseAxis=e.getOtherAxis(k.valueAxis);k.baseDataDim=Z.coordDimToDataDim(k.baseAxis.dim)[0]}else{k.baseAxis=Z.getBaseAxis();k.valueAxis=e.getOtherAxis(k.baseAxis);k.baseDataDim=Z.coordDimToDataDim(k.baseAxis.dim)[0];k.valueDataDim=Z.coordDimToDataDim(k.valueAxis.dim)[0]}return k}function R5(Z,e){return(Z&&Z.containData&&e.coord&&!ID(e))?Z.containData(e.coord):true}function Aa(i,k,Z,e){if(e<2){return i.coord&&i.coord[e]}return i.value}function PP(v,i,Z){if(Z==="average"){var k=0;var e=0;v.each(i,function(WH,PI){if(!isNaN(WH)){k+=WH;e++}},true);return k/e}else{return v.getDataExtent(i,true)[Z==="max"?1:0]}}var RP=bX({type:"marker",init:function(){this.markerGroupMap=EY()},render:function(v,i,k){var Z=this.markerGroupMap;Z.each(function(PI){PI.__keep=false});var e=this.type+"Model";i.eachSeries(function(PI){var WH=PI[e];WH&&this.renderSeries(PI,WH,i,k)},this);Z.each(function(PI){!PI.__keep&&this.group.remove(PI.group)},this)},renderSeries:function(){}});function dD(i,Z,k){var e=Z.coordinateSystem;i.each(function(Z2){var PI=i.getItemModel(Z2);var v;var WH=OC(PI.get("x"),k.getWidth());var XY=OC(PI.get("y"),k.getHeight());if(!isNaN(WH)&&!isNaN(XY)){v=[WH,XY]}else{if(Z.getMarkerPosition){v=Z.getMarkerPosition(i.getValues(i.dimensions,Z2))}else{if(e){var cc=i.get(e.dimensions[0],Z2);var eF=i.get(e.dimensions[1],Z2);v=e.dataToPoint([cc,eF])}}}if(!isNaN(WH)){v[0]=WH}if(!isNaN(XY)){v[1]=XY}i.setItemLayout(Z2,v)})}RP.extend({type:"markPoint",updateLayout:function(e,Z,i){Z.eachSeries(function(k){var v=k.markPointModel;if(v){dD(v.getData(),k,i);this.markerGroupMap.get(k.id).updateLayout(v)}},this)},renderSeries:function(cc,PI,Z,XY){var e=cc.coordinateSystem;var k=cc.id;var v=cc.getData();var Z2=this.markerGroupMap;var WH=Z2.get(k)||Z2.set(k,new eb());var i=Iz(e,cc,PI);PI.setData(i);dD(PI.getData(),cc,XY);i.each(function(eG){var eF=i.getItemModel(eG);var eH=eF.getShallow("symbolSize");if(typeof eH==="function"){eH=eH(PI.getRawValue(eG),PI.getDataParams(eG))}i.setItemVisual(eG,{symbolSize:eH,color:eF.get("itemStyle.normal.color")||v.getVisual("color"),symbol:eF.getShallow("symbol")})});WH.updateData(i);this.group.add(WH.group);i.eachItemGraphicEl(function(eF){eF.traverse(function(eG){eG.dataModel=PI})});WH.__keep=true;WH.group.silent=PI.get("silent")||cc.get("silent")}});function Iz(i,Z,k){var PI;if(i){PI=PK(i&&i.dimensions,function(WH){var XY=Z.getData().getDimensionInfo(Z.coordDimToDataDim(WH)[0])||{};XY.name=WH;return XY})}else{PI=[{name:"value",type:"float"}]}var v=new Lu(PI,k);var e=PK(k.get("data"),aT(SF,Z));if(i){e=Zs(e,aT(R5,i))}v.initData(e,null,i?Aa:function(WH){return WH.value});return v}IL(function(Z){Z.markPoint=Z.markPoint||{}});DM.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:true,position:"end"},emphasis:{show:true}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}});var EH=function(PI,i,Z2,eJ){var k=PI.getData();var eG=eJ.type;if(!aO(eJ)&&(eG==="min"||eG==="max"||eG==="average"||(eJ.xAxis!=null||eJ.yAxis!=null))){var Z;var XY;var WH;if(eJ.yAxis!=null||eJ.xAxis!=null){XY=eJ.yAxis!=null?"y":"x";Z=i.getAxis(XY);WH=Ew(eJ.yAxis,eJ.xAxis)}else{var eF=Xh(eJ,k,i,PI);XY=eF.valueDataDim;Z=eF.valueAxis;WH=PP(k,XY,eG)}var cc=XY==="x"?0:1;var eI=1-cc;var e=dp(eJ);var v={};e.type=null;e.coord=[];v.coord=[];e.coord[eI]=-Infinity;v.coord[eI]=Infinity;var eH=Z2.get("precision");if(eH>=0&&typeof WH==="number"){WH=+WH.toFixed(Math.min(eH,20))}e.coord[cc]=v.coord[cc]=WH;eJ=[e,v,{type:eG,valueIndex:eJ.valueIndex,value:WH}]}eJ=[SF(PI,eJ[0]),SF(PI,eJ[1]),V8({},eJ[2])];eJ[2].type=eJ[2].type||"";KT(eJ[2],eJ[0]);KT(eJ[2],eJ[1]);return eJ};function Xy(Z){return !isNaN(Z)&&!isFinite(Z)}function VD(e,PI,v,i){var Z=1-e;var k=i.dimensions[e];return Xy(PI[Z])&&Xy(v[Z])&&PI[e]===v[e]&&i.getAxis(k).containData(PI[e])}function Xr(Z,e){if(Z.type==="cartesian2d"){var k=e[0].coord;var i=e[1].coord;if(k&&i&&(VD(1,k,i,Z)||VD(0,k,i,Z))){return true}}return R5(Z,e[0])&&R5(Z,e[1])}function Br(k,WH,eG,eJ,eH){var i=eJ.coordinateSystem;var e=k.getItemModel(WH);var PI;var v=OC(e.get("x"),eH.getWidth());var eI=OC(e.get("y"),eH.getHeight());if(!isNaN(v)&&!isNaN(eI)){PI=[v,eI]}else{if(eJ.getMarkerPosition){PI=eJ.getMarkerPosition(k.getValues(k.dimensions,WH))}else{var cc=i.dimensions;var eF=k.get(cc[0],WH);var Z=k.get(cc[1],WH);PI=i.dataToPoint([eF,Z])}if(i.type==="cartesian2d"){var Z2=i.getAxis("x");var XY=i.getAxis("y");var cc=i.dimensions;if(Xy(k.get(cc[0],WH))){PI[0]=Z2.toGlobalCoord(Z2.getExtent()[eG?0:1])}else{if(Xy(k.get(cc[1],WH))){PI[1]=XY.toGlobalCoord(XY.getExtent()[eG?0:1])}}}if(!isNaN(v)){PI[0]=v}if(!isNaN(eI)){PI[1]=eI}}k.setItemLayout(WH,PI)}RP.extend({type:"markLine",updateLayout:function(i,Z,e){Z.eachSeries(function(v){var PI=v.markLineModel;if(PI){var XY=PI.getData();var WH=PI.__from;var k=PI.__to;WH.each(function(Z2){Br(WH,Z2,true,v,e);Br(k,Z2,false,v,e)});XY.each(function(Z2){XY.setItemLayout(Z2,[WH.getItemLayout(Z2),k.getItemLayout(Z2)])});this.markerGroupMap.get(v.id).updateLayout()}},this)},renderSeries:function(eK,eF,e,eI){var i=eK.coordinateSystem;var PI=eK.id;var XY=eK.getData();var eG=this.markerGroupMap;var WH=eG.get(PI)||eG.set(PI,new Mq());this.group.add(WH.group);var eJ=JI(i,eK,eF);var cc=eJ.from;var eH=eJ.to;var v=eJ.line;eF.__from=cc;eF.__to=eH;eF.setData(v);var k=eF.get("symbol");var Z=eF.get("symbolSize");if(!aO(k)){k=[k,k]}if(typeof Z==="number"){Z=[Z,Z]}eJ.from.each(function(eL){Z2(cc,eL,true);Z2(eH,eL,false)});v.each(function(eM){var eL=v.getItemModel(eM).get("lineStyle.normal.color");v.setItemVisual(eM,{color:eL||cc.getItemVisual(eM,"color")});v.setItemLayout(eM,[cc.getItemLayout(eM),eH.getItemLayout(eM)]);v.setItemVisual(eM,{"fromSymbolSize":cc.getItemVisual(eM,"symbolSize"),"fromSymbol":cc.getItemVisual(eM,"symbol"),"toSymbolSize":eH.getItemVisual(eM,"symbolSize"),"toSymbol":eH.getItemVisual(eM,"symbol")})});WH.updateData(v);eJ.line.eachItemGraphicEl(function(eL,eM){eL.traverse(function(eN){eN.dataModel=eF})});function Z2(eO,eN,eL){var eM=eO.getItemModel(eN);Br(eO,eN,eL,eK,eI);eO.setItemVisual(eN,{symbolSize:eM.get("symbolSize")||Z[eL?0:1],symbol:eM.get("symbol",true)||k[eL?0:1],color:eM.get("itemStyle.normal.color")||XY.getVisual("color")})}WH.__keep=true;WH.group.silent=eF.get("silent")||eK.get("silent")}});function JI(e,Z2,v){var i;if(e){i=PK(e&&e.dimensions,function(cc){var eF=Z2.getData().getDimensionInfo(Z2.coordDimToDataDim(cc)[0])||{};eF.name=cc;return eF})}else{i=[{name:"value",type:"float"}]}var k=new Lu(i,v);var WH=new Lu(i,v);var PI=new Lu([],v);var Z=PK(v.get("data"),aT(EH,Z2,e,v));if(e){Z=Zs(Z,aT(Xr,e))}var XY=e?Aa:function(cc){return cc.value};k.initData(PK(Z,function(cc){return cc[0]}),null,XY);WH.initData(PK(Z,function(cc){return cc[1]}),null,XY);PI.initData(PK(Z,function(cc){return cc[2]}));PI.hasItemOption=true;return{from:k,to:WH,line:PI}}IL(function(Z){Z.markLine=Z.markLine||{}});DM.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:false,label:{normal:{show:true,position:"top"},emphasis:{show:true,position:"top"}},itemStyle:{normal:{borderWidth:0}}}});var Pu=function(v,i,Z,cc){var WH=SF(v,cc[0]);var PI=SF(v,cc[1]);var k=Ew;var Z2=WH.coord;var XY=PI.coord;Z2[0]=k(Z2[0],-Infinity);Z2[1]=k(Z2[1],-Infinity);XY[0]=k(XY[0],Infinity);XY[1]=k(XY[1],Infinity);var e=FJ([{},WH,PI]);e.coord=[WH.coord,PI.coord];e.x0=WH.x;e.y0=WH.y;e.x1=PI.x;e.y1=PI.y;return e};function Ww(Z){return !isNaN(Z)&&!isFinite(Z)}function Cp(e,v,k,i){var Z=1-e;return Ww(v[Z])&&Ww(k[Z])}function Cb(Z,e){var k=e.coord[0];var i=e.coord[1];if(Z.type==="cartesian2d"){if(k&&i&&(Cp(1,k,i,Z)||Cp(0,k,i,Z))){return true}}return R5(Z,{coord:k,x:e.x0,y:e.y0})||R5(Z,{coord:i,x:e.x1,y:e.y1})}function Ah(k,WH,PI,eI,eG){var i=eI.coordinateSystem;var e=k.getItemModel(WH);var eF;var v=OC(e.get(PI[0]),eG.getWidth());var eH=OC(e.get(PI[1]),eG.getHeight());if(!isNaN(v)&&!isNaN(eH)){eF=[v,eH]}else{if(eI.getMarkerPosition){eF=eI.getMarkerPosition(k.getValues(PI,WH))}else{var cc=k.get(PI[0],WH);var Z=k.get(PI[1],WH);eF=i.dataToPoint([cc,Z],true)}if(i.type==="cartesian2d"){var Z2=i.getAxis("x");var XY=i.getAxis("y");var cc=k.get(PI[0],WH);var Z=k.get(PI[1],WH);if(Ww(cc)){eF[0]=Z2.toGlobalCoord(Z2.getExtent()[PI[0]==="x0"?0:1])}else{if(Ww(Z)){eF[1]=XY.toGlobalCoord(XY.getExtent()[PI[1]==="y0"?0:1])}}}if(!isNaN(v)){eF[0]=v}if(!isNaN(eH)){eF[1]=eH}}return eF}var Bd=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];RP.extend({type:"markArea",updateLayout:function(e,Z,i){Z.eachSeries(function(k){var v=k.markAreaModel;if(v){var PI=v.getData();PI.each(function(Z2){var XY=PK(Bd,function(cc){return Ah(PI,Z2,cc,k,i)});PI.setItemLayout(Z2,XY);var WH=PI.getItemGraphicEl(Z2);WH.setShape("points",XY)})}},this)},renderSeries:function(k,Z,e,Z2){var i=k.coordinateSystem;var cc=k.name;var v=k.getData();var WH=this.markerGroupMap;var PI=WH.get(cc)||WH.set(cc,{group:new TD()});this.group.add(PI.group);PI.__keep=true;var XY=Df(i,k,Z);Z.setData(XY);XY.each(function(eF){XY.setItemLayout(eF,PK(Bd,function(eG){return Ah(XY,eF,eG,k,Z2)}));XY.setItemVisual(eF,{color:v.getVisual("color")})});XY.diff(PI.__data).add(function(eF){var eG=new GN({shape:{points:XY.getItemLayout(eF)}});XY.setItemGraphicEl(eF,eG);PI.group.add(eG)}).update(function(eF,eG){var eH=PI.__data.getItemGraphicEl(eG);Pr(eH,{shape:{points:XY.getItemLayout(eF)}},Z,eF);PI.group.add(eH);XY.setItemGraphicEl(eF,eH)}).remove(function(eF){var eG=PI.__data.getItemGraphicEl(eF);PI.group.remove(eG)}).execute();XY.eachItemGraphicEl(function(eJ,eI){var eF=XY.getItemModel(eI);var eH=eF.getModel("label.normal");var eG=eF.getModel("label.emphasis");var eK=XY.getItemVisual(eI,"color");eJ.useStyle(Id(eF.getModel("itemStyle.normal").getItemStyle(),{fill:Vi(eK,0.4),stroke:eK}));eJ.hoverStyle=eF.getModel("itemStyle.emphasis").getItemStyle();Ha(eJ.style,eJ.hoverStyle,eH,eG,{labelFetcher:Z,labelDataIndex:eI,defaultText:XY.getName(eI)||"",isRectText:true,autoColor:eK});Ne(eJ,{});eJ.dataModel=Z});PI.__data=XY;PI.group.silent=Z.get("silent")||k.get("silent")}});function Df(i,XY,Z){var k;var v;var PI=["x0","y0","x1","y1"];if(i){k=PK(i&&i.dimensions,function(Z2){var cc=XY.getData().getDimensionInfo(XY.coordDimToDataDim(Z2)[0])||{};cc.name=Z2;return cc});v=new Lu(PK(PI,function(cc,Z2){return{name:cc,type:k[Z2%2].type}}),Z)}else{k=[{name:"value",type:"float"}];v=new Lu(k,Z)}var e=PK(Z.get("data"),aT(Pu,XY,i,Z));if(i){e=Zs(e,aT(Cb,i))}var WH=i?function(eF,eG,Z2,cc){return eF.coord[Math.floor(cc/2)][cc%2]}:function(Z2){return Z2.value};v.initData(e,null,WH);v.hasItemOption=true;return v}IL(function(Z){Z.markArea=Z.markArea||{}});var V7=function(Z){var e=Z&&Z.timeline;if(!aO(e)){e=e?[e]:[]}Dc(e,function(i){if(!i){return}A0(i)})};function A0(e){var Z=e.type;var i={"number":"value","time":"time"};if(i[Z]){e.axisType=i[Z];delete e.type}cs(e);if(S0(e,"controlPosition")){var k=e.controlStyle||(e.controlStyle={});if(!S0(k,"position")){k.position=e.controlPosition}if(k.position==="none"&&!S0(k,"show")){k.show=false;delete k.position}delete e.controlPosition}Dc(e.data||[],function(v){if(Q(v)&&!aO(v)){if(!S0(v,"value")&&S0(v,"name")){v.value=v.name}cs(v)}})}function cs(i){var v=i.itemStyle||(i.itemStyle={});var k=v.emphasis||(v.emphasis={});var Z=i.label||(i.label||{});var e=Z.normal||(Z.normal={});var PI={normal:1,emphasis:1};Dc(Z,function(XY,WH){if(!PI[WH]&&!S0(e,WH)){e[WH]=XY}});if(k.label&&!S0(Z,"emphasis")){Z.emphasis=k.label;delete k.label}}function S0(Z,e){return Z.hasOwnProperty(e)}C8.registerSubTypeDefaulter("timeline",function(){return"slider"});R0({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(i,e){var Z=e.getComponent("timeline");if(Z&&i.currentIndex!=null){Z.setCurrentIndex(i.currentIndex);if(!Z.get("loop",true)&&Z.isIndexMax()){Z.setPlayState(false)}}e.resetOption("timeline");return Id({currentIndex:Z.option.currentIndex},i)});R0({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(i,e){var Z=e.getComponent("timeline");if(Z&&i.playState!=null){Z.setPlayState(i.playState)}});var ce=C8.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:true,axisType:"time",realtime:true,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:false,rewind:false,loop:true,playInterval:2000,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{color:"#000"},emphasis:{}},data:[]},init:function(Z,i,e){this._data;this._names;this.mergeDefaultAndTheme(Z,e);this._initData()},mergeOption:function(Z){ce.superApply(this,"mergeOption",arguments);this._initData()},setCurrentIndex:function(e){if(e==null){e=this.option.currentIndex}var Z=this._data.count();if(this.option.loop){e=(e%Z+Z)%Z}else{e>=Z&&(e=Z-1);e<0&&(e=0)}this.option.currentIndex=e},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(Z){this.option.autoPlay=!!Z},getPlayState:function(){return !!this.option.autoPlay},_initData:function(){var WH=this.option;var k=WH.data||[];var PI=WH.axisType;var e=this._names=[];if(PI==="category"){var v=[];Dc(k,function(cc,eF){var XY=Wh(cc);var Z2;if(Q(cc)){Z2=dp(cc);Z2.value=eF}else{Z2=eF}v.push(Z2);if(!DY(XY)&&(XY==null||isNaN(XY))){XY=""}e.push(XY+"")});k=v}var i=({category:"ordinal",time:"time"})[PI]||"number";var Z=this._data=new Lu([{name:"value",type:i}],this);Z.initData(k,e)},getData:function(){return this._data},getCategories:function(){if(this.get("axisType")==="category"){return this._names.slice()}}});var Jg=ce.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:false,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:true,width:2,color:"#304654"},label:{position:"auto",normal:{show:true,interval:"auto",rotate:0,color:"#304654"},emphasis:{show:true,color:"#c23531"}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:true,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:true,showPlayBtn:true,showPrevBtn:true,showNextBtn:true,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});cq(Jg,GR);var Fl=Ok.extend({type:"timeline"});var VA=function(e,i,Z,k){T1.call(this,e,i,Z);this.type=k||"value";this._autoLabelInterval;this.model=null};VA.prototype={constructor:VA,getLabelInterval:function(){var Z=this.model;var i=Z.getModel("label.normal");var e=i.get("interval");if(e!=null&&e!="auto"){return e}var e=this._autoLabelInterval;if(!e){e=this._autoLabelInterval=RX(PK(this.scale.getTicks(),this.dataToCoord,this),b(this,i.get("formatter")),i.getFont(),Z.get("orient")==="horizontal"?0:90,i.get("rotate"))}return e},isLabelIgnored:function(e){if(this.type==="category"){var Z=this.getLabelInterval();return((typeof Z==="function")&&!Z(e,this.scale.getLabel(e)))||e%(Z+1)}}};JO(VA,T1);var A6=b3;var Sp=Dc;var em=Math.PI;Fl.extend({type:"timeline.slider",init:function(Z,e){this.api=e;this._axis;this._viewRect;this._timer;this._currentPointer;this._mainGroup;this._labelGroup},render:function(PI,e,WH,i){this.model=PI;this.api=WH;this.ecModel=e;this.group.removeAll();if(PI.get("show",true)){var v=this._layout(PI,WH);var XY=this._createGroup("mainGroup");var Z=this._createGroup("labelGroup");var k=this._axis=this._createAxis(v,PI);PI.formatTooltip=function(Z2){return Pp(k.scale.getLabel(Z2))};Sp(["AxisLine","AxisTick","Control","CurrentPointer"],function(Z2){this["_render"+Z2](v,XY,k,PI)},this);this._renderAxisLabel(v,Z,k,PI);this._position(v,PI)}this._doPlayStop()},remove:function(){this._clearTimer();this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(XY,eI){var eG=XY.get("label.normal.position");var Z2=XY.get("orient");var eT=SV(XY,eI);if(eG==null||eG==="auto"){eG=Z2==="horizontal"?((eT.y+eT.height/2)<eI.getHeight()/2?"-":"+"):((eT.x+eT.width/2)<eI.getWidth()/2?"+":"-")}else{if(isNaN(eG)){eG=({horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}})[Z2][eG]}}var Z={horizontal:"center",vertical:(eG>=0||eG==="+")?"left":"right"};var i={horizontal:(eG>=0||eG==="+")?"top":"bottom",vertical:"middle"};var eH={horizontal:0,vertical:em/2};var v=Z2==="vertical"?eT.height:eT.width;var eO=XY.getModel("controlStyle");var cc=eO.get("show");var k=cc?eO.get("itemSize"):0;var eJ=cc?eO.get("itemGap"):0;var eR=k+eJ;var eF=XY.get("label.normal.rotate")||0;eF=eF*em/180;var eL;var PI;var WH;var eM;var eS=eO.get("position",true);var cc=eO.get("show",true);var eK=cc&&eO.get("showPlayBtn",true);var eP=cc&&eO.get("showPrevBtn",true);var eN=cc&&eO.get("showNextBtn",true);var e=0;var eQ=v;if(eS==="left"||eS==="bottom"){eK&&(eL=[0,0],e+=eR);eP&&(PI=[e,0],e+=eR);eN&&(WH=[eQ-k,0],eQ-=eR)}else{eK&&(eL=[eQ-k,0],eQ-=eR);eP&&(PI=[0,0],e+=eR);eN&&(WH=[eQ-k,0],eQ-=eR)}eM=[e,eQ];if(XY.get("inverse")){eM.reverse()}return{viewRect:eT,mainLength:v,orient:Z2,rotation:eH[Z2],labelRotation:eF,labelPosOpt:eG,labelAlign:XY.get("label.normal.align")||Z[Z2],labelBaseline:XY.get("label.normal.verticalAlign")||XY.get("label.normal.baseline")||i[Z2],playPosition:eL,prevBtnPosition:PI,nextBtnPosition:WH,axisExtent:eM,controlSize:k,controlGap:eJ}},_position:function(eF,PI){var e=this._mainGroup;var i=this._labelGroup;var eM=eF.viewRect;if(eF.orient==="vertical"){var WH=Hx();var eL=eM.x;var eK=eM.y+eM.height;Xo(WH,WH,[-eL,-eK]);cF(WH,WH,-em/2);Xo(WH,WH,[eL,eK]);eM=eM.clone();eM.applyTransform(WH)}var XY=eI(eM);var Z=eI(e.getBoundingRect());var eJ=eI(i.getBoundingRect());var k=e.position;var eH=i.position;eH[0]=k[0]=XY[0][0];var Z2=eF.labelPosOpt;if(isNaN(Z2)){var v=Z2==="+"?0:1;eG(k,Z,XY,1,v);eG(eH,eJ,XY,1,1-v)}else{var v=Z2>=0?0:1;eG(k,Z,XY,1,v);eH[1]=k[1]+Z2}e.attr("position",k);i.attr("position",eH);e.rotation=i.rotation=eF.rotation;cc(e);cc(i);function cc(eN){var eO=eN.position;eN.origin=[XY[0][0]-eO[0],XY[1][0]-eO[1]]}function eI(eN){return[[eN.x,eN.x+eN.width],[eN.y,eN.y+eN.height]]}function eG(eN,eO,eP,eQ,eR){eN[eQ]+=eP[eQ][eR]-eO[eQ][eR]}},_createAxis:function(WH,Z){var e=Z.getData();var PI=Z.get("axisType");var v=Xz(Z,PI);var i=e.getDataExtent("value");v.setExtent(i[0],i[1]);this._customizeScale(v,e);v.niceTicks();var k=new VA("value",v,WH.axisExtent,PI);k.model=Z;return k},_customizeScale:function(Z,e){Z.getTicks=function(){return e.mapArray(["value"],function(i){return i})};Z.getTicksLabels=function(){return PK(this.getTicks(),Z.getLabel,Z)}},_createGroup:function(Z){var e=this["_"+Z]=new TD();this.group.add(e);return e},_renderAxisLine:function(v,Z,k,e){var i=k.getExtent();if(!e.get("lineStyle.show")){return}Z.add(new S7({shape:{x1:i[0],y1:0,x2:i[1],y2:0},style:V8({lineCap:"round"},e.getModel("lineStyle").getLineStyle()),silent:true,z2:1}))},_renderAxisTick:function(PI,e,v,i){var k=i.getData();var Z=v.scale.getTicks();Sp(Z,function(cc,eF){var eG=v.dataToCoord(cc);var WH=k.getItemModel(eF);var Z2=WH.getModel("itemStyle.normal");var XY=WH.getModel("itemStyle.emphasis");var eI={position:[eG,0],onclick:A6(this._changeTimeline,this,eF)};var eH=YR(WH,Z2,e,eI);Ne(eH,XY.getItemStyle());if(WH.get("tooltip")){eH.dataIndex=eF;eH.dataModel=i}else{eH.dataIndex=eH.dataModel=null}},this)},_renderAxisLabel:function(k,v,Z,XY){var PI=XY.getModel("label.normal");if(!PI.get("show")){return}var i=XY.getData();var WH=Z.scale.getTicks();var Z2=b(Z,PI.get("formatter"));var e=Z.getLabelInterval();Sp(WH,function(cc,eF){if(Z.isLabelIgnored(eF,e)){return}var eH=i.getItemModel(eF);var eJ=eH.getModel("label.normal");var eI=eH.getModel("label.emphasis");var eG=Z.dataToCoord(cc);var eK=new FA({position:[eG,0],rotation:k.labelRotation-k.rotation,onclick:A6(this._changeTimeline,this,eF),silent:false});Dw(eK.style,eJ,{text:Z2[eF],textAlign:k.labelAlign,textVerticalAlign:k.labelBaseline});v.add(eK);Ne(eK,Dw({},eI))},this)},_renderControl:function(PI,WH,Z,Z2){var cc=PI.controlSize;var eF=PI.rotation;var k=Z2.getModel("controlStyle.normal").getItemStyle();var eG=Z2.getModel("controlStyle.emphasis").getItemStyle();var e=[0,-cc/2,cc,cc];var v=Z2.getPlayState();var XY=Z2.get("inverse",true);i(PI.nextBtnPosition,"controlStyle.nextIcon",A6(this._changeTimeline,this,XY?"-":"+"));i(PI.prevBtnPosition,"controlStyle.prevIcon",A6(this._changeTimeline,this,XY?"+":"-"));i(PI.playPosition,"controlStyle."+(v?"stopIcon":"playIcon"),A6(this._handlePlayClick,this,!v),true);function i(eJ,eM,eI,eL){if(!eJ){return}var eH={position:eJ,origin:[cc/2,0],rotation:eL?-eF:0,rectHover:true,style:k,onclick:eI};var eK=KI(Z2,eM,e,eH);WH.add(eK);Ne(eK,eG)}},_renderCurrentPointer:function(v,PI,Z,XY){var k=XY.getData();var i=XY.getCurrentIndex();var Z2=k.getItemModel(i).getModel("checkpointStyle");var WH=this;var e={onCreate:function(cc){cc.draggable=true;cc.drift=A6(WH._handlePointerDrag,WH);cc.ondragend=A6(WH._handlePointerDragend,WH);Ab(cc,i,Z,XY,true)},onUpdate:function(cc){Ab(cc,i,Z,XY)}};this._currentPointer=YR(Z2,Z2,this._mainGroup,{},this._currentPointer,e)},_handlePlayClick:function(Z){this._clearTimer();this.api.dispatchAction({type:"timelinePlayChange",playState:Z,from:this.uid})},_handlePointerDrag:function(i,k,Z){this._clearTimer();this._pointerChangeTimeline([Z.offsetX,Z.offsetY])},_handlePointerDragend:function(Z){this._pointerChangeTimeline([Z.offsetX,Z.offsetY],true)},_pointerChangeTimeline:function(v,PI){var Z=this._toAxisCoord(v)[0];var WH=this._axis;var e=FB(WH.getExtent().slice());Z>e[1]&&(Z=e[1]);Z<e[0]&&(Z=e[0]);this._currentPointer.position[0]=Z;this._currentPointer.dirty();var k=this._findNearestTick(Z);var i=this.model;if(PI||(k!==i.getCurrentIndex()&&i.get("realtime"))){this._changeTimeline(k)}},_doPlayStop:function(){this._clearTimer();if(this.model.getPlayState()){this._timer=setTimeout(A6(Z,this),this.model.get("playInterval"))}function Z(){var e=this.model;this._changeTimeline(e.getCurrentIndex()+(e.get("rewind",true)?-1:1))}},_toAxisCoord:function(Z){var e=this._mainGroup.getLocalTransform();return Bg(Z,e,true)},_findNearestTick:function(Z){var v=this.model.getData();var i=Infinity;var e;var k=this._axis;v.each(["value"],function(Z2,PI){var XY=k.dataToCoord(Z2);var WH=Math.abs(XY-Z);if(WH<i){i=WH;e=PI}});return e},_clearTimer:function(){if(this._timer){clearTimeout(this._timer);this._timer=null}},_changeTimeline:function(Z){var e=this.model.getCurrentIndex();if(Z==="+"){Z=e+1}else{if(Z==="-"){Z=e-1}}this.api.dispatchAction({type:"timelineChange",currentIndex:Z,from:this.uid})}});function SV(e,Z){return CC(e.getBoxLayoutParams(),{width:Z.getWidth(),height:Z.getHeight()},e.get("padding"))}function KI(Z,k,i,e){var v=IW(Z.get(k).replace(/^path:\/\//,""),dp(e||{}),new FC(i[0],i[1],i[2],i[3]),"center");return v}function YR(eH,XY,Z2,k,cc,i){var PI=XY.get("color");if(!cc){var v=eH.get("symbol");cc=Fq(v,-1,-1,2,2,PI);cc.setStyle("strokeNoScale",true);Z2.add(cc);i&&i.onCreate(cc)}else{cc.setColor(PI);Z2.add(cc);i&&i.onUpdate(cc)}var e=XY.getItemStyle(["color","symbol","symbolSize"]);cc.setStyle(e);k=KT({rectHover:true,z2:100},k,true);var Z=eH.get("symbolSize");Z=Z instanceof Array?Z.slice():[+Z,+Z];Z[0]/=2;Z[1]/=2;k.scale=Z;var WH=eH.get("symbolOffset");if(WH){var eF=k.position=k.position||[0,0];eF[0]+=OC(WH[0],Z[0]);eF[1]+=OC(WH[1],Z[1])}var eG=eH.get("symbolRotate");k.rotation=(eG||0)*Math.PI/180||0;cc.attr(k);cc.updateTransform();return cc}function Ab(e,k,WH,i,Z){if(e.dragging){return}var PI=i.getModel("checkpointStyle");var v=WH.dataToCoord(i.getData().get(["value"],k));if(Z||!PI.get("animation",true)){e.attr({position:[v,0]})}else{e.stopAnimation(true);e.animateTo({position:[v,0]},PI.get("animationDuration",true),PI.get("animationEasing",true))}}IL(V7);var Xj=GV({type:"toolbox",layoutMode:{type:"box",ignoreSize:true},mergeDefaultAndTheme:function(Z){Xj.superApply(this,"mergeDefaultAndTheme",arguments);Dc(this.option.feature,function(e,i){var k=QV(i);k&&KT(e,k.defaultOption)})},defaultOption:{show:true,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:true,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}});bX({type:"toolbox",render:function(Z,e,cc,i){var Z2=this.group;Z2.removeAll();if(!Z.get("show")){return}var k=+Z.get("itemSize");var WH=Z.get("feature")||{};var eF=this._features||(this._features={});var XY=[];Dc(WH,function(eG,eH){XY.push(eH)});(new U6(this._featureNames||[],XY)).add(PI).update(PI).remove(aT(PI,null)).execute();this._featureNames=XY;function PI(eH,eL){var eM=XY[eH];var eK=XY[eL];var eI=WH[eM];var eJ=new dc(eI,Z,Z.ecModel);var eN;if(eM&&!eK){if(B8(eM)){eN={model:eJ,onclick:eJ.option.onclick,featureName:eM}}else{var eG=QV(eM);if(!eG){return}eN=new eG(eJ,e,cc)}eF[eM]=eN}else{eN=eF[eK];if(!eN){return}eN.model=eJ;eN.ecModel=e;eN.api=cc}if(!eM&&eK){eN.dispose&&eN.dispose(e,cc);return}if(!eJ.get("show")||eN.unusable){eN.remove&&eN.remove(e,cc);return}v(eJ,eN,eM);eJ.setIconStatus=function(eO,eQ){var eP=this.option;var eR=this.iconPaths;eP.iconStatus=eP.iconStatus||{};eP.iconStatus[eO]=eQ;eR[eO]&&eR[eO].trigger(eQ)};if(eN.render){eN.render(eJ,e,cc,i)}}function v(eK,eO,eM){var eN=eK.getModel("iconStyle");var eI=eO.getIcons?eO.getIcons():eK.get("icon");var eG=eK.get("title")||{};if(typeof eI==="string"){var eJ=eI;var eL=eG;eI={};eG={};eI[eM]=eJ;eG[eM]=eL}var eH=eK.iconPaths={};Dc(eI,function(eQ,eP){var eR=Dp(eQ,{},{x:-k/2,y:-k/2,width:k,height:k});eR.setStyle(eN.getModel("normal").getItemStyle());eR.hoverStyle=eN.getModel("emphasis").getItemStyle();Ne(eR);if(Z.get("showTitle")){eR.__title=eG[eP];eR.on("mouseover",function(){var eS=eN.getModel("emphasis").getItemStyle();eR.setStyle({text:eG[eP],textPosition:eS.textPosition||"bottom",textFill:eS.fill||eS.stroke||"#000",textAlign:eS.textAlign||"center"})}).on("mouseout",function(){eR.setStyle({textFill:null})})}eR.trigger(eK.get("iconStatus."+eP)||"normal");Z2.add(eR);eR.on("click",b3(eO.onclick,eO,e,cc,eP));eH[eP]=eR})}NA(Z2,Z,cc);Z2.add(LA(Z2.getBoundingRect(),Z));Z2.eachChild(function(eK){var eN=eK.__title;var eM=eK.hoverStyle;if(eM&&eN){var eI=Hv(eN,bG(eM));var eG=eK.position[0]+Z2.position[0];var eL=eK.position[1]+Z2.position[1]+k;var eH=false;if(eL+eI.height>cc.getHeight()){eM.textPosition="top";eH=true}var eJ=eH?(-5-eI.height):(k+8);if(eG+eI.width/2>cc.getWidth()){eM.textPosition=["100%",eJ];eM.textAlign="right"}else{if(eG-eI.width/2<0){eM.textPosition=[0,eJ];eM.textAlign="left"}}}})},updateView:function(i,Z,k,e){Dc(this._features,function(v){v.updateView&&v.updateView(v.model,Z,k,e)})},updateLayout:function(i,Z,k,e){Dc(this._features,function(v){v.updateLayout&&v.updateLayout(v.model,Z,k,e)})},remove:function(Z,e){Dc(this._features,function(i){i.remove&&i.remove(Z,e)});this.group.removeAll()},dispose:function(Z,e){Dc(this._features,function(i){i.dispose&&i.dispose(Z,e)})}});function B8(Z){return Z.indexOf("my")===0}var Rb=CN.toolbox.saveAsImage;function Hf(Z){this.model=Z}Hf.defaultOption={show:true,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:Rb.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:Rb.lang.slice()};Hf.prototype.unusable=!PF.canvasSupported;var NU=Hf.prototype;NU.onclick=function(e,eH){var eJ=this.model;var cc=eJ.get("name")||e.get("title.0.text")||"echarts";var Z=document.createElement("a");var eG=eJ.get("type",true)||"png";Z.download=cc+"."+eG;Z.target="_blank";var eF=eH.getConnectedDataURL({type:eG,backgroundColor:eJ.get("backgroundColor",true)||e.get("backgroundColor")||"#fff",excludeComponents:eJ.get("excludeComponents"),pixelRatio:eJ.get("pixelRatio")});Z.href=eF;if(typeof MouseEvent==="function"&&!PF.browser.ie&&!PF.browser.edge){var v=new MouseEvent("click",{view:window,bubbles:true,cancelable:false});Z.dispatchEvent(v)}else{if(window.navigator.msSaveOrOpenBlob){var i=atob(eF.split(",")[1]);var WH=i.length;var Z2=new Uint8Array(WH);while(WH--){Z2[WH]=i.charCodeAt(WH)}var eI=new Blob([Z2]);window.navigator.msSaveOrOpenBlob(eI,cc+"."+eG)}else{var XY=eJ.get("lang");var PI='<body style="margin:0;"><img src="'+eF+'" style="max-width:100%;" title="'+((XY&&XY[0])||"")+'" /></body>';var k=window.open();k.document.write(PI)}}};EZ("saveAsImage",Hf);var eC=CN.toolbox.magicType;function F0(Z){this.model=Z}F0.defaultOption={show:true,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:dp(eC.title),option:{},seriesIndex:{}};var GY=F0.prototype;GY.getIcons=function(){var e=this.model;var i=e.get("icon");var Z={};Dc(e.get("type"),function(k){if(i[k]){Z[k]=i[k]}});return Z};var I2={"line":function(i,e,Z,k){if(i==="bar"){return KT({id:e,type:"line",data:Z.get("data"),stack:Z.get("stack"),markPoint:Z.get("markPoint"),markLine:Z.get("markLine")},k.get("option.line")||{},true)}},"bar":function(i,e,Z,k){if(i==="line"){return KT({id:e,type:"bar",data:Z.get("data"),stack:Z.get("stack"),markPoint:Z.get("markPoint"),markLine:Z.get("markLine")},k.get("option.bar")||{},true)}},"stack":function(i,e,Z,k){if(i==="line"||i==="bar"){return KT({id:e,stack:"__ec_magicType_stack__"},k.get("option.stack")||{},true)}},"tiled":function(i,e,Z,k){if(i==="line"||i==="bar"){return KT({id:e,stack:""},k.get("option.tiled")||{},true)}}};var Ip=[["line","bar"],["stack","tiled"]];GY.onclick=function(i,WH,Z){var v=this.model;var k=v.get("seriesIndex."+Z);if(!I2[Z]){return}var PI={series:[]};var e=function(eM){var eJ=eM.subType;var eF=eM.id;var eK=I2[Z](eJ,eF,eM,v);if(eK){Id(eK,eM.option);PI.series.push(eK)}var Z2=eM.coordinateSystem;if(Z2&&Z2.type==="cartesian2d"&&(Z==="line"||Z==="bar")){var eH=Z2.getAxesByScale("ordinal")[0];if(eH){var eL=eH.dim;var XY=eL+"Axis";var cc=i.queryComponents({mainType:XY,index:eM.get(name+"Index"),id:eM.get(name+"Id")})[0];var eG=cc.componentIndex;PI[XY]=PI[XY]||[];for(var eI=0;eI<=eG;eI++){PI[XY][eG]=PI[XY][eG]||{}}PI[XY][eG].boundaryGap=Z==="bar"?true:false}}};Dc(Ip,function(XY){if(Fx(XY,Z)>=0){Dc(XY,function(Z2){v.setIconStatus(Z2,"normal")})}});v.setIconStatus(Z,"emphasis");i.eachComponent({mainType:"series",query:k==null?null:{seriesIndex:k}},e);WH.dispatchAction({type:"changeMagicType",currentType:Z,newOption:PI})};R0({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,Z){Z.mergeOption(e.newOption)});EZ("magicType",F0);var dC=CN.toolbox.dataView;var DJ=new Array(60).join("-");var Nw="\t";function d1(e){var k={};var Z=[];var i=[];e.eachRawSeries(function(PI){var WH=PI.coordinateSystem;if(WH&&(WH.type==="cartesian2d"||WH.type==="polar")){var XY=WH.getBaseAxis();if(XY.type==="category"){var v=XY.dim+"_"+XY.index;if(!k[v]){k[v]={categoryAxis:XY,valueAxis:WH.getOtherAxis(XY),series:[]};i.push({axisDim:XY.dim,axisIndex:XY.index})}k[v].series.push(PI)}else{Z.push(PI)}}else{Z.push(PI)}});return{seriesGroupByCategoryAxis:k,other:Z,meta:i}}function PZ(e){var Z=[];Dc(e,function(Z2,k){var XY=Z2.categoryAxis;var eG=Z2.valueAxis;var v=eG.dim;var eF=[" "].concat(PK(Z2.series,function(i){return i.name}));var PI=[XY.model.getCategories()];Dc(Z2.series,function(i){PI.push(i.getRawData().mapArray(v,function(eJ){return eJ}))});var eI=[eF.join(Nw)];for(var cc=0;cc<PI[0].length;cc++){var eH=[];for(var WH=0;WH<PI.length;WH++){eH.push(PI[WH][cc])}eI.push(eH.join(Nw))}Z.push(eI.join("\n"))});return Z.join("\n\n"+DJ+"\n\n")}function Qc(Z){return PK(Z,function(i){var v=i.getRawData();var e=[i.name];var k=[];v.each(v.dimensions,function(){var XY=arguments.length;var PI=arguments[XY-1];var Z2=v.getName(PI);for(var WH=0;WH<XY-1;WH++){k[WH]=arguments[WH]}e.push((Z2?(Z2+Nw):"")+k.join(Nw))});return e.join("\n")}).join("\n\n"+DJ+"\n\n")}function d4(Z){var e=d1(Z);return{value:Zs([PZ(e.seriesGroupByCategoryAxis),Qc(e.other)],function(i){return i.replace(/[\n\t\s]/g,"")}).join("\n\n"+DJ+"\n\n"),meta:e.meta}}function Fp(Z){return Z.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function L0(e){var Z=e.slice(0,e.indexOf("\n"));if(Z.indexOf(Nw)>=0){return true}}var NI=new RegExp("["+Nw+"]+","g");function KG(Z2){var k=Z2.split(/\n+/g);var e=Fp(k.shift()).split(NI);var Z=[];var WH=PK(e,function(i){return{name:i,data:[]}});for(var v=0;v<k.length;v++){var XY=Fp(k[v]).split(NI);Z.push(XY.shift());for(var PI=0;PI<XY.length;PI++){WH[PI]&&(WH[PI].data[v]=XY[PI])}}return{series:WH,categories:Z}}function Ct(v){var k=v.split(/\n+/g);var eF=Fp(k.shift());var e=[];for(var WH=0;WH<k.length;WH++){var cc=Fp(k[WH]).split(NI);var Z="";var PI;var Z2=false;if(isNaN(cc[0])){Z2=true;Z=cc[0];cc=cc.slice(1);e[WH]={name:Z,value:[]};PI=e[WH].value}else{PI=e[WH]=[]}for(var XY=0;XY<cc.length;XY++){PI.push(+cc[XY])}if(PI.length===1){Z2?(e[WH].value=PI[0]):(e[WH]=PI[0])}}return{name:eF,data:e}}function Mk(i,e){var Z=i.split(new RegExp("\n*"+DJ+"\n*","g"));var k={series:[]};Dc(Z,function(Z2,XY){if(L0(Z2)){var PI=KG(Z2);var WH=e[XY];var v=WH.axisDim+"Axis";if(WH){k[v]=k[v]||[];k[v][WH.axisIndex]={data:PI.categories};k.series=k.series.concat(PI.series)}}else{var PI=Ct(Z2);k.series.push(PI)}});return k}function JB(Z){this._dom=null;this.model=Z}JB.defaultOption={show:true,readOnly:false,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:dp(dC.title),lang:dp(dC.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};JB.prototype.onclick=function(e,cc){var eM=cc.getDom();var i=this.model;if(this._dom){eM.removeChild(this._dom)}var eF=document.createElement("div");eF.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;";eF.style.backgroundColor=i.get("backgroundColor")||"#fff";var k=document.createElement("h4");var eI=i.get("lang")||[];k.innerHTML=eI[0]||i.get("title");k.style.cssText="margin: 10px 20px;";k.style.color=i.get("textColor");var v=document.createElement("div");var eK=document.createElement("textarea");v.style.cssText="display:block;width:100%;overflow:auto;";var eO=i.get("optionToContent");var PI=i.get("contentToOption");var eN=d4(e);if(typeof eO==="function"){var Z=eO(cc.getOption());if(typeof Z==="string"){v.innerHTML=Z}else{if(XA(Z)){v.appendChild(Z)}}}else{v.appendChild(eK);eK.readOnly=i.get("readOnly");eK.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;";eK.style.color=i.get("textColor");eK.style.borderColor=i.get("textareaBorderColor");eK.style.backgroundColor=i.get("textareaColor");eK.value=eN.value}var eG=eN.meta;var XY=document.createElement("div");XY.style.cssText="position:absolute;bottom:0;left:0;right:0;";var eH="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px";var Z2=document.createElement("div");var eL=document.createElement("div");eH+=";background-color:"+i.get("buttonColor");eH+=";color:"+i.get("buttonTextColor");var eJ=this;function WH(){eM.removeChild(eF);eJ._dom=null}FU(Z2,"click",WH);FU(eL,"click",function(){var eQ;try{if(typeof PI==="function"){eQ=PI(v,cc.getOption())}else{eQ=Mk(eK.value,eG)}}catch(eP){WH();throw new Error("Data view format error "+eP)}if(eQ){cc.dispatchAction({type:"changeDataView",newOption:eQ})}WH()});Z2.innerHTML=eI[1];eL.innerHTML=eI[2];eL.style.cssText=eH;Z2.style.cssText=eH;!i.get("readOnly")&&XY.appendChild(eL);XY.appendChild(Z2);FU(eK,"keydown",function(eP){if((eP.keyCode||eP.which)===9){var eR=this.value;var eS=this.selectionStart;var eQ=this.selectionEnd;this.value=eR.substring(0,eS)+Nw+eR.substring(eQ);this.selectionStart=this.selectionEnd=eS+1;Gj(eP)}});eF.appendChild(k);eF.appendChild(v);eF.appendChild(XY);v.style.height=(eM.clientHeight-80)+"px";eM.appendChild(eF);this._dom=eF};JB.prototype.remove=function(Z,e){this._dom&&e.getDom().removeChild(this._dom)};JB.prototype.dispose=function(Z,e){this.remove(Z,e)};function Nh(Z,e){return PK(Z,function(k,v){var i=e&&e[v];if(Q(i)&&!aO(i)){if(Q(k)&&!aO(k)){k=k.value}return Id({value:k},i)}else{return k}})}EZ("dataView",JB);R0({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(i,e){var Z=[];Dc(i.newOption.series,function(v){var k=e.getSeriesByName(v.name)[0];if(!k){Z.push(V8({type:"scatter"},v))}else{var PI=k.get("data");Z.push({name:v.name,data:Nh(v.data,PI)})}});e.mergeOption(Id({series:Z},i.newOption))});var Sr=Dc;var G1="\0_ec_hist_store";function TC(e,i){var Z=KH(e);Sr(i,function(XY,v){var k=Z.length-1;for(;k>=0;k--){var Z2=Z[k];if(Z2[v]){break}}if(k<0){var WH=e.queryComponents({mainType:"dataZoom",subType:"select",id:v})[0];if(WH){var PI=WH.getPercentRange();Z[0][v]={dataZoomId:v,start:PI[0],end:PI[1]}}}});Z.push(i)}function aQ(e){var Z=KH(e);var i=Z[Z.length-1];Z.length>1&&Z.pop();var k={};Sr(i,function(WH,PI){for(var v=Z.length-1;v>=0;v--){var WH=Z[v][PI];if(WH){k[PI]=WH;break}}});return k}function cx(Z){Z[G1]=null}function EG(Z){return KH(Z).length}function KH(e){var Z=e[G1];if(!Z){Z=e[G1]=[{}]}return Z}av.extend({type:"dataZoom.select"});O6.extend({type:"dataZoom.select"});var XS=CN.toolbox.dataZoom;var Sq=Dc;var G6="\0_ec_\0toolbox-dataZoom_";function Ja(i,Z,e){(this._brushController=new WS(e.getZr())).on("brush",b3(this._onBrush,this)).mount();this._isZoomActive}Ja.defaultOption={show:true,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:dp(XS.title)};var G2=Ja.prototype;G2.render=function(i,Z,k,e){this.model=i;this.ecModel=Z;this.api=k;VQ(i,Z,this,e,k);LZ(i,Z)};G2.onclick=function(e,i,Z){IA[Z].call(this)};G2.remove=function(Z,e){this._brushController.unmount()};G2.dispose=function(Z,e){this._brushController.dispose()};var IA={zoom:function(){var Z=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:Z})},back:function(){this._dispatchZoomAction(aQ(this.ecModel))}};G2._onBrush=function(Z,e){if(!e.isEnd||!Z.length){return}var PI={};var i=this.ecModel;this._brushController.updateCovers([]);var WH=new m(Sd(this.model.option),i,{include:["grid"]});WH.matchOutputRanges(Z,i,function(eF,XY,Z2){if(Z2.type!=="cartesian2d"){return}var cc=eF.brushType;if(cc==="rect"){k("x",Z2,XY[0]);k("y",Z2,XY[1])}else{k(({lineX:"x",lineY:"y"})[cc],Z2,XY)}});TC(i,PI);this._dispatchZoomAction(PI);function k(eF,cc,XY){var eI=cc.getAxis(eF);var eH=eI.model;var eG=v(eF,eH,i);var Z2=eG.findRepresentativeAxisProxy(eH).getMinMaxSpan();if(Z2.minValueSpan!=null||Z2.maxValueSpan!=null){XY=JK(0,XY.slice(),eI.scale.getExtent(),0,Z2.minValueSpan,Z2.maxValueSpan)}eG&&(PI[eG.id]={dataZoomId:eG.id,startValue:XY[0],endValue:XY[1]})}function v(cc,Z2,XY){var eF;XY.eachComponent({mainType:"dataZoom",subType:"select"},function(eG){var eH=eG.getAxisModel(cc,Z2.componentIndex);eH&&(eF=eG)});return eF}};G2._dispatchZoomAction=function(Z){var e=[];Sq(Z,function(k,i){e.push(dp(k))});e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})};function Sd(Z){var e={};Dc(["xAxisIndex","yAxisIndex"],function(i){e[i]=Z[i];e[i]==null&&(e[i]="all");(e[i]===false||e[i]==="none")&&(e[i]=[])});return e}function LZ(e,Z){e.setIconStatus("back",EG(Z)>1?"emphasis":"normal")}function VQ(v,i,k,Z,PI){var e=k._isZoomActive;if(Z&&Z.type==="takeGlobalCursor"){e=Z.key==="dataZoomSelect"?Z.dataZoomSelectActive:false}k._isZoomActive=e;v.setIconStatus("zoom",e?"emphasis":"normal");var WH=new m(Sd(v.option),i,{include:["grid"]});k._brushController.setPanels(WH.makePanelOpts(PI,function(XY){return(XY.xAxisDeclared&&!XY.yAxisDeclared)?"lineX":(!XY.xAxisDeclared&&XY.yAxisDeclared)?"lineY":"rect"})).enableBrush(e?{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}}:false)}EZ("dataZoom",Ja);IL(function(e){if(!e){return}var PI=e.dataZoom||(e.dataZoom=[]);if(!aO(PI)){e.dataZoom=PI=[PI]}var i=e.toolbox;if(i){if(aO(i)){i=i[0]}if(i&&i.feature){var k=i.feature.dataZoom;Z("xAxis",k);Z("yAxis",k)}}function Z(cc,Z2){if(!Z2){return}var WH=cc+"Index";var XY=Z2[WH];if(XY!=null&&XY!="all"&&!aO(XY)){XY=(XY===false||XY==="none")?[]:[XY]}v(cc,function(eF,eH){if(XY!=null&&XY!="all"&&Fx(XY,eH)===-1){return}var eG={type:"select",$fromToolbox:true,id:G6+cc+eH};eG[WH]=eH;PI.push(eG)})}function v(Z2,WH){var XY=e[Z2];if(!aO(XY)){XY=XY?[XY]:[]}Sq(XY,WH)}});var V6=CN.toolbox.restore;function ap(Z){this.model=Z}ap.defaultOption={show:true,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:V6.title};var G3=ap.prototype;G3.onclick=function(e,i,Z){cx(e);i.dispatchAction({type:"restore",from:this.uid})};EZ("restore",ap);R0({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,Z){Z.resetOption("recreate")});var aM="urn:schemas-microsoft-com:vml";var BX=typeof window==="undefined"?null:window;var Yn=false;var Hr=BX&&BX.document;function SS(Z){return YN(Z)}var YN;if(Hr&&!PF.canvasSupported){try{!Hr.namespaces.zrvml&&Hr.namespaces.add("zrvml",aM);YN=function(Z){return Hr.createElement("<zrvml:"+Z+' class="zrvml">')}}catch(OR){YN=function(Z){return Hr.createElement("<"+Z+' xmlns="'+aM+'" class="zrvml">')}}}function YX(){if(Yn||!Hr){return}Yn=true;var Z=Hr.styleSheets;if(Z.length<31){Hr.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)")}else{Z[0].addRule(".zrvml","behavior:url(#default#VML)")}}var Y4=N3.CMD;var C=Math.round;var SM=Math.sqrt;var Pn=Math.abs;var L6=Math.cos;var YV=Math.sin;var Dr=Math.max;if(!PF.canvasSupported){var ct=",";var NC="progid:DXImageTransform.Microsoft";var Oy=21600;var OG=Oy/2;var C7=100000;var EI=1000;var bZ=function(Z){Z.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;";Z.coordsize=Oy+","+Oy;Z.coordorigin="0,0"};var Rq=function(Z){return String(Z).replace(/&/g,"&amp;").replace(/"/g,"&quot;")};var Wu=function(e,Z,i){return"rgb("+[e,Z,i].join(",")+")"};var MS=function(e,Z){if(Z&&e&&Z.parentNode!==e){e.appendChild(Z)}};var AY=function(e,Z){if(Z&&e&&Z.parentNode===e){e.removeChild(Z)}};var dG=function(e,Z,i){return(parseFloat(e)||0)*C7+(parseFloat(Z)||0)*EI+i};var dK=function(Z,e){if(typeof Z==="string"){if(Z.lastIndexOf("%")>=0){return parseFloat(Z)/100*e}return parseFloat(Z)}return Z};var Ue=function(Z,k,i){var e=a8(k);i=+i;if(isNaN(i)){i=1}if(e){Z.color=Wu(e[0],e[1],e[2]);Z.opacity=i*e[3]}};var GQ=function(e){var Z=a8(e);return[Wu(Z[0],Z[1],Z[2]),Z[3]]};var G8=function(eY,eM,cc){var e1=eM.fill;if(e1!=null){if(e1 instanceof IN){var eN;var e0=0;var eH=[0,0];var eU=0;var e=1;var eS=cc.getBoundingRect();var WH=eS.width;var eF=eS.height;if(e1.type==="linear"){eN="gradient";var XY=cc.transform;var eK=[e1.x*WH,e1.y*eF];var Z2=[e1.x2*WH,e1.y2*eF];if(XY){HV(eK,eK,XY);HV(Z2,Z2,XY)}var eI=Z2[0]-eK[0];var eX=Z2[1]-eK[1];e0=Math.atan2(eI,eX)*180/Math.PI;if(e0<0){e0+=360}if(e0<1e-06){e0=0}}else{eN="gradientradial";var eK=[e1.x*WH,e1.y*eF];var XY=cc.transform;var eJ=cc.scale;var eO=WH;var eZ=eF;eH=[(eK[0]-eS.x)/eO,(eK[1]-eS.y)/eZ];if(XY){HV(eK,eK,XY)}eO/=eJ[0]*Oy;eZ/=eJ[1]*Oy;var eR=Dr(eO,eZ);eU=2*0/eR;e=2*e1.r/eR-eU}var eP=e1.colorStops.slice();eP.sort(function(i,e2){return i.offset-e2.offset});var v=eP.length;var k=[];var eQ=[];for(var eW=0;eW<v;eW++){var Z=eP[eW];var eG=GQ(Z.color);eQ.push(Z.offset*e+eU+" "+eG[0]);if(eW===0||eW===v-1){k.push(eG)}}if(v>=2){var eL=k[0][0];var PI=k[1][0];var eT=k[0][1]*eM.opacity;var eV=k[1][1]*eM.opacity;eY.type=eN;eY.method="none";eY.focus="100%";eY.angle=e0;eY.color=eL;eY.color2=PI;eY.colors=eQ.join(",");eY.opacity=eV;eY.opacity2=eT}if(eN==="radial"){eY.focusposition=eH.join(",")}}else{Ue(eY,e1,eM.opacity)}}};var da=function(Z,e){if(e.lineDash!=null){Z.dashstyle=e.lineDash.join(" ")}if(e.stroke!=null&&!(e.stroke instanceof IN)){Ue(Z,e.stroke,e.opacity)}};var Ia=function(Z,PI,k,e){var i=PI=="fill";var v=Z.getElementsByTagName(PI)[0];if(k[PI]!=null&&k[PI]!=="none"&&(i||(!i&&k.lineWidth))){Z[i?"filled":"stroked"]="true";if(k[PI] instanceof IN){AY(Z,v)}if(!v){v=SS(PI)}i?G8(v,k,e):da(v,k);MS(Z,v)}else{Z[i?"filled":"stroked"]="false";AY(Z,v)}};var C5=[[],[],[]];var EL=function(e1,e8){var eX=Y4.M;var eY=Y4.C;var WH=Y4.L;var e0=Y4.A;var eQ=Y4.Q;var fb=[];var cc;var Z2;var eF;var e7;var eV;var eW;var e6=e1.data;var e=e1.len();for(e7=0;e7<e;){eF=e6[e7++];Z2="";cc=0;switch(eF){case eX:Z2=" m ";cc=1;eV=e6[e7++];eW=e6[e7++];C5[0][0]=eV;C5[0][1]=eW;break;case WH:Z2=" l ";cc=1;eV=e6[e7++];eW=e6[e7++];C5[0][0]=eV;C5[0][1]=eW;break;case eQ:case eY:Z2=" c ";cc=3;var eG=e6[e7++];var eH=e6[e7++];var v=e6[e7++];var PI=e6[e7++];var e9;var fa;if(eF===eQ){e9=v;fa=PI;v=(v+2*eG)/3;PI=(PI+2*eH)/3;eG=(eV+2*eG)/3;eH=(eW+2*eH)/3}else{e9=e6[e7++];fa=e6[e7++]}C5[0][0]=eG;C5[0][1]=eH;C5[1][0]=v;C5[1][1]=PI;C5[2][0]=e9;C5[2][1]=fa;eV=e9;eW=fa;break;case e0:var e3=0;var e4=0;var eT=1;var eM=1;var eK=0;if(e8){e3=e8[4];e4=e8[5];eT=SM(e8[0]*e8[0]+e8[1]*e8[1]);eM=SM(e8[2]*e8[2]+e8[3]*e8[3]);eK=Math.atan2(-e8[1]/eM,e8[0]/eT)}var e2=e6[e7++];var eU=e6[e7++];var eS=e6[e7++];var eL=e6[e7++];var eP=e6[e7++]+eK;var eZ=e6[e7++]+eP+eK;e7++;var XY=e6[e7++];var eN=e2+L6(eP)*eS;var eO=eU+YV(eP)*eL;var eG=e2+L6(eZ)*eS;var eH=eU+YV(eZ)*eL;var Z=XY?" wa ":" at ";if(Math.abs(eN-eG)<0.0001){if(Math.abs(eZ-eP)>0.01){if(XY){eN+=270/Oy}}else{if(Math.abs(eO-eU)<0.0001){if((XY&&eN<e2)||(!XY&&eN>e2)){eH-=270/Oy}else{eH+=270/Oy}}else{if((XY&&eO<eU)||(!XY&&eO>eU)){eG+=270/Oy}else{eG-=270/Oy}}}}fb.push(Z,C(((e2-eS)*eT+e3)*Oy-OG),ct,C(((eU-eL)*eM+e4)*Oy-OG),ct,C(((e2+eS)*eT+e3)*Oy-OG),ct,C(((eU+eL)*eM+e4)*Oy-OG),ct,C((eN*eT+e3)*Oy-OG),ct,C((eO*eM+e4)*Oy-OG),ct,C((eG*eT+e3)*Oy-OG),ct,C((eH*eM+e4)*Oy-OG));eV=eG;eW=eH;break;case Y4.R:var eR=C5[0];var eJ=C5[1];eR[0]=e6[e7++];eR[1]=e6[e7++];eJ[0]=eR[0]+e6[e7++];eJ[1]=eR[1]+e6[e7++];if(e8){HV(eR,eR,e8);HV(eJ,eJ,e8)}eR[0]=C(eR[0]*Oy-OG);eJ[0]=C(eJ[0]*Oy-OG);eR[1]=C(eR[1]*Oy-OG);eJ[1]=C(eJ[1]*Oy-OG);fb.push(" m ",eR[0],ct,eR[1]," l ",eJ[0],ct,eR[1]," l ",eJ[0],ct,eJ[1]," l ",eR[0],ct,eJ[1]);break;case Y4.Z:fb.push(" x ")}if(cc>0){fb.push(Z2);for(var eI=0;eI<cc;eI++){var e5=C5[eI];e8&&HV(e5,e5,e8);fb.push(C(e5[0]*Oy-OG),ct,C(e5[1]*Oy-OG),eI<cc-1?ct:"")}}}return fb.join("")};Lw.prototype.brushVML=function(Z){var v=this.style;var e=this._vmlEl;if(!e){e=SS("shape");bZ(e);this._vmlEl=e}Ia(e,"fill",v,this);Ia(e,"stroke",v,this);var XY=this.transform;var WH=XY!=null;var k=e.getElementsByTagName("stroke")[0];if(k){var PI=v.lineWidth;if(WH&&!v.strokeNoScale){var i=XY[0]*XY[3]-XY[1]*XY[2];PI*=SM(Pn(i))}k.weight=PI+"px"}var Z2=this.path||(this.path=new N3());if(this.__dirtyPath){Z2.beginPath();this.buildPath(Z2,this.shape);Z2.toStatic();this.__dirtyPath=false}e.path=EL(Z2,this.transform);e.style.zIndex=dG(this.zlevel,this.z,this.z2);MS(Z,e);if(v.text!=null){this.drawRectText(Z,this.getBoundingRect())}else{this.removeRectText(Z)}};Lw.prototype.onRemove=function(Z){AY(Z,this._vmlEl);this.removeRectText(Z)};Lw.prototype.onAdd=function(Z){MS(Z,this._vmlEl);this.appendRectText(Z)};var RR=function(Z){return(typeof Z==="object")&&Z.tagName&&Z.tagName.toUpperCase()==="IMG"};G4.prototype.brushVML=function(eP){var eY=this.style;var Z2=eY.image;var eN;var cc;if(RR(Z2)){var eV=Z2.src;if(eV===this._imageSrc){eN=this._imageWidth;cc=this._imageHeight}else{var e4=Z2.runtimeStyle;var e5=e4.width;var k=e4.height;e4.width="auto";e4.height="auto";eN=Z2.width;cc=Z2.height;e4.width=e5;e4.height=k;this._imageSrc=eV;this._imageWidth=eN;this._imageHeight=cc}Z2=eV}else{if(Z2===this._imageSrc){eN=this._imageWidth;cc=this._imageHeight}}if(!Z2){return}var e0=eY.x||0;var e1=eY.y||0;var eG=eY.width;var eI=eY.height;var PI=eY.sWidth;var XY=eY.sHeight;var eS=eY.sx||0;var eH=eY.sy||0;var eO=PI&&XY;var eX=this._vmlEl;if(!eX){eX=Hr.createElement("div");bZ(eX);this._vmlEl=eX}var e3=eX.style;var e6=false;var e7;var eU=1;var eM=1;if(this.transform){e7=this.transform;eU=SM(e7[0]*e7[0]+e7[1]*e7[1]);eM=SM(e7[2]*e7[2]+e7[3]*e7[3]);e6=e7[1]||e7[2]}if(e6){var eR=[e0,e1];var eK=[e0+eG,e1];var WH=[e0,e1+eI];var Z=[e0+eG,e1+eI];HV(eR,eR,e7);HV(eK,eK,e7);HV(WH,WH,e7);HV(Z,Z,e7);var eJ=Dr(eR[0],eK[0],WH[0],Z[0]);var eQ=Dr(eR[1],eK[1],WH[1],Z[1]);var i=[];i.push("M11=",e7[0]/eU,ct,"M12=",e7[2]/eM,ct,"M21=",e7[1]/eU,ct,"M22=",e7[3]/eM,ct,"Dx=",C(e0*eU+e7[4]),ct,"Dy=",C(e1*eM+e7[5]));e3.padding="0 "+C(eJ)+"px "+C(eQ)+"px 0";e3.filter=NC+".Matrix("+i.join("")+", SizingMethod=clip)"}else{if(e7){e0=e0*eU+e7[4];e1=e1*eM+e7[5]}e3.filter="";e3.left=C(e0)+"px";e3.top=C(e1)+"px"}var eF=this._imageEl;var e2=this._cropEl;if(!eF){eF=Hr.createElement("div");this._imageEl=eF}var eL=eF.style;if(eO){if(!(eN&&cc)){var v=new Image();var eW=this;v.onload=function(){v.onload=null;eN=v.width;cc=v.height;eL.width=C(eU*eN*eG/PI)+"px";eL.height=C(eM*cc*eI/XY)+"px";eW._imageWidth=eN;eW._imageHeight=cc;eW._imageSrc=Z2};v.src=Z2}else{eL.width=C(eU*eN*eG/PI)+"px";eL.height=C(eM*cc*eI/XY)+"px"}if(!e2){e2=Hr.createElement("div");e2.style.overflow="hidden";this._cropEl=e2}var eZ=e2.style;eZ.width=C((eG+eS*eG/PI)*eU);eZ.height=C((eI+eH*eI/XY)*eM);eZ.filter=NC+".Matrix(Dx="+(-eS*eG/PI*eU)+",Dy="+(-eH*eI/XY*eM)+")";if(!e2.parentNode){eX.appendChild(e2)}if(eF.parentNode!=e2){e2.appendChild(eF)}}else{eL.width=C(eU*eG)+"px";eL.height=C(eM*eI)+"px";eX.appendChild(eF);if(e2&&e2.parentNode){eX.removeChild(e2);this._cropEl=null}}var eT="";var e=eY.opacity;if(e<1){eT+=".Alpha(opacity="+C(e*100)+") "}eT+=NC+".AlphaImageLoader(src="+Z2+", SizingMethod=scale)";eL.filter=eT;eX.style.zIndex=dG(this.zlevel,this.z,this.z2);MS(eP,eX);if(eY.text!=null){this.drawRectText(eP,this.getBoundingRect())}};G4.prototype.onRemove=function(Z){AY(Z,this._vmlEl);this._vmlEl=null;this._cropEl=null;this._imageEl=null;this.removeRectText(Z)};G4.prototype.onAdd=function(Z){MS(Z,this._vmlEl);this.appendRectText(Z)};var K7="normal";var cL={};var B0=0;var a3=100;var dF=document.createElement("div");var HW=function(k){var v=cL[k];if(!v){if(B0>a3){B0=0;cL={}}var i=dF.style;var PI;try{i.font=k;PI=i.fontFamily.split(",")[0]}catch(Z){}v={style:i.fontStyle||K7,variant:i.fontVariant||K7,weight:i.fontWeight||K7,size:parseFloat(i.fontSize||12)|0,family:PI||"Microsoft YaHei"};cL[k]=v;B0++}return v};var MW;Pk("measureText",function(e,k){var i=Hr;if(!MW){MW=i.createElement("div");MW.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;";Hr.body.appendChild(MW)}try{MW.style.font=k}catch(Z){}MW.innerHTML="";MW.appendChild(i.createTextNode(e));return{width:MW.offsetWidth}});var bR=new FC();var Rk=function(Z2,eG,eZ,eN){var eY=this.style;this.__dirty&&CY(eY,true);var eI=eY.text;eI!=null&&(eI+="");if(!eI){return}if(eY.rich){var eP=JJ(eI,eY);eI=[];for(var eU=0;eU<eP.lines.length;eU++){var WH=eP.lines[eU].tokens;var v=[];for(var eF=0;eF<WH.length;eF++){v.push(WH[eF].text)}eI.push(v.join(""))}eI=eI.join("\n")}var eV;var eW;var XY=eY.textAlign;var eS=eY.textVerticalAlign;var eQ=HW(eY.font);var PI=eQ.style+" "+eQ.variant+" "+eQ.weight+" "+eQ.size+'px "'+eQ.family+'"';eZ=eZ||Hv(eI,PI,XY,eS);var cc=this.transform;if(cc&&!eN){bR.copy(eG);bR.applyTransform(cc);eG=bR}if(!eN){var eT=eY.textPosition;var eK=eY.textDistance;if(eT instanceof Array){eV=eG.x+dK(eT[0],eG.width);eW=eG.y+dK(eT[1],eG.height);XY=XY||"left"}else{var Z=Xm(eT,eG,eK);eV=Z.x;eW=Z.y;XY=XY||Z.textAlign;eS=eS||Z.textVerticalAlign}}else{eV=eG.x;eW=eG.y}eV=X0(eV,eZ.width,XY);eW=DW(eW,eZ.height,eS);eW+=eZ.height/2;var k=SS;var eH=this._textVmlEl;var eR;var eL;var eM;if(!eH){eH=k("line");eR=k("path");eL=k("textpath");eM=k("skew");eL.style["v-text-align"]="left";bZ(eH);eR.textpathok=true;eL.on=true;eH.from="0 0";eH.to="1000 0.05";MS(eH,eM);MS(eH,eR);MS(eH,eL);this._textVmlEl=eH}else{eM=eH.firstChild;eR=eM.nextSibling;eL=eR.nextSibling}var eO=[eV,eW];var eX=eH.style;if(cc&&eN){HV(eO,eO,cc);eM.on=true;eM.matrix=cc[0].toFixed(3)+ct+cc[2].toFixed(3)+ct+cc[1].toFixed(3)+ct+cc[3].toFixed(3)+",0,0";eM.offset=(C(eO[0])||0)+","+(C(eO[1])||0);eM.origin="0 0";eX.left="0px";eX.top="0px"}else{eM.on=false;eX.left=C(eV)+"px";eX.top=C(eW)+"px"}eL.string=Rq(eI);try{eL.style.font=PI}catch(eJ){}Ia(eH,"fill",{fill:eY.textFill,opacity:eY.opacity},this);Ia(eH,"stroke",{stroke:eY.textStroke,opacity:eY.opacity,lineDash:eY.lineDash},this);eH.style.zIndex=dG(this.zlevel,this.z,this.z2);MS(Z2,eH)};var Nc=function(Z){AY(Z,this._textVmlEl);this._textVmlEl=null};var BJ=function(Z){MS(Z,this._textVmlEl)};var SW=[So,TE,G4,Lw,FA];for(var DG=0;DG<SW.length;DG++){var G0=SW[DG].prototype;G0.drawRectText=Rk;G0.removeRectText=Nc;G0.appendRectText=BJ}FA.prototype.brushVML=function(e){var Z=this.style;if(Z.text!=null){this.drawRectText(e,{x:Z.x||0,y:Z.y||0,width:0,height:0},this.getBoundingRect(),true)}else{this.removeRectText(e)}};FA.prototype.onRemove=function(Z){this.removeRectText(Z)};FA.prototype.onAdd=function(Z){this.appendRectText(Z)}}function Wn(Z){return parseInt(Z,10)}function Ft(i,Z){YX();this.root=i;this.storage=Z;var k=document.createElement("div");var v=document.createElement("div");k.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;";v.style.cssText="position:absolute;left:0;top:0;";i.appendChild(k);this._vmlRoot=v;this._vmlViewport=k;this.resize();var PI=Z.delFromStorage;var e=Z.addToStorage;Z.delFromStorage=function(WH){PI.call(Z,WH);if(WH){WH.onRemove&&WH.onRemove(v)}};Z.addToStorage=function(WH){WH.onAdd&&WH.onAdd(v);e.call(Z,WH)};this._firstPaint=true}Ft.prototype={constructor:Ft,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var Z=this.getViewportRoot();if(Z){return{offsetLeft:Z.offsetLeft||0,offsetTop:Z.offsetTop||0}}},refresh:function(){var Z=this.storage.getDisplayList(true,true);this._paintList(Z)},_paintList:function(k){var v=this._vmlRoot;for(var e=0;e<k.length;e++){var Z=k[e];if(Z.invisible||Z.ignore){if(!Z.__alreadyNotVisible){Z.onRemove(v)}Z.__alreadyNotVisible=true}else{if(Z.__alreadyNotVisible){Z.onAdd(v)}Z.__alreadyNotVisible=false;if(Z.__dirty){Z.beforeBrush&&Z.beforeBrush();(Z.brushVML||Z.brush).call(Z,v);Z.afterBrush&&Z.afterBrush()}}Z.__dirty=false}if(this._firstPaint){this._vmlViewport.appendChild(v);this._firstPaint=false}},resize:function(i,Z){var i=i==null?this._getWidth():i;var Z=Z==null?this._getHeight():Z;if(this._width!=i||this._height!=Z){this._width=i;this._height=Z;var e=this._vmlViewport.style;e.width=i+"px";e.height=Z+"px"}},dispose:function(){this.root.innerHTML="";this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){if(this._vmlViewport){this.root.removeChild(this._vmlViewport)}},_getWidth:function(){var Z=this.root;var e=Z.currentStyle;return((Z.clientWidth||Wn(e.width))-Wn(e.paddingLeft)-Wn(e.paddingRight))|0},_getHeight:function(){var Z=this.root;var e=Z.currentStyle;return((Z.clientHeight||Wn(e.height))-Wn(e.paddingTop)-Wn(e.paddingBottom))|0}};function O2(Z){return function(){Qw('In IE8.0 VML mode painter not support method "'+Z+'"')}}Dc(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(Z){Ft.prototype[Z]=O2(Z)});CA("vml",Ft);var ES="http://www.w3.org/2000/svg";function PH(Z){return document.createElementNS(ES,Z)}var U2=N3.CMD;var HM=Array.prototype.join;var ew="none";var Km=Math.round;var P7=Math.sin;var CM=Math.cos;var Q2=Math.PI;var Cj=Math.PI*2;var dV=180/Q2;var aG=0.0001;function VV(Z){return Km(Z*10000)/10000}function Zw(Z){return Z<aG&&Z>-aG}function Bc(i,e){var Z=e?i.textFill:i.fill;return Z!=null&&Z!==ew}function EM(i,Z){var e=Z?i.textStroke:i.stroke;return e!=null&&e!==ew}function O4(Z,e){if(e){DF(Z,"transform","matrix("+HM.call(e,",")+")")}}function DF(Z,e,i){if(!i||i.type!=="linear"&&i.type!=="radial"){Z.setAttribute(e,i)}}function BS(Z,e,i){Z.setAttributeNS("http://www.w3.org/1999/xlink",e,i)}function Ri(i,k,v){if(Bc(k,v)){var e=v?k.textFill:k.fill;e=e==="transparent"?ew:e;if(i.getAttribute("clip-path")!=="none"&&e===ew){e="rgba(0, 0, 0, 0.002)"}DF(i,"fill",e);DF(i,"fill-opacity",k.opacity)}else{DF(i,"fill",ew)}if(EM(k,v)){var WH=v?k.textStroke:k.stroke;WH=WH==="transparent"?ew:WH;DF(i,"stroke",WH);var PI=v?k.textStrokeWidth:k.lineWidth;var XY=k.strokeNoScale?k.host.getLineScale():1;DF(i,"stroke-width",PI/XY);DF(i,"paint-order","stroke");DF(i,"stroke-opacity",k.opacity);var Z=k.lineDash;if(Z){DF(i,"stroke-dasharray",k.lineDash.join(","));DF(i,"stroke-dashoffset",Km(k.lineDashOffset||0))}else{DF(i,"stroke-dasharray","")}k.lineCap&&DF(i,"stroke-linecap",k.lineCap);k.lineJoin&&DF(i,"stroke-linejoin",k.lineJoin);k.miterLimit&&DF(i,"stroke-miterlimit",k.miterLimit)}else{DF(i,"stroke",ew)}}function WV(eH){var Z=[];var eG=eH.data;var e=eH.len();for(var XY=0;XY<e;){var eJ=eG[XY++];var eK="";var eT=0;switch(eJ){case U2.M:eK="M";eT=2;break;case U2.L:eK="L";eT=2;break;case U2.Q:eK="Q";eT=4;break;case U2.C:eK="C";eT=6;break;case U2.A:var PI=eG[XY++];var eM=eG[XY++];var eP=eG[XY++];var Z2=eG[XY++];var eL=eG[XY++];var eN=eG[XY++];var eI=eG[XY++];var k=eG[XY++];var eV=Math.abs(eN);var eF=Zw(eV%Cj)&&!Zw(eV);var v=false;if(eV>=Cj){v=true}else{if(Zw(eV)){v=false}else{v=(eN>-Q2&&eN<0||eN>Q2)===!!k}}var cc=VV(PI+eP*CM(eL));var WH=VV(eM+Z2*P7(eL));if(eF){if(k){eN=Cj-0.0001}else{eN=-Cj+0.0001}v=true;if(XY===9){Z.push("M",cc,WH)}}var eR=VV(PI+eP*CM(eL+eN));var eS=VV(eM+Z2*P7(eL+eN));Z.push("A",VV(eP),VV(Z2),Km(eI*dV),+v,+k,eR,eS);break;case U2.Z:eK="Z";break;case U2.R:var eR=VV(eG[XY++]);var eS=VV(eG[XY++]);var eU=VV(eG[XY++]);var eQ=VV(eG[XY++]);Z.push("M",eR,eS,"L",eR+eU,eS,"L",eR+eU,eS+eQ,"L",eR,eS+eQ,"L",eR,eS);break}eK&&Z.push(eK);for(var eO=0;eO<eT;eO++){Z.push(VV(eG[XY++]))}}return Z.join(" ")}var Gc={};Gc.brush=function(Z){var i=Z.style;var e=Z.__svgEl;if(!e){e=PH("path");Z.__svgEl=e}if(!Z.path){Z.createPathProxy()}var v=Z.path;if(Z.__dirtyPath){v.beginPath();Z.buildPath(v,Z.shape);Z.__dirtyPath=false;var k=WV(v);if(k.indexOf("NaN")<0){DF(e,"d",k)}}Ri(e,i);O4(e,Z.transform);if(i.text!=null){Jk(Z,Z.getBoundingRect())}};var IM={};IM.brush=function(k){var v=k.style;var Z2=v.image;if(Z2 instanceof HTMLImageElement){var e=Z2.src;Z2=e}if(!Z2){return}var WH=v.x||0;var XY=v.y||0;var Z=v.width;var PI=v.height;var i=k.__svgEl;if(!i){i=PH("image");k.__svgEl=i}if(Z2!==k.__imageSrc){BS(i,"href",Z2);k.__imageSrc=Z2}DF(i,"width",Z);DF(i,"height",PI);DF(i,"x",WH);DF(i,"y",XY);O4(i,k.transform);if(v.text!=null){Jk(k,k.getBoundingRect())}};var Kn={};var bQ=new FC();var Jk=function(WH,cc,eU){var eH=WH.style;WH.__dirty&&CY(eH,true);var eF=eH.text;if(eF==null){return}else{eF+=""}var eT=WH.__textSvgEl;if(!eT){eT=PH("text");WH.__textSvgEl=eT}Ri(eT,eH,true);if(WH instanceof FA||WH.style.transformText){O4(eT,WH.transform)}else{if(WH.transform){bQ.copy(cc);bQ.applyTransform(WH.transform);cc=bQ}else{var eQ=WH.transformCoordToGlobal(cc.x,cc.y);cc.x=eQ[0];cc.y=eQ[1]}}var eP;var eG;var eN=eH.textPosition;var eS=eH.textDistance;var PI=eH.textAlign||"left";if(typeof eH.fontSize==="number"){eH.fontSize+="px"}var Z2=eH.font||[eH.fontStyle||"",eH.fontWeight||"",eH.fontSize||"",eH.fontFamily||""].join(" ")||F9;var eM=RA(eH.textVerticalAlign);eU=Hv(eF,Z2,PI,eM);var XY=eU.lineHeight;if(eN instanceof Array){eP=cc.x+eN[0];eG=cc.y+eN[1]}else{var eR=Xm(eN,cc,eS);eP=eR.x;eG=eR.y;eM=RA(eR.textVerticalAlign);PI=eR.textAlign}DF(eT,"alignment-baseline",eM);if(Z2){eT.style.font=Z2}var k=eH.textPadding;DF(eT,"x",eP);DF(eT,"y",eG);var eL=eF.split("\n");var eO=eL.length;var eJ=PI;if(eJ==="left"){eJ="start";k&&(eP+=k[3])}else{if(eJ==="right"){eJ="end";k&&(eP-=k[1])}else{if(eJ==="center"){eJ="middle";k&&(eP+=(k[3]-k[1])/2)}}}var eK=0;if(eM==="baseline"){eK=-eU.height+XY;k&&(eK-=k[2])}else{if(eM==="middle"){eK=(-eU.height+XY)/2;k&&(eG+=(k[0]-k[2])/2)}else{k&&(eK+=k[0])}}if(WH.__text!==eF||WH.__textFont!==Z2){var eI=WH.__tspanList||[];WH.__tspanList=eI;for(var e=0;e<eO;e++){var v=eI[e];if(!v){v=eI[e]=PH("tspan");eT.appendChild(v);DF(v,"alignment-baseline",eM);DF(v,"text-anchor",eJ)}else{v.innerHTML=""}DF(v,"x",eP);DF(v,"y",eG+e*XY+eK);v.appendChild(document.createTextNode(eL[e]))}for(;e<eI.length;e++){eT.removeChild(eI[e])}eI.length=eO;WH.__text=eF;WH.__textFont=Z2}else{if(WH.__tspanList.length){var Z=WH.__tspanList.length;for(var e=0;e<Z;++e){var v=WH.__tspanList[e];if(v){DF(v,"x",eP);DF(v,"y",eG+e*XY+eK)}}}}};function RA(Z){if(Z==="middle"){return"middle"}else{if(Z==="bottom"){return"baseline"}else{return"hanging"}}}Kn.drawRectText=Jk;Kn.brush=function(Z){var e=Z.style;if(e.text!=null){e.textPosition=[0,0];Jk(Z,{x:e.x||0,y:e.y||0,width:0,height:0},Z.getBoundingRect())}};function Tw(){}Tw.prototype={diff:function(Z2,eJ,e){if(!e){e=function(eK,i){return eK===i}}this.equals=e;var eI=this;Z2=Z2.slice();eJ=eJ.slice();var PI=eJ.length;var eH=Z2.length;var v=1;var XY=PI+eH;var eF=[{newPos:-1,components:[]}];var Z=this.extractCommon(eF[0],eJ,Z2,0);if(eF[0].newPos+1>=PI&&Z+1>=eH){var cc=[];for(var k=0;k<eJ.length;k++){cc.push(k)}return[{indices:cc,count:eJ.length}]}function eG(){for(var eL=-1*v;eL<=v;eL+=2){var i;var eM=eF[eL-1];var eN=eF[eL+1];var eP=(eN?eN.newPos:0)-eL;if(eM){eF[eL-1]=undefined}var eO=eM&&eM.newPos+1<PI;var eK=eN&&0<=eP&&eP<eH;if(!eO&&!eK){eF[eL]=undefined;continue}if(!eO||(eK&&eM.newPos<eN.newPos)){i=PX(eN);eI.pushComponent(i.components,undefined,true)}else{i=eM;i.newPos++;eI.pushComponent(i.components,true,undefined)}eP=eI.extractCommon(i,eJ,Z2,eL);if(i.newPos+1>=PI&&eP+1>=eH){return Nq(eI,i.components,eJ,Z2)}else{eF[eL]=i}}v++}while(v<=XY){var WH=eG();if(WH){return WH}}},pushComponent:function(e,k,Z){var i=e[e.length-1];if(i&&i.added===k&&i.removed===Z){e[e.length-1]={count:i.count+1,added:k,removed:Z}}else{e.push({count:1,added:k,removed:Z})}},extractCommon:function(e,Z2,PI,XY){var v=Z2.length;var WH=PI.length;var k=e.newPos;var Z=k-XY;var i=0;while(k+1<v&&Z+1<WH&&this.equals(Z2[k+1],PI[Z+1])){k++;Z++;i++}if(i){e.components.push({count:i})}e.newPos=k;return Z},tokenize:function(Z){return Z.slice()},join:function(Z){return Z.slice()}};function Nq(k,PI,eF,v){var cc=0;var eG=PI.length;var Z=0;var e=0;for(;cc<eG;cc++){var WH=PI[cc];if(!WH.removed){var Z2=[];for(var XY=Z;XY<Z+WH.count;XY++){Z2.push(XY)}WH.indices=Z2;Z+=WH.count;if(!WH.added){e+=WH.count}}else{var Z2=[];for(var XY=e;XY<e+WH.count;XY++){Z2.push(XY)}WH.indices=Z2;e+=WH.count}}return PI}function PX(Z){return{newPos:Z.newPos,components:Z.components.slice(0)}}var cW=new Tw();var Yj=function(e,i,Z){return cW.diff(e,i,Z)};var Nt="0";var VT="1";function JP(Z,i,e){this._svgRoot=Z;this._tagNames=typeof i==="string"?[i]:i;this._markLabel=e;this.nextId=0}JP.prototype.createElement=PH;JP.prototype.getDefs=function(i){var Z=this._svgRoot;var e=this._svgRoot.getElementsByTagName("defs");if(e.length===0){if(i){e=Z.insertBefore(this.createElement("defs"),Z.firstChild);if(!e.contains){e.contains=function(k){var PI=e.children;if(!PI){return false}for(var v=PI.length-1;v>=0;--v){if(PI[v]===k){return true}}return false}}return e}else{return null}}else{return e[0]}};JP.prototype.update=function(i,k){if(!i){return}var e=this.getDefs(false);if(i._dom&&e.contains(i._dom)){if(typeof k==="function"){k()}}else{var Z=this.add(i);if(Z){i._dom=Z}}};JP.prototype.addDom=function(Z){var e=this.getDefs(true);e.appendChild(Z)};JP.prototype.removeDom=function(e){var Z=this.getDefs(false);Z.removeChild(e._dom)};JP.prototype.getDoms=function(){var e=this.getDefs(false);if(!e){return[]}var Z=[];Dc(this._tagNames,function(i){var k=e.getElementsByTagName(i);Z=Z.concat([].slice.call(k))});return Z};JP.prototype.markAllUnused=function(){var Z=this.getDoms();var e=this;Dc(Z,function(i){i[e._markLabel]=Nt})};JP.prototype.markUsed=function(Z){if(Z){Z[this._markLabel]=VT}};JP.prototype.removeUnused=function(){var i=this.getDefs(false);if(!i){return}var Z=this.getDoms();var e=this;Dc(Z,function(k){if(k[e._markLabel]!==VT){i.removeChild(k)}})};JP.prototype.getSvgProxy=function(Z){if(Z instanceof Lw){return Gc}else{if(Z instanceof G4){return IM}else{if(Z instanceof FA){return Kn}else{return Gc}}}};JP.prototype.getTextSvgElement=function(Z){return Z.__textSvgEl};JP.prototype.getSvgElement=function(Z){return Z.__svgEl};function Yq(Z){JP.call(this,Z,["linearGradient","radialGradient"],"__gradient_in_use__")}JO(Yq,JP);Yq.prototype.addWithoutUpdate=function(Z,e){if(e&&e.style){var i=this;Dc(["fill","stroke"],function(WH){if(e.style[WH]&&(e.style[WH].type==="linear"||e.style[WH].type==="radial")){var PI=e.style[WH];var v=i.getDefs(true);var k;if(PI._dom){k=PI._dom;if(!v.contains(PI._dom)){i.addDom(k)}}else{k=i.add(PI)}i.markUsed(e);var XY=k.getAttribute("id");Z.setAttribute(WH,"url(#"+XY+")")}})}};Yq.prototype.add=function(e){var Z;if(e.type==="linear"){Z=this.createElement("linearGradient")}else{if(e.type==="radial"){Z=this.createElement("radialGradient")}else{Qw("Illegal gradient type.");return null}}e.id=e.id||this.nextId++;Z.setAttribute("id","zr-gradient-"+e.id);this.updateDom(e,Z);this.addDom(Z);return Z};Yq.prototype.update=function(e){var Z=this;JP.prototype.update.call(this,e,function(){var i=e.type;var k=e._dom.tagName;if(i==="linear"&&k==="linearGradient"||i==="radial"&&k==="radialGradient"){Z.updateDom(e,e._dom)}else{Z.removeDom(e);Z.add(e)}})};Yq.prototype.updateDom=function(v,Z){if(v.type==="linear"){Z.setAttribute("x1",v.x);Z.setAttribute("y1",v.y);Z.setAttribute("x2",v.x2);Z.setAttribute("y2",v.y2)}else{if(v.type==="radial"){Z.setAttribute("cx",v.x);Z.setAttribute("cy",v.y);Z.setAttribute("r",v.r)}else{Qw("Illegal gradient type.");return}}if(v.global){Z.setAttribute("gradientUnits","userSpaceOnUse")}else{Z.setAttribute("gradientUnits","objectBoundingBox")}Z.innerHTML="";var WH=v.colorStops;for(var e=0,PI=WH.length;e<PI;++e){var k=this.createElement("stop");k.setAttribute("offset",WH[e].offset*100+"%");k.setAttribute("stop-color",WH[e].color);Z.appendChild(k)}v._dom=Z};Yq.prototype.markUsed=function(Z){if(Z.style){var e=Z.style.fill;if(e&&e._dom){JP.prototype.markUsed.call(this,e._dom)}e=Z.style.stroke;if(e&&e._dom){JP.prototype.markUsed.call(this,e._dom)}}};function u(Z){JP.call(this,Z,"clipPath","__clippath_in_use__")}JO(u,JP);u.prototype.update=function(e){var Z=this.getSvgElement(e);if(Z){this.updateDom(Z,e.__clipPaths,false)}var i=this.getTextSvgElement(e);if(i){this.updateDom(i,e.__clipPaths,true)}this.markUsed(e)};u.prototype.updateDom=function(PI,eF,k){if(eF&&eF.length>0){var Z2=this.getDefs(true);var XY=eF[0];var e;var WH;var i=k?"_textDom":"_dom";if(XY[i]){WH=XY[i].getAttribute("id");e=XY[i];if(!Z2.contains(e)){Z2.appendChild(e)}}else{WH="zr-clip-"+this.nextId;++this.nextId;e=this.createElement("clipPath");e.setAttribute("id",WH);Z2.appendChild(e);XY[i]=e}var Z=this.getSvgProxy(XY);if(XY.transform&&XY.parent.invTransform&&!k){var v=Array.prototype.slice.call(XY.transform);OY(XY.transform,XY.parent.invTransform,XY.transform);Z.brush(XY);XY.transform=v}else{Z.brush(XY)}var cc=this.getSvgElement(XY);e.appendChild(cc.cloneNode());PI.setAttribute("clip-path","url(#"+WH+")");if(eF.length>1){this.updateDom(e,eF.slice(1),k)}}else{if(PI){PI.setAttribute("clip-path","none")}}};u.prototype.markUsed=function(e){var Z=this;if(e.__clipPaths&&e.__clipPaths.length>0){Dc(e.__clipPaths,function(i){if(i._dom){JP.prototype.markUsed.call(Z,i._dom)}if(i._textDom){JP.prototype.markUsed.call(Z,i._textDom)}})}};function Aw(Z){return parseInt(Z,10)}function La(Z){if(Z instanceof Lw){return Gc}else{if(Z instanceof G4){return IM}else{if(Z instanceof FA){return Kn}else{return Gc}}}}function PE(e,Z){return Z&&e&&Z.parentNode!==e}function OF(i,Z,e){if(PE(i,Z)&&e){var k=e.nextSibling;k?i.insertBefore(Z,k):i.appendChild(Z)}}function Vd(e,Z){if(PE(e,Z)){var i=e.firstChild;i?e.insertBefore(Z,i):e.appendChild(Z)}}function KR(e,Z){if(Z&&e&&Z.parentNode===e){e.removeChild(Z)}}function Gk(Z){return Z.__textSvgEl}function QK(Z){return Z.__svgEl}var WJ=function(e,Z){this.root=e;this.storage=Z;var k=PH("svg");k.setAttribute("xmlns","http://www.w3.org/2000/svg");k.setAttribute("version","1.1");k.setAttribute("baseProfile","full");k.style["user-select"]="none";this.gradientManager=new Yq(k);this.clipPathManager=new u(k);var i=document.createElement("div");i.style.cssText="overflow: hidden;";this._svgRoot=k;this._viewport=i;e.appendChild(i);i.appendChild(k);this.resize();this._visibleList=[]};WJ.prototype={constructor:WJ,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var Z=this.getViewportRoot();if(Z){return{offsetLeft:Z.offsetLeft||0,offsetTop:Z.offsetTop||0}}},refresh:function(){var Z=this.storage.getDisplayList(true);this._paintList(Z)},_paintList:function(eK){this.gradientManager.markAllUnused();this.clipPathManager.markAllUnused();var eH=this._svgRoot;var eJ=this._visibleList;var e=eK.length;var v=[];var Z2;for(Z2=0;Z2<e;Z2++){var eI=eK[Z2];var Z=La(eI);if(!eI.invisible){if(eI.__dirty){Z&&Z.brush(eI);this.clipPathManager.update(eI);if(eI.style){this.gradientManager.update(eI.style.fill);this.gradientManager.update(eI.style.stroke)}eI.__dirty=false}v.push(eI)}}var WH=Yj(eJ,v);var PI;for(Z2=0;Z2<WH.length;Z2++){var eF=WH[Z2];if(eF.removed){for(var XY=0;XY<eF.count;XY++){var eI=eJ[eF.indices[XY]];var cc=QK(eI);var eG=Gk(eI);KR(eH,cc);KR(eH,eG)}}}for(Z2=0;Z2<WH.length;Z2++){var eF=WH[Z2];if(eF.added){for(var XY=0;XY<eF.count;XY++){var eI=v[eF.indices[XY]];var cc=QK(eI);var eG=Gk(eI);PI?OF(eH,cc,PI):Vd(eH,cc);if(cc){OF(eH,eG,cc)}else{if(PI){OF(eH,eG,PI)}else{Vd(eH,eG)}}OF(eH,eG,cc);PI=eG||cc||PI;this.gradientManager.addWithoutUpdate(cc,eI);this.clipPathManager.markUsed(eI)}}else{if(!eF.removed){for(var XY=0;XY<eF.count;XY++){var eI=v[eF.indices[XY]];PI=cc=Gk(eI)||QK(eI)||PI;this.gradientManager.markUsed(eI);this.gradientManager.addWithoutUpdate(cc,eI);this.clipPathManager.markUsed(eI)}}}}this.gradientManager.removeUnused();this.clipPathManager.removeUnused();this._visibleList=v},_getDefs:function(i){var Z=this._svgRoot;var e=this._svgRoot.getElementsByTagName("defs");if(e.length===0){if(i){var e=Z.insertBefore(PH("defs"),Z.firstChild);if(!e.contains){e.contains=function(k){var PI=e.children;if(!PI){return false}for(var v=PI.length-1;v>=0;--v){if(PI[v]===k){return true}}return false}}return e}else{return null}}else{return e[0]}},resize:function(){var k=this._getWidth();var e=this._getHeight();if(this._width!==k&&this._height!==e){this._width=k;this._height=e;var i=this._viewport.style;i.width=k+"px";i.height=e+"px";var Z=this._svgRoot;Z.setAttribute("width",k);Z.setAttribute("height",e)}},getWidth:function(){return this._getWidth()},getHeight:function(){return this._getHeight()},_getWidth:function(){var Z=this.root;var e=document.defaultView.getComputedStyle(Z);return((Z.clientWidth||Aw(e.width))-Aw(e.paddingLeft)-Aw(e.paddingRight))|0},_getHeight:function(){var Z=this.root;var e=document.defaultView.getComputedStyle(Z);return((Z.clientHeight||Aw(e.height))-Aw(e.paddingTop)-Aw(e.paddingBottom))|0},dispose:function(){this.root.innerHTML="";this._svgRoot=this._viewport=this.storage=null},clear:function(){if(this._viewport){this.root.removeChild(this._viewport)}},pathToSvg:function(){this.refresh();var Z=this._svgRoot.outerHTML;return"data:img/svg+xml;utf-8,"+unescape(Z)}};function Gx(Z){return function(){Qw('In SVG mode painter not support method "'+Z+'"')}}Dc(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(Z){WJ.prototype[Z]=Gx(Z)});CA("svg",WJ);Y7.version=Rn;Y7.dependencies=Z8;Y7.PRIORITY=cu;Y7.init=GC;Y7.connect=Ff;Y7.disConnect=KA;Y7.disconnect=Am;Y7.dispose=UG;Y7.getInstanceByDom=BG;Y7.getInstanceById=Tj;Y7.registerTheme=SU;Y7.registerPreprocessor=IL;Y7.registerProcessor=bI;Y7.registerPostUpdate=KC;Y7.registerAction=R0;Y7.registerCoordinateSystem=QX;Y7.getCoordinateSystemDimensions=Jp;Y7.registerLayout=el;Y7.registerVisual=Ai;Y7.registerLoading=bE;Y7.extendComponentModel=GV;Y7.extendComponentView=bX;Y7.extendSeriesModel=Q6;Y7.extendChartView=WQ;Y7.setCanvasCreator=T6;Y7.registerMap=LN;Y7.getMap=Ac;Y7.dataTool=T0;Y7.zrender=cj;Y7.graphic=RZ;Y7.number=Hn;Y7.format=RO;Y7.throttle=ZF;Y7.helper=Ut;Y7.matrix=Za;Y7.vector=Fz;Y7.color=EN;Y7.util=Rh;Y7.List=Lu;Y7.Model=dc;Y7.Axis=T1;Y7.env=PF;Y7.parseGeoJson=FG})));